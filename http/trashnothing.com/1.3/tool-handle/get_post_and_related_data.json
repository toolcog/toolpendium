{
  "name": "get_post_and_related_data",
  "description": "Retrieve a post and other data related to the post that is useful for displaying the post such as data about the user who posted the post and the groups the post was posted on.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "post_id": {
        "type": "string",
        "description": "The ID of the post to retrieve."
      }
    },
    "required": [
      "post_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://trashnothing.com/api/v1.3/posts/{post_id}/display"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**author**",
              {
                "$ul": [
                  "**about_me**: A short bio a user has written about themselves to help other members get to know them better. May be null if the user has not written anything about themselves.",
                  "**country**: A 2 letter country code for the country that has been automatically detected for the user (see https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2 ). May be null if no country has been set.",
                  [
                    "**feedback**",
                    {
                      "$ul": [
                        "**percent_positive**: The percent of feedback that this user has received in the last year that was positive. May be null if a user has not received enough feedback to calculate a percentage.",
                        "**restriction**: If the current user can leave positive or negative feedback on this user then restriction is null. <br /><br /> Otherwise, restriction is set to a string that explains why feedback is currently restricted and what type of feedback is restricted. The string will be one of the following:  no-recent-messages, negative-score, moderator, [days]-day-wait-for-negative <br /><br /> - **no-recent-messages**: The current user has not received any messages from this user in the last 30 days. <br /> - **negative-score**: The current user has a negative feedback and will not be able to leave feedback until their score is >= 0. <br /> - **moderator**: The user is a moderator and leaving feedback on moderators is not currently supported. <br /> - **[days]-day-wait-for-negative**: Positive feedback is not restricted but the current user must wait",
                        "**score**: The feedback score of this user.  Higher scores are better.   Scores are calculated by substracting the total number of negative feedback from the total number of positive feedback that a user has received.  May be null if a user has not received enough feedback to calculate a score."
                      ]
                    }
                  ],
                  "**firstname**: The first name of the user (may be null).",
                  "**lastname**: The last name of the user (may be null).",
                  "**member_since**: The date and time when the user first became publicly active on a group (the date may be older than when the user signed up).",
                  "**profile_image**: A URL to a profile image for the user.  Profile images sizes vary based on the source (Google, Facebook, Gravatar, etc) and some can be as small as 64px by 64px.  Will be null for api key requests and requests where the oauth user doesn't belong to any of the same groups as this user.",
                  "**reply_time**: An estimate of how many seconds it takes this user to reply to messages. May be null when there is not enough data to calculate an estimate.",
                  "**user_id**",
                  "**username**: A username that can be displayed for the user (the username is NOT guaranteed to be unique). Will be null for api key requests and requests where the oauth user doesn't belong to any of the same groups as this user."
                ]
              }
            ],
            "**author_offer_count**: Count of offer posts made by the post author in the last 90 days.",
            "**author_posts**: Other active posts from the post author in the last 90 days. A maximum of 30 posts will be returned.",
            "**author_wanted_count**: Count of wanted posts made by the post author in the last 90 days.",
            "**bookmarked**: Whether or not the current user has bookmarked this post.  Will be null for api key requests and for the current users' posts.",
            "**feedback**: Feedback the current user has left on the post author.",
            "**groups**: The groups the post is published on.",
            [
              "**post**: An offer, wanted, admin, taken or received post.",
              {
                "$ul": [
                  "**content**",
                  "**date**: The UTC date and time when the post was published.",
                  "**expiration**: The UTC date and time when the post will expire.   Currently only offer and wanted posts expire.  For all other posts, expiration is always null.",
                  "**footer**: Some groups add footers to posts that are separate and sometimes unrelated to the post itself - such as reminders about group rules or features (may be null).",
                  "**group_id**: The group ID of the post.  For public posts, this is always null.",
                  "**latitude**: May be null if a post hasn't been mapped.",
                  "**longitude**: May be null if a post hasn't been mapped.",
                  "**outcome**: For offer and wanted posts, this indicates the outcome of the post which is null if no outcome has been set yet.   <br /><br /> Offer post outcomes will be one of: satisfied, withdrawn, promised, expired <br /><br /> Wanted post outcomes will be one of: satisfied, withdrawn, expired <br /><br /> For all other posts, outcome is always null.",
                  "**photos**: Details about the photos associated with this post (may be null if there are no photos).",
                  "**post_id**",
                  "**repost_count**: The count of how many times this post has been reposted in the last 90 days. A value of zero is used to indicate that the post is not a repost. The count is specific to the source of the post (eg. the specific group the post is on). If a post is crossposted to multiple groups, the repost_count of the post on each group may be different for each group depending on how many times the post has been posted on that group in the last 90 days.",
                  "**reselling**: For wanted posts, whether the item is being requested in order to resell it or not. Will be null for all posts that are not wanted posts and for wanted posts where the poster hasn't indicated whether or not they intend to resell the item they are requesting.",
                  "**source**: The source of the post.  One of: groups, trashnothing, open_archive_groups.  A value of groups or open_archive_groups indicates the post is from a group and the group_id field will contain the ID of the group. A value of trashnothing indicates the post is a public post not associated with any group.",
                  "**title**",
                  "**type**: The type of post.  One of: offer, taken, wanted, received, admin",
                  "**url**: The link to use to view the post on the trash nothing site.",
                  "**user_id**"
                ]
              }
            ],
            "**replied**: Whether or not the current user has replied to this post.  Will be null for api key requests and for the current users' posts.",
            "**user_can_reply**: Whether or not the current user (if any) can reply to this post. Unverified users cannot reply to posts until they verify their account.",
            "**viewed**: Whether or not the current user has previously viewed this post.  Will be null for api key requests and for the current users' posts."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
