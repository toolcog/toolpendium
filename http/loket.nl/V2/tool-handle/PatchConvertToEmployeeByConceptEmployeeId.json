{
  "name": "PatchConvertToEmployeeByConceptEmployeeId",
  "description": "__Activity name :__ PatchConvertToEmployeeByConceptEmployeeId\n\nThis endpoint \"converts\" the conceptEmployee to an actual employee in Loket. This means creating a number of records including Employee, Employment, WorkingHours, Wage etc. If the promotion is succesful the concept employee record will be deleted.\n\nThe GUID of the conceptEmployee will be copied over to the GUID of the newly created Employee.\n\nBefore performing these steps, quite a number of validations are performed to ensure that the provided information can be used to create a functionally valid employee.\n\n\nIf the employeeNumber is empty then this will be set automatically for the employee. (i.e. highest available number +1)\n\n__Additional functionality :__\n* It is possible to call an alternative functionality closely related to this functionality. This additional functionality will perform the validation ONLY, and it will NOT convert the conceptEmployee to an actual employee even when all validation rules are successful. Other than not performing the actual step of converting the employee the endpoint will behave identically to the actual endpoint.\n* This functionality can be applied by setting the optional X-ValidateOnly header to true\n",
  "parameters": {
    "type": "object",
    "properties": {
      "conceptEmployeeId": {
        "format": "uuid",
        "type": "string",
        "description": "The unique identifier of the concept employee"
      },
      "Authorization": {
        "example": "Bearer <TOKEN>",
        "pattern": "^Bearer\\s[\\w-]+$",
        "type": "string",
        "description": "A valid Bearer token for authorizing the request."
      },
      "Accept": {
        "example": "application/json;version=2018-01-01",
        "type": "string",
        "description": "The accept header is used to influence what type of output is returned and in most cases the version of the output"
      },
      "X-ValidateOnly": {
        "type": "boolean",
        "description": "If set to true only the validations will be performed no changes will be committed."
      }
    },
    "required": [
      "conceptEmployeeId",
      "Authorization",
      "Accept"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "https://api.loket.nl/v2/providers/employers/conceptemployees/{conceptEmployeeId}/convertToEmployee"
    },
    "headers": {
      "Authorization": {
        "$": "Authorization"
      },
      "Accept": {
        "$": "Accept"
      },
      "X-ValidateOnly": {
        "$": "X-ValidateOnly"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "The version of the resource",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**version**",
              {
                "$ul": [
                  "**obsoleteDate**: The date (can be null) on which the `resourceVersion` is no longer supported/available",
                  "**resourceVersion**: The resource version of the object in the response"
                ]
              }
            ],
            "**messages**",
            "**content**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
