{
  "name": "UndoPayrollRunByPayrollRunId",
  "description": "__Activity name :__ UndoPayrollRunByPayrollRunId This is a controller endpoint to perform an action.\n\nIn the older Loket GUI this specific action is referred to as 'Verwijderen loonrun' If this action is performed succesfully then the payroll run will be 'deleted' in the sense that its results will be undone. Please note that situations where an approved payroll run would have to be 'undone' should be generally be avoided. Preferably any mistakes or consistencies should be picked out at an earlier stage in the payroll process.\n\nThis action may only be performed succesfully of the following requirements are met;\n\n* The payroll run is the very last payroll run that has been approved within this payroll administration\n* It is not possible to undo a  payroll run if there is currently a payroll run with status 0  (to be processed) or 1 (awaiting approval) within the payroll administation.\n* Additionally, no related (external) information should still be present for the given payroll run. This will be validated by the endpoint.\n\n__Metadata :__  Possible options for fields of the type 'metadata' can be acquired (GET) by adding `/metadata` to the POST URL.\n\n__Defaults :__ Defaults endpoint is available for this controller endpoint by adding /defaults.",
  "parameters": {
    "type": "object",
    "properties": {
      "payrollrunId": {
        "format": "uuid",
        "type": "string",
        "description": "The unique identifier of the payroll run"
      },
      "Authorization": {
        "example": "Bearer <TOKEN>",
        "pattern": "^Bearer\\s[\\w-]+$",
        "type": "string",
        "description": "A valid Bearer token for authorizing the request."
      },
      "Accept": {
        "example": "application/json;version=2018-01-01",
        "type": "string",
        "description": "The accept header is used to influence what type of output is returned and in most cases the version of the output"
      }
    },
    "required": [
      "payrollrunId",
      "Authorization",
      "Accept"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.loket.nl/v2/providers/employers/payrolladministrations/payrollruns/{payrollrunId}/undo"
    },
    "headers": {
      "Authorization": {
        "$": "Authorization"
      },
      "Accept": {
        "$": "Accept"
      }
    }
  },
  "responses": {
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "The version of the resource",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**version**",
              {
                "$ul": [
                  "**obsoleteDate**: The date (can be null) on which the `resourceVersion` is no longer supported/available",
                  "**resourceVersion**: The resource version of the object in the response"
                ]
              }
            ],
            "**messages**",
            "**content**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
