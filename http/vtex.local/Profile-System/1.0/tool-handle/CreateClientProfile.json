{
  "name": "CreateClientProfile",
  "description": "Creates new client profile.\n\r\n\r> Since your store's profile schema is customizable, the schema and examples presented below may differ from yours. Your integration must be adapted accordingly.\n\r\n\r> The `id` field returned by this request is the `profileId` used to retrieve information on a specific profile later.\n\r\n\r> Learn more about the [Profile System](https://developers.vtex.com/vtex-rest-api/docs/profile-system) and its other API endpoints.",
  "parameters": {
    "type": "object",
    "properties": {
      "Content-Type": {
        "example": "application/json",
        "type": "string",
        "description": "Type of the content being sent."
      },
      "Accept": {
        "example": "application/json",
        "type": "string",
        "description": "HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand."
      },
      "ttl": {
        "example": 365,
        "type": "integer",
        "description": "This parameter sets the the Time To Live (TTL), in days, of the specific document being created or updated with this request. After this period of time from the moment of the request, the document is deleted. By sending this parameter you override the TTL set for the schema.\n\r\n\r> Currently, the available default document schemas have no TTL. This means that documents are stored indefinitely, unless a TTL is sent when creating or updating."
      },
      "body": {
        "$ref": "#/$defs/profile"
      }
    },
    "required": [
      "Content-Type",
      "Accept"
    ],
    "$defs": {
      "profile": {
        "properties": {
          "birthDate": {
            "description": "Client's birth date in ISO 8601 format.",
            "example": "1925-11-17",
            "type": "string"
          },
          "document": {
            "description": "Client's document.",
            "example": "12345678900",
            "type": "string"
          },
          "documentType": {
            "description": "Type of document informed in `document`.",
            "example": "CPF",
            "type": "string"
          },
          "email": {
            "description": "Client's email address.",
            "example": "john.doe@example.com",
            "type": "string"
          },
          "firstName": {
            "description": "Client's first name.",
            "example": "John",
            "type": "string"
          },
          "lastName": {
            "description": "Client's last name.",
            "example": "Doe",
            "type": "string"
          }
        },
        "required": [
          "firstName",
          "lastName",
          "email",
          "document",
          "documentType"
        ],
        "title": "Profile.",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://vtex.local/api/storage/profile-system/profiles{?ttl}"
    },
    "headers": {
      "Content-Type": {
        "$": "Content-Type"
      },
      "Accept": {
        "$": "Accept"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
