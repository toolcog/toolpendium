{
  "name": "CancelOrder",
  "description": "You should use this endpoint to cancel an order by its order identification number (the `orderId`).\n\nA common scenario is one where the seller has a problem with the order fulfillment and needs to request the order cancellation to the marketplace. To do this, the seller would need to make this request, passing the `orderId` in the URL.\n\nYou should expect a response with the date when the notification was received, the orderId, and a receipt protocol code.\n\nBe aware that if the order status is already `Invoiced`, the order can only be canceled if—before using this request—you send a return invoice through the [Order Invoice Notification endpoint](https://developers.vtex.com/reference/invoice#invoicenotification).\n\r\n\r> The `Cancel order` resource is needed to use this API request. This is included in `OMS - Full access` and `IntegrationProfile - Fulfillment Oms`, among other default roles available in the Admin. Learn more about the [License manager roles and resources](https://help.vtex.com/en/tutorial/roles--7HKK5Uau2H6wxE1rH5oRbc#).",
  "parameters": {
    "type": "object",
    "properties": {
      "Accept": {
        "default": "application/json",
        "type": "string",
        "description": "HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand."
      },
      "Content-Type": {
        "default": "application/json",
        "type": "string",
        "description": "Describes the type of the content being sent."
      },
      "orderId": {
        "example": "1172452900788-01",
        "type": "string",
        "description": "ID that identifies the order in the seller."
      },
      "body": {
        "properties": {
          "reason": {
            "default": "Unexpected stock shortage",
            "description": "Reason for cancelling the order.",
            "type": "string"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "Accept",
      "Content-Type",
      "orderId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://vtex.local/api/oms/pvt/orders/{orderId}/cancel"
    },
    "headers": {
      "Accept": {
        "$": "Accept"
      },
      "Content-Type": {
        "$": "Content-Type"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**date**: Date and time when the notification was received.",
            "**orderId**: Identification of the order in the seller.",
            "**receipt**: Protocol code generated by the update. It may be `null`."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
