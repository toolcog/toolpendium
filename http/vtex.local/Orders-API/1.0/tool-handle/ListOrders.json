{
  "name": "ListOrders",
  "description": "Retrieves a list of orders according to the filters described below. \r\n\r\nThe limit of information retrieval is 30 pages, the default number of orders per page is 15 and it is possible to configure it up to 100 using the  `per_page` parameter. \r\n\r\n Be aware that as of October 3rd, 2018, this endpoint will not return the `items` property. \n\r\n\r> This should **not** be used for integrations. Use the [orders Feed or hook](https://developers.vtex.com/docs/guides/orders-feed) for this purpose.\n\r\n\rThis endpoint returns only orders that already have been indexed, which takes approximately four minutes. Because of this, the data retrieved may present inconsistencies. To get live up-to-date information and [build order integrations](https://developers.vtex.com/vtex-rest-api/docs/erp-integration-set-up-order-integration) use the [orders Feed or hook](https://developers.vtex.com/docs/guides/orders-feed).\n\r\n> ðŸ“˜ Onboarding guide \r\n>\r\n> Check the new [Orders onboarding guide](https://developers.vtex.com/vtex-rest-api/docs/orders-overview). We created this guide to improve the onboarding experience for developers at VTEX. It assembles all documentation on our Developer Portal about Orders and is organized by focusing on the developer's journey.\r\n\r\n",
  "parameters": {
    "type": "object",
    "properties": {
      "Accept": {
        "default": "application/json",
        "type": "string",
        "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand."
      },
      "Content-Type": {
        "default": "application/json",
        "type": "string",
        "description": "Type of the content being sent."
      },
      "orderBy": {
        "default": "v502556llux-01,asc",
        "type": "string",
        "description": "You can retrieve orders lists filtering by an `OrderField` combined with an `OrderType`. To do so, you have to concatenate them: `orderBy={{OrderField}},{{OrderType}}`. \r\n- `OrderField` values accepted: `creationDate`, `orderId`, `items`, `totalValue` and `origin`. \r\n- `OrderType` values accepted: `asc` and `desc`."
      },
      "page": {
        "default": 10,
        "format": "int32",
        "type": "integer",
        "description": "Define the number of pages you wish to retrieve, restricted to the limit of 30 pages."
      },
      "per_page": {
        "default": 15,
        "format": "int32",
        "type": "integer",
        "description": "Quantity of orders for each page, the default value is 15 and it goes up to 100 orders per page. Be aware that the limit of retrieval ofthis endpoint is 30 pages."
      },
      "f_creationDate": {
        "default": "creationDate:[2016-01-01T02:00:00.000Z TO 2021-01-01T01:59:59.999Z]",
        "type": "string",
        "description": "Concatened value sufix `{{creationDate}}` and range date in Timestamp format. To use the `utc` query parameter, to filter orders by time zone, you must also fill the `f_creationDate` date parameter."
      },
      "f_hasInputInvoice": {
        "default": false,
        "type": "boolean",
        "description": "Filters list to return only orders with non `null` values for the `invoiceInput` field."
      },
      "q": {
        "default": "- OrderID: v212333lux-02 \r\n- Client email: taylor@email.com \r\n- Client document: 21133355524 \r\n- Client name: Taylor",
        "type": "string",
        "description": "This parameter filters using Fulltext and accepts the values below. Be aware that the `+` caracter is not allowed in Fulltext Search. \r\n- Order Id \r\n- Client email \r\n- Client document \r\n- Client name"
      },
      "utc": {
        "default": -2000,
        "format": "int32",
        "type": "integer",
        "description": "Converts orders' time zone to the Universal Time Coordinated (UTC) format and shows the amount of orders set for that UTC, up to the limit of 30 pages. For it to work properly, you have to associate it with the `f_creationDate` parameter."
      },
      "f_shippingEstimate": {
        "default": "0.days",
        "type": "string",
        "description": "You can filter orders by shipping estimate time in days by concatenating the desired number of days with the sufix `.days`. For example: \r\n- Next 7 days: `7.days` \r\n- Tomorrow: `1.days` \r\n- Today: `0.days` \r\n- Late: `-1.days`"
      },
      "f_invoicedDate": {
        "default": "invoicedDate:[2022-01-01T02:00:00.000Z TO 2022-01-02T01:59:59.999Z]",
        "type": "string",
        "description": "You can filter orders by invoiced date by concatenating the sufix `invoicedDate:` with the range date in Timestamp format. For example: \r\n- 1 Day: `invoicedDate:[2022-01-01T02:00:00.000Z TO 2022-01-02T01:59:59.999Z]`\r\n- 1 Month: `invoicedDate:[2022-01-01T02:00:00.000Z TO 2022-02-01T01:59:59.999Z]` \r\n- 1 Year: `invoicedDate:[2022-01-01T02:00:00.000Z TO 2022-01-01T01:59:59.999Z]`"
      },
      "f_authorizedDate": {
        "default": "creationDate:[2022-01-01T02:00:00.000Z TO 2022-01-02T01:59:59.999Z]",
        "type": "string",
        "description": "You can filter orders by creation date by concatenating the sufix `authorizedDate:` with the range date in Timestamp format. For example: \r\n- 1 Day: `authorizedDate:[2022-01-01T02:00:00.000Z TO 2022-01-02T01:59:59.999Z]`\r\n- 1 Month: `authorizedDate:[2022-01-01T02:00:00.000Z TO 2022-02-01T01:59:59.999Z]` \r\n- 1 Year: `authorizedDate:[2022-01-01T02:00:00.000Z TO 2022-01-01T01:59:59.999Z]`"
      },
      "f_UtmSource": {
        "default": "christmas_campaign",
        "type": "string",
        "description": "You can filter orders by using a Universal Transverse Mercator (UTM) source."
      },
      "f_sellerNames": {
        "default": "SellerName",
        "type": "string",
        "description": "You can filter orders by using a seller's name."
      },
      "f_callCenterOperatorName": {
        "default": "Operator%20Name",
        "type": "string",
        "description": "You can filter orders by using a Call Center Operator's identification."
      },
      "f_salesChannel": {
        "default": "Main",
        "type": "string",
        "description": "You can filter orders by sales channel's ([or trade policy](https://help.vtex.com/en/tutorial/how-trade-policies-work--6Xef8PZiFm40kg2STrMkMV)) name."
      },
      "salesChannelId": {
        "default": "1",
        "type": "string",
        "description": "You can filter orders by sales channel's ([or trade policy](https://help.vtex.com/en/tutorial/how-trade-policies-work--6Xef8PZiFm40kg2STrMkMV)) ID."
      },
      "f_affiliateId": {
        "default": "WLM",
        "type": "string",
        "description": "You can filter orders by affiliate ID."
      },
      "f_status": {
        "default": "ready-for-handling",
        "type": "string",
        "description": "You can filter orders by the following [order status](https://help.vtex.com/en/tutorial/order-flow-and-status--tutorials_196): \r\n- `waiting-for-sellers-confirmation` \r\n- `payment-pending` \r\n- `payment-approved` \r\n- `ready-for-handling` \r\n- `handling` \r\n- `invoiced` \r\n- `canceled`"
      },
      "incompleteOrders": {
        "default": true,
        "type": "boolean",
        "description": "When set as `true`, you retrieve [incomplete orders](https://help.vtex.com/en/tutorial/understanding-incomplete-orders), when set as `false`, you retrieve orders that are not incomplete."
      },
      "f_paymentNames": {
        "default": "Visa",
        "type": "string",
        "description": "You can filter orders by payment type."
      },
      "f_RnB": {
        "default": "Free+Shipping",
        "type": "string",
        "description": "You can filter orders by rates and benefits (promotions)."
      },
      "searchField": {
        "default": "\r\n- SKU ID: `25` \r\n- Gift List ID: `11223` \r\n- Transaction ID (TID): `54546300238810034995829230012` \r\n- PCI Connector's Transaction ID (TID): `7032909234899834298423209` \r\n- Payment ID (PID): `2` \r\n- Connector's NSU: `2437281`",
        "type": "string",
        "description": "You can search orders by using one of the following criterias: \r\n- SKU ID - `sku_Ids&sku_Ids` \r\n- Gift List ID - `listId&listId` \r\n- Transaction ID (TID) - `tid&tid` \r\n- PCI Connector's Transaction ID (TID) - `pci_tid&pci_tid` \r\n- Payment ID (PID) - `paymentId&paymentId` \r\n- Connector's NSU - `nsu&nsu`"
      },
      "f_isInstore": {
        "default": true,
        "type": "boolean",
        "description": "When set as `true`, this parameter filters orders made via [inStore](https://help.vtex.com/en/tracks/what-is-instore--zav76TFEZlAjnyBVL5tRc), and when set as `false`, it filters orders that were not made via inStore."
      }
    },
    "required": [
      "Accept",
      "Content-Type",
      "f_creationDate"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://vtex.local/api/oms/pvt/orders{?orderBy,page,per_page,f_creationDate,f_hasInputInvoice,q,utc,f_shippingEstimate,f_invoicedDate,f_authorizedDate,f_UtmSource,f_sellerNames,f_callCenterOperatorName,f_salesChannel,salesChannelId,f_affiliateId,f_status,incompleteOrders,f_paymentNames,f_RnB,searchField,f_isInstore}"
    },
    "headers": {
      "Accept": {
        "$": "Accept"
      },
      "Content-Type": {
        "$": "Content-Type"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ListOrders"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**facets**: ",
            "**list**: ",
            [
              "**paging**",
              {
                "$ul": [
                  "**currentPage**",
                  "**pages**",
                  "**perPage**",
                  "**total**"
                ]
              }
            ],
            [
              "**stats**",
              {
                "$ul": [
                  [
                    "**stats**",
                    {
                      "$ul": [
                        [
                          "**totalItems**",
                          {
                            "$ul": [
                              "**Count**",
                              [
                                "**Facets**",
                                {
                                  "$ul": [
                                    [
                                      "**currencyCode**",
                                      {
                                        "$ul": [
                                          [
                                            "**BRL**",
                                            {
                                              "$ul": [
                                                "**Count**",
                                                "**Facets**",
                                                "**Max**",
                                                "**Mean**",
                                                "**Min**",
                                                "**Missing**",
                                                "**StdDev**",
                                                "**Sum**",
                                                "**SumOfSquares**"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ],
                                    [
                                      "**origin**",
                                      {
                                        "$ul": [
                                          [
                                            "**Fulfillment**",
                                            {
                                              "$ul": [
                                                "**Count**",
                                                "**Facets**",
                                                "**Max**",
                                                "**Mean**",
                                                "**Min**",
                                                "**Missing**",
                                                "**StdDev**",
                                                "**Sum**",
                                                "**SumOfSquares**"
                                              ]
                                            }
                                          ],
                                          [
                                            "**Marketplace**",
                                            {
                                              "$ul": [
                                                "**Count**",
                                                "**Facets**",
                                                "**Max**",
                                                "**Mean**",
                                                "**Min**",
                                                "**Missing**",
                                                "**StdDev**",
                                                "**Sum**",
                                                "**SumOfSquares**"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ],
                              "**Max**",
                              "**Mean**",
                              "**Min**",
                              "**Missing**",
                              "**StdDev**",
                              "**Sum**",
                              "**SumOfSquares**"
                            ]
                          }
                        ],
                        [
                          "**totalValue**",
                          {
                            "$ul": [
                              "**Count**",
                              [
                                "**Facets**",
                                {
                                  "$ul": [
                                    [
                                      "**currencyCode**",
                                      {
                                        "$ul": [
                                          [
                                            "**BRL**",
                                            {
                                              "$ul": [
                                                "**Count**",
                                                "**Facets**",
                                                "**Max**",
                                                "**Mean**",
                                                "**Min**",
                                                "**Missing**",
                                                "**StdDev**",
                                                "**Sum**",
                                                "**SumOfSquares**"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ],
                                    [
                                      "**origin**",
                                      {
                                        "$ul": [
                                          [
                                            "**Fulfillment**",
                                            {
                                              "$ul": [
                                                "**Count**",
                                                "**Facets**",
                                                "**Max**",
                                                "**Mean**",
                                                "**Min**",
                                                "**Missing**",
                                                "**StdDev**",
                                                "**Sum**",
                                                "**SumOfSquares**"
                                              ]
                                            }
                                          ],
                                          [
                                            "**Marketplace**",
                                            {
                                              "$ul": [
                                                "**Count**",
                                                "**Facets**",
                                                "**Max**",
                                                "**Mean**",
                                                "**Min**",
                                                "**Missing**",
                                                "**StdDev**",
                                                "**Sum**",
                                                "**SumOfSquares**"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ],
                              "**Max**",
                              "**Mean**",
                              "**Min**",
                              "**Missing**",
                              "**StdDev**",
                              "**Sum**",
                              "**SumOfSquares**"
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
