{
  "name": "3_SendAdditionalData",
  "description": "The third step to create a new transaction. It will send the additional related data to the transaction, like billig and shipping adress.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-PROVIDER-API-AppKey": {
        "example": "{{X-PROVIDER-API-AppKey}}",
        "type": "string",
        "description": "The AppKey configured by the merchant (optional configuration)"
      },
      "X-PROVIDER-API-AppToken": {
        "example": "{{X-PROVIDER-API-AppToken}}",
        "type": "string",
        "description": "The AppToken configured by the merchant (optional configuration)"
      },
      "Accept": {
        "example": "application/json",
        "type": "string",
        "description": "Media type(s) that is/are acceptable for the response. Default value for payment provider protocol is application/json"
      },
      "Content-Type": {
        "example": "application/json",
        "type": "string",
        "description": "The Media type of the body of the request.  Default value for payment provider protocol is application/json"
      },
      "transactionId": {
        "type": "string",
        "description": "Transaction identification."
      },
      "body": {
        "description": "",
        "items": {
          "$ref": "#/$defs/3.SendAdditionalDataRequest"
        },
        "properties": {
          "name": {
            "description": "Type of data that will be added to the transaction.",
            "type": "string"
          },
          "value": {
            "description": "Data to be added to the transaction.",
            "type": "string"
          }
        },
        "type": "array"
      }
    },
    "required": [
      "X-PROVIDER-API-AppKey",
      "X-PROVIDER-API-AppToken",
      "Accept",
      "Content-Type",
      "transactionId",
      "body"
    ],
    "$defs": {
      "3.SendAdditionalDataRequest": {
        "example": [
          {
            "name": "cart",
            "value": "{\"items\":[{\"id\":\"122323\",\"name\":\"Tenis Preto I\",\"value\":1000,\"quantity\":1,\"shippingDiscount\":0,\"discount\":50},{\"id\":\"122324\",\"name\":\"Tenis Nike Azul\",\"value\":1100,\"quantity\":1,\"shippingDiscount\":0,\"discount\":50}],\"freight\":200,\"tax\":0}"
          },
          {
            "name": "clientProfileData",
            "value": "{\"id\":\"profileId123\",\"email\":\"teste@teste.com\",\"firstName\":\"Joao\",\"lastName\":\"Baptista\",\"document\":\"06134240040\",\"phone\":\"+551433118100\",\"documentType\":\"CPF\",\"corporateName\":null,\"tradeName\":null,\"corporateDocument\":null,\"stateInscription\":null,\"postalCode\":\"22011-050\",\"address\":{\"receiverName\":\"Ellen\",\"postalCode\":\"22011050\",\"city\":\"RIO DE JANEIRO\",\"state\":\"RJ\",\"country\":\"BRA\",\"street\":\"RUA  GENERAL AZEVEDO PIMENTEL\",\"number\":\"12345\",\"neighborhood\":\"COPACABANA\",\"complement\":\"APTO 302\",\"reference\":null},\"gender\":null,\"birthDate\":null,\"corporatePhone\":null,\"isCorporate\":false}"
          },
          {
            "name": "shippingData",
            "value": "{\"receiverName\":\"Rodrigo Saens\",\"postalCode\":\"65035430\",\"city\":\"SAO LUIS\",\"state\":\"MA\",\"country\":\"BRA\",\"street\":\"AV NEWTON  \",\"number\":\"321\",\"neighborhood\":\"MONTE CATELO\",\"complement\":\"APTO 102\",\"reference\":null}"
          }
        ],
        "items": {},
        "properties": {
          "name": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "value"
        ],
        "title": "3.SendAdditionalDataRequest",
        "type": "array"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://vtex.local/api/pvt/transactions/{transactionId}/additional-data"
    },
    "headers": {
      "X-PROVIDER-API-AppKey": {
        "$": "X-PROVIDER-API-AppKey"
      },
      "X-PROVIDER-API-AppToken": {
        "$": "X-PROVIDER-API-AppToken"
      },
      "Accept": {
        "$": "Accept"
      },
      "Content-Type": {
        "$": "Content-Type"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {}
}
