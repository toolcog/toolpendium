{
  "name": "Facetscategory",
  "description": "Retrieves products by store facets. \r\n>⚠️ This endpoint returns a maximum of 50 items per response, so the difference between `_from` and `_to` should not exceed this number. The result order is descending, from the highest product ID to the lowest.\r\n\r\n## Response body example:\r\n\r\n```json\r\n{\r\n\t\"Departments\": [\r\n  \t{\r\n    \t\"Quantity\": 2,\r\n      \"Position\": null,\r\n      \"Name\": \"Beers Beers Mesmo\",\r\n      \"Link\": \"/Beers-Beers-Mesmo/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Beers-Beers-Mesmo/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Beers-Beers-Mesmo\"\r\n     },\r\n     {\r\n     \t\"Quantity\": 2,\r\n      \"Position\": null,\r\n      \"Name\": \"Merch Integration Category ||\",\r\n      \"Link\": \"/Merch-Integration-Category-||/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Merch-Integration-Category-%7C%7C/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Merch-Integration-Category-||\"\r\n     },\r\n     {\r\n      \"Quantity\": 1,\r\n      \"Position\": null,\r\n      \"Name\": \"Jogos\",\r\n      \"Link\": \"/Jogos/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Jogos/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Jogos\"\r\n     },\r\n     {\r\n      \"Quantity\": 3,\r\n      \"Position\": null,\r\n      \"Name\": \"189\",\r\n      \"Link\": \"/189/1?map=c,b\",\r\n      \"LinkEncoded\": \"/189/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"189\"\r\n     },\r\n     {\r\n      \"Quantity\": 1,\r\n      \"Position\": null,\r\n      \"Name\": \"Tests\",\r\n      \"Link\": \"/Tests/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Tests/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Tests\"\r\n     },\r\n     {\r\n      \"Quantity\": 1,\r\n      \"Position\": null,\r\n      \"Name\": \"Accessories\",\r\n      \"Link\": \"/Accessories/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Accessories/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Accessories\"\r\n     },\r\n     {\r\n      \"Quantity\": 2,\r\n      \"Position\": null,\r\n      \"Name\": \"Bars\",\r\n      \"Link\": \"/Bars/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Bars/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Bars\"\r\n     },\r\n     {\r\n      \"Quantity\": 5,\r\n      \"Position\": null,\r\n      \"Name\": \"Categoria Teste Timeout\",\r\n      \"Link\": \"/Categoria-Teste-Timeout/1?map=c,b\",\r\n      \"LinkEncoded\": \"/Categoria-Teste-Timeout/1?map=c,b\",\r\n      \"Map\": \"c\",\r\n      \"Value\": \"Categoria-Teste-Timeout\"\r\n     }\r\n    ],\r\n    \"Brands\": [\r\n     {\r\n      \"Quantity\": 2,\r\n      \"Position\": null,\r\n      \"Name\": \"Merch XP\",\r\n      \"Link\": \"/1/1234600/1/Merch-XP?map=c,c,b,b\",\r\n      \"LinkEncoded\": \"/1/1234600/1/Merch-XP?map=c,c,b,b\",\r\n      \"Map\": \"b\",\r\n      \"Value\": \"Merch-XP\"\r\n     },\r\n     {\r\n      \"Quantity\": 2,\r\n      \"Position\": null,\r\n      \"Name\": \"Zé\",\r\n      \"Link\": \"/1/1234600/1/Ze?map=c,c,b,b\",\r\n      \"LinkEncoded\": \"/1/1234600/1/Ze?map=c,c,b,b\",\r\n      \"Map\": \"b\",\r\n      \"Value\": \"Ze\"\r\n     },\r\n     {\r\n      \"Quantity\": 1,\r\n      \"Position\": null,\r\n      \"Name\": \"Odin\",\r\n      \"Link\": \"/1/1234600/1/Odin?map=c,c,b,b\",\r\n      \"LinkEncoded\": \"/1/1234600/1/Odin?map=c,c,b,b\",\r\n      \"Map\": \"b\",\r\n      \"Value\": \"Odin\"\r\n     },\r\n     {\r\n      \"Quantity\": 2,\r\n      \"Position\": null,\r\n      \"Name\": \"Hoegaarden\",\r\n      \"Link\": \"/1/1234600/1/Hoegaarden?map=c,c,b,b\",\r\n      \"LinkEncoded\": \"/1/1234600/1/Hoegaarden?map=c,c,b,b\",\r\n      \"Map\": \"b\",\r\n      \"Value\": \"Hoegaarden\"\r\n     },\r\n     {\r\n      \"Quantity\": 1,\r\n      \"Position\": null,\r\n      \"Name\": \"Teste marcas\",\r\n      \"Link\": \"/1/1234600/1/Teste-marcas?map=c,c,b,b\",\r\n      \"LinkEncoded\": \"/1/1234600/1/Teste-marcas?map=c,c,b,b\",\r\n      \"Map\": \"b\",\r\n      \"Value\": \"Teste-marcas\"\r\n     },\r\n     {\r\n       \"Quantity\": 1,\r\n       \"Position\": null,\r\n       \"Name\": \"Bitmap Bureau\",\r\n       \"Link\": \"/1/1234600/1/Bitmap-Bureau?map=c,c,b,b\",\r\n       \"LinkEncoded\": \"/1/1234600/1/Bitmap-Bureau?map=c,c,b,b\",\r\n       \"Map\": \"b\",\r\n       \"Value\": \"Bitmap-Bureau\"\r\n     },\r\n      {\r\n        \"Quantity\": 1,\r\n        \"Position\": null,\r\n        \"Name\": \"Sega\",\r\n        \"Link\": \"/1/1234600/1/Sega?map=c,c,b,b\",\r\n        \"LinkEncoded\": \"/1/1234600/1/Sega?map=c,c,b,b\",\r\n        \"Map\": \"b\",\r\n        \"Value\": \"Sega\"\r\n      },\r\n      {\r\n        \"Quantity\": 3,\r\n        \"Position\": null,\r\n        \"Name\": \"Technogym\",\r\n        \"Link\": \"/1/1234600/1/Technogym?map=c,c,b,b\",\r\n        \"LinkEncoded\": \"/1/1234600/1/Technogym?map=c,c,b,b\",\r\n        \"Map\": \"b\",\r\n        \"Value\": \"Technogym\"\r\n      },\r\n      {\r\n        \"Quantity\": 3,\r\n        \"Position\": null,\r\n        \"Name\": \"Aptany\",\r\n        \"Link\": \"/1/1234600/1/Aptany?map=c,c,b,b\",\r\n        \"LinkEncoded\": \"/1/1234600/1/Aptany?map=c,c,b,b\",\r\n        \"Map\": \"b\",\r\n        \"Value\": \"Aptany\"\r\n      },\r\n      {\r\n        \"Quantity\": 1,\r\n        \"Position\": null,\r\n        \"Name\": \"Tectoy\",\r\n        \"Link\": \"/1/1234600/1/Tectoy?map=c,c,b,b\",\r\n        \"LinkEncoded\": \"/1/1234600/1/Tectoy?map=c,c,b,b\",\r\n        \"Map\": \"b\",\r\n        \"Value\": \"Tectoy\"\r\n      }\r\n    ],\r\n      \"SpecificationFilters\": {},\r\n        \"CategoriesTrees\": [\r\n          {\r\n            \"Id\": 1,\r\n            \"Quantity\": 4,\r\n            \"Position\": null,\r\n            \"Name\": \"Beers Beers Mesmo\",\r\n            \"Link\": \"/Beers-Beers-Mesmo/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Beers-Beers-Mesmo/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Beers-Beers-Mesmo\",\r\n            \"Children\": [\r\n              {\r\n                \"Id\": 2,\r\n                \"Quantity\": 1,\r\n                \"Position\": null,\r\n                \"Name\": \"Lager Beers\",\r\n                \"Link\": \"/Beers-Beers-Mesmo/Lager-Beers/1?map=c,c,b\",\r\n                \"LinkEncoded\": \"/Beers-Beers-Mesmo/Lager-Beers/1?map=c,c,b\",\r\n                \"Map\": \"c\",\r\n                \"Value\": \"Lager-Beers\",\r\n                \"Children\": []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"Id\": 1234571,\r\n            \"Quantity\": 2,\r\n            \"Position\": null,\r\n            \"Name\": \"Jogos\",\r\n            \"Link\": \"/Jogos/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Jogos/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Jogos\",\r\n            \"Children\": []\r\n          },\r\n          {\r\n            \"Id\": 1234579,\r\n            \"Quantity\": 3,\r\n            \"Position\": null,\r\n            \"Name\": \"189\",\r\n            \"Link\": \"/189/1?map=c,b\",\r\n            \"LinkEncoded\": \"/189/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"189\",\r\n            \"Children\": []\r\n          },\r\n          {\r\n            \"Id\": 1234587,\r\n            \"Quantity\": 1,\r\n            \"Position\": null,\r\n            \"Name\": \"Tests\",\r\n            \"Link\": \"/Tests/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Tests/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Tests\",\r\n            \"Children\": []\r\n          },\r\n          {\r\n            \"Id\": 1234595,\r\n            \"Quantity\": 1,\r\n            \"Position\": null,\r\n            \"Name\": \"Accessories\",\r\n            \"Link\": \"/Accessories/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Accessories/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Accessories\",\r\n            \"Children\": [\r\n              {\r\n                \"Id\": 1234596,\r\n                \"Quantity\": 1,\r\n                \"Position\": null,\r\n                \"Name\": \"Foam rollers\",\r\n                \"Link\": \"/Accessories/Foam-rollers/1?map=c,c,b\",\r\n                \"LinkEncoded\": \"/Accessories/Foam-rollers/1?map=c,c,b\",\r\n                \"Map\": \"c\",\r\n                \"Value\": \"Foam-rollers\",\r\n                \"Children\": []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"Id\": 1234597,\r\n            \"Quantity\": 2,\r\n            \"Position\": null,\r\n            \"Name\": \"Bars\",\r\n            \"Link\": \"/Bars/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Bars/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Bars\",\r\n            \"Children\": [\r\n              {\r\n                \"Id\": 1234598,\r\n                \"Quantity\": 1,\r\n                \"Position\": null,\r\n                \"Name\": \"Training Bars\",\r\n                \"Link\": \"/Bars/Training-Bars/1?map=c,c,b\",\r\n                \"LinkEncoded\": \"/Bars/Training-Bars/1?map=c,c,b\",\r\n                \"Map\": \"c\",\r\n                \"Value\": \"Training-Bars\",\r\n                \"Children\": []\r\n              },\r\n              {\r\n                \"Id\": 1234599,\r\n                \"Quantity\": 1,\r\n                \"Position\": null,\r\n                \"Name\": \"Curl Bars\",\r\n                \"Link\": \"/Bars/Curl-Bars/1?map=c,c,b\",\r\n                \"LinkEncoded\": \"/Bars/Curl-Bars/1?map=c,c,b\",\r\n                \"Map\": \"c\",\r\n                \"Value\": \"Curl-Bars\",\r\n                \"Children\": []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"Id\": 15,\r\n            \"Quantity\": 1,\r\n            \"Position\": null,\r\n            \"Name\": \"Coronas\",\r\n            \"Link\": \"/Coronas/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Coronas/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Coronas\",\r\n            \"Children\": [\r\n              {\r\n                \"Id\": 13,\r\n                \"Quantity\": 1,\r\n                \"Position\": null,\r\n                \"Name\": \"não tem limite!\",\r\n                \"Link\": \"/Coronas/nao-tem-limite-/1?map=c,c,b\",\r\n                \"LinkEncoded\": \"/Coronas/nao-tem-limite-/1?map=c,c,b\",\r\n                \"Map\": \"c\",\r\n                \"Value\": \"nao-tem-limite-\",\r\n                \"Children\": []\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"Id\": 4,\r\n            \"Quantity\": 4,\r\n            \"Position\": null,\r\n            \"Name\": \"Merch Integration Category ||\",\r\n            \"Link\": \"/Merch-Integration-Category-||/1?map=c,b\",\r\n            \"LinkEncoded\": \"/Merch-Integration-Category-%7C%7C/1?map=c,b\",\r\n            \"Map\": \"c\",\r\n            \"Value\": \"Merch-Integration-Category-||\",\r\n            \"Children\": []\r\n          }\r\n        ],\r\n          \"PriceRanges\": [],\r\n            \"Summary\": {\r\n              \"Departments\": {\r\n                \"DisplayedItems\": 8,\r\n                  \"TotalItems\": 8\r\n              },\r\n                \"CategoriesTrees\": {\r\n                  \"DisplayedItems\": 13,\r\n                    \"TotalItems\": 13\r\n                },\r\n                  \"Brands\": {\r\n                    \"DisplayedItems\": 10,\r\n                      \"TotalItems\": 10\r\n                  },\r\n                    \"PriceRanges\": {\r\n                      \"DisplayedItems\": 0,\r\n                        \"TotalItems\": 0\r\n                    },\r\n                      \"SpecificationFilters\": {}\r\n            }\r\n}\r\n```",
  "parameters": {
    "type": "object",
    "properties": {
      "map": {
        "example": "c",
        "type": "string",
        "description": "Mapping of the term. It can be `c` for a category, `b` for a brand, or `specificationFilter_{specificationId}` for a specification. You need to include a map for each term you are searching for in the same term's order."
      },
      "Accept": {
        "example": "application/json",
        "type": "string",
        "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand."
      },
      "Content-Type": {
        "example": "application/json",
        "type": "string",
        "description": "Describes the type of the content being sent."
      },
      "term": {
        "example": "2",
        "type": "string",
        "description": "Term used for the facet's search. You can search for as much term as you want. The term can be: `categoryId`, `brandId`, `specificationId`."
      },
      "_from": {
        "example": "1",
        "type": "string",
        "description": "Starter page range. These parameters allow the API to be paginated. Take into account that the initial and final pages cannot have a separation superior to 50 pages. Thus, it will be displayed 50 items per page."
      },
      "_to": {
        "example": "50",
        "type": "string",
        "description": "Finisher page range. These parameters allow the API to be paginated. Take into account that the initial and final pages cannot have a separation superior to 50 pages. Thus, it will be displayed 50 items per page."
      }
    },
    "required": [
      "map",
      "Accept",
      "Content-Type",
      "term"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://vtex.local/api/catalog_system/pub/facets/search/{term}{?map,_from,_to}"
    },
    "headers": {
      "Accept": {
        "$": "Accept"
      },
      "Content-Type": {
        "$": "Content-Type"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": ""
        },
        "**Key properties:**",
        {
          "$ul": [
            "**Brands**: Array of general information about the brands.",
            "**CategoriesTrees**: Array of the category tree.",
            "**Departments**: Array of general information about the categories.",
            "**PriceRanges**: Array with general information of the price ranges.",
            "**SpecificationFilters**: Object with general information of specifications.",
            [
              "**Summary**: Summary of the facets.",
              {
                "$ul": [
                  [
                    "**Brands**: Brands' quantity of displayed and total items.",
                    {
                      "$ul": [
                        "**DisplayedItems**: Quantity of displayed items.",
                        "**TotalItems**: Quantity of total items."
                      ]
                    }
                  ],
                  [
                    "**CategoriesTrees**: Category tree's quantity of displayed and total items.",
                    {
                      "$ul": [
                        "**DisplayedItems**: Quantity of displayed items.",
                        "**TotalItems**: Quantity of total items."
                      ]
                    }
                  ],
                  [
                    "**Departments**: Departments' quantity of displayed and total items.",
                    {
                      "$ul": [
                        "**DisplayedItems**: Quantity of displayed items.",
                        "**TotalItems**: Quantity of total items."
                      ]
                    }
                  ],
                  [
                    "**PriceRanges**: Price ranges' quantity of displayed and total items.",
                    {
                      "$ul": [
                        "**DisplayedItems**: Quantity of displayed items.",
                        "**TotalItems**: Quantity of total items."
                      ]
                    }
                  ],
                  "**SpecificationFilters**: Specification filters' quantity of displayed and total items."
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
