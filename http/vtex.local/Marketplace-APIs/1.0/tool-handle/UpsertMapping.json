{
  "name": "UpsertMapping",
  "description": "This endpoint allows the marketplace to map its sales channels with a seller's [affiliate](https://help.vtex.com/en/tutorial/configuring-affiliates--tutorials_187). The seller can have multiple sales channels associated with the same marketplace, by creating different affiliates. The mapping enables the seller to segment catalog, prices, inventory, logistics, and payments in the marketplace.",
  "parameters": {
    "type": "object",
    "properties": {
      "Content-Type": {
        "default": "application/json",
        "type": "string",
        "description": "Describes the type of the content being sent."
      },
      "Accept": {
        "default": "application/json",
        "type": "string",
        "description": "HTTP Client Negotiation Accept Header. Indicates the types of responses the client can understand."
      },
      "accountName": {
        "default": "apiexamples",
        "type": "string",
        "description": "Name of the VTEX account that belongs to the marketplace. Used as part of the URL."
      },
      "environment": {
        "default": "vtexcommercestable",
        "type": "string",
        "description": "Environment to use. Used as part of the URL."
      },
      "an": {
        "default": "apiexamples",
        "type": "string",
        "description": "Marketplace's account name, the same one inputted on the endpoint's path."
      },
      "sellerId": {
        "default": "seller123",
        "type": "string",
        "description": "A string that identifies the seller in the marketplace. This ID must be created by the marketplace."
      },
      "body": {
        "example": [
          {
            "marketplaceSalesChannel": 1,
            "sellerChannel": "GCB"
          },
          {
            "marketplaceSalesChannel": 2,
            "sellerChannel": "GCB"
          }
        ],
        "items": {
          "$ref": "#/$defs/UpsertMappingRequest"
        },
        "type": "array"
      }
    },
    "required": [
      "Content-Type",
      "Accept",
      "accountName",
      "environment",
      "an",
      "sellerId",
      "body"
    ],
    "$defs": {
      "UpsertMappingRequest": {
        "example": {
          "marketplaceSalesChannel": 1,
          "sellerChannel": "GCB"
        },
        "properties": {
          "marketplaceSalesChannel": {
            "default": 1,
            "description": "Marketplace's sales channel that will be associated to the seller's [affiliate](https://help.vtex.com/en/tutorial/configuring-affiliates--tutorials_187).",
            "format": "int32",
            "type": "integer"
          },
          "sellerChannel": {
            "default": "GCB",
            "description": "Seller's [affiliate](https://help.vtex.com/en/tutorial/configuring-affiliates--tutorials_187) that will be associated with the marketplace's sales channel. Through the affiliate, the seller determines which of his sales channel will be used for the mapping.",
            "type": "string"
          }
        },
        "required": [
          "marketplaceSalesChannel",
          "sellerChannel"
        ],
        "title": "UpsertMappingRequest",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://vtex.local/seller-register/pvt/sellers/{sellerId}/sales-channel/mapping{?accountName,environment,an}"
    },
    "headers": {
      "Content-Type": {
        "$": "Content-Type"
      },
      "Accept": {
        "$": "Accept"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "UpsertMapping"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**marketplaceSalesChannel**: Marketplace's sales channel that will be associated to the seller's [affiliate](https://help.vtex.com/en/tutorial/configuring-affiliates--tutorials_187). (default: 1)",
            "**sellerChannel**: Seller's [affiliate](https://help.vtex.com/en/tutorial/configuring-affiliates--tutorials_187) that will be associated with the marketplace's sales channel. Through the affiliate, the seller determines which of his sales channel will be used for the mapping. (default: GCB)"
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": "Item"
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    }
  }
}
