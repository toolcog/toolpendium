{
  "name": "EnqueueNewOrder",
  "description": "API to integrate an external channel's order into the VTEX plataform.\n\nThis process is asynchronous and a notification with the order's integration results will be sent to the endpoint specified in the **connectorEndpoint** field in [App Template](https://developers.vtex.com/vtex-rest-api/docs/external-marketplace-integration-app-template), if the connector uses our App template. The field **connectorName** is also optional for connectors that use our App Template and authenticate using the app's auth cookie. If the account is not informed in the URL host, it should also be defined as a query string parameter in the route: `an={account}`. \n\nFor a detailed explanation of the steps required to develop a custom connector to become an external marketplace for VTEX sellers, check out our complete [External Marketplace Integration Guide](https://developers.vtex.com/vtex-rest-api/docs/external-marketplace-integration-guide).",
  "parameters": {
    "type": "object",
    "properties": {
      "Content-Type": {
        "default": "application/json",
        "type": "string",
        "description": "Describes the type of the content being sent."
      },
      "Accept": {
        "default": "application/json",
        "type": "string",
        "description": "HTTP Client Negotiation _Accept_ Header. Indicates the types of responses the client can understand."
      },
      "an": {
        "example": "apiexamples",
        "type": "string",
        "description": "Parameter should indicate the name of the VTEX account where the order is being integrated or updated, meaning the seller responsible for the order."
      },
      "accountName": {
        "default": "apiexamples",
        "type": "string",
        "description": "Parameter should indicate the name of the VTEX account where the order is being integrated or updated, meaning the seller responsible for the order."
      },
      "affiliateId": {
        "example": "MKP",
        "type": "string",
        "description": "ID identifying the marketplace where the order originates. This ID is configured in the seller's VTEX account, and should be informed to the marketplace."
      },
      "body": {
        "$ref": "#/components/schemas/EnqueueNewOrderRequest",
        "description": ""
      }
    },
    "required": [
      "Content-Type",
      "Accept",
      "accountName",
      "affiliateId",
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://vtex.local/{accountName}.vtexcommercestable.com.br/api/order-integration/orders{?an,affiliateId}"
    },
    "headers": {
      "Content-Type": {
        "$": "Content-Type"
      },
      "Accept": {
        "$": "Accept"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Deliverybyseller"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**accountName**: String that indicates which account made the request.",
            "**code**: String with a internal Channel Order API code that classifies the response. The possible values returned in this field are described in the [Response Codes]() section.",
            "**errors**: List with errors related to the response, if there's any.",
            [
              "**fields**: Structure with important fields for the connector. This structure is only returned if the response is successful. Includes the following fields: ",
              {
                "$ul": [
                  [
                    "**fields**",
                    {
                      "$ul": [
                        "**franchiseOrderId**: String with the order's ID inside the franchise seller account in VTEX. Only returned if the order was integrated using the [Multilevel Omnichannel Inventory](https://help.vtex.com/en/tutorial/multilevel-omnichannel-inventory--7M1xyCZWUyCB7PcjNtOyw4) feature, that is: ",
                        "**mainOrderId**: String with the order’s ID inside the main seller account in VTEX."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**flow**: String containing the name of the flow responsible for the response. This field can contain the following values: ",
            "**marketplaceOrderId**: String that indicates the order's ID in the marketplace.",
            "**message**: String with a message explaining the code returned in the response. ",
            "**operationId**: String GUID that identifies the operation in our service. This field can be used to help us analyze unexpected errors or behaviors.",
            "**success**: Boolean that indicates if the response is successful or not."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Deliverybyfranchiseseller"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**accountName**: String that indicates which account made the request.",
            "**code**: String with a internal Channel Order API code that classifies the response. The possible values returned in this field are described in the [Response Codes]() section.",
            "**errors**: List with errors related to the response, if there's any.",
            [
              "**fields**: Structure with important fields for the connector. This structure is only returned if the response is successful. Includes the following fields: ",
              {
                "$ul": [
                  [
                    "**fields**",
                    {
                      "$ul": [
                        "**franchiseOrderId**: String with the order's ID inside the franchise seller account in VTEX. Only returned if the order was integrated using the [Multilevel Omnichannel Inventory](https://help.vtex.com/en/tutorial/multilevel-omnichannel-inventory--7M1xyCZWUyCB7PcjNtOyw4) feature, that is: ",
                        "**mainOrderId**: String with the order’s ID inside the main seller account in VTEX."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**flow**: String containing the name of the flow responsible for the response. This field can contain the following values: ",
            "**marketplaceOrderId**: String that indicates the order's ID in the marketplace.",
            "**message**: String with a message explaining the code returned in the response. ",
            "**operationId**: String GUID that identifies the operation in our service. This field can be used to help us analyze unexpected errors or behaviors.",
            "**success**: Boolean that indicates if the response is successful or not."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
