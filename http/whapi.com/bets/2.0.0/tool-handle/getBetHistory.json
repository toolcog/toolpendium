{
  "name": "getBetHistory",
  "description": "Retrieves the customerâ€™s bet history. Options are available to organise the history in terms of date, bet type and settled and unsettled bets. The maximum number of bets and bet history pages retrieved can also be set.",
  "parameters": {
    "type": "object",
    "properties": {
      "apiKey": {
        "pattern": "^[a-zA-Z0-9]{19,50}$",
        "type": "string",
        "description": "A unique identifier of your application that is generated by the API portal."
      },
      "apiSecret": {
        "pattern": "^[a-zA-Z0-9]{19,50}$",
        "type": "string",
        "description": "Another unique identifier for your application."
      },
      "apiTicket": {
        "pattern": "^[a-zA-Z][a-zA-Z0-9-]{39,100}$",
        "type": "string",
        "description": "The ticket obtained from the sessions API"
      },
      "dateFrom": {
        "pattern": "^(\\\\d{4})-(\\\\d{2})-(\\\\d{2})T(\\\\d{2}):(\\\\d{2}):(\\\\d{2})$",
        "type": "string",
        "description": "The UTC FROM datetime from bets to be returned. (yyyy-MM-ddTHH:mm:ss)"
      },
      "dateTo": {
        "pattern": "^(\\\\d{4})-(\\\\d{2})-(\\\\d{2})T(\\\\d{2}):(\\\\d{2}):(\\\\d{2})$",
        "type": "string",
        "description": "The UTC TO datetime for bets to be returned. (yyyy-MM-ddTHH:mm:ss)"
      },
      "fields": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "Specify an absolute field list to return (Comma Separated List)"
      },
      "include": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "Specify fields in addition to the default to return (Comma Separated List)"
      },
      "exclude": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "Specify fields from the default to exclude (Comma Separated List)"
      },
      "page": {
        "default": 1,
        "type": "number",
        "description": "The index of the page to return"
      },
      "pageSize": {
        "default": 100,
        "type": "number",
        "description": "The number of results per page"
      },
      "sort": {
        "default": "transDateTime,asc",
        "type": "string",
        "description": "The order the response will be retuned by. i.e. transDateTime,desc. Only transDateTime can be used currently"
      },
      "settled": {
        "type": "boolean",
        "description": "Filter by settled bets. If omitted, both settled and unsettled will be returned."
      }
    },
    "required": [
      "apiKey",
      "apiSecret",
      "apiTicket",
      "dateFrom",
      "dateTo"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://sandbox.whapi.com/v2/bets/history{?dateFrom,dateTo,fields,include,exclude,page,pageSize,sort,settled}"
    },
    "headers": {
      "apiKey": {
        "$": "apiKey"
      },
      "apiSecret": {
        "$": "apiSecret"
      },
      "apiTicket": {
        "$": "apiTicket"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**bets**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
