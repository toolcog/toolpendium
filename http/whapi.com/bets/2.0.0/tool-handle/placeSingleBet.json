{
  "name": "placeSingleBet",
  "description": "Places a single bet. When placing a single bet using live inplay bets, the system might generate a bet delay to allow a time margin to negate the effects of major changes (for example, goals) to the market. Note that the amount of bet delay will vary by category and event type. A delayedBetId will be recieved that can be used to resubmit the bet.",
  "parameters": {
    "type": "object",
    "properties": {
      "apiKey": {
        "pattern": "^[a-zA-Z0-9]{19,50}$",
        "type": "string",
        "description": "A unique identifier of your application that is generated by the API portal."
      },
      "apiSecret": {
        "pattern": "^[a-zA-Z0-9]{19,50}$",
        "type": "string",
        "description": "Another unique identifier for your application."
      },
      "apiTicket": {
        "pattern": "^[a-zA-Z][a-zA-Z0-9-]{39,100}$",
        "type": "string",
        "description": "The ticket obtained from the sessions API"
      },
      "fields": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "Specify an absolute field list to return (Comma Separated List)"
      },
      "include": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "Specify fields in addition to the default to return (Comma Separated List)"
      },
      "exclude": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "Specify fields from the default to exclude (Comma Separated List)"
      },
      "body": {
        "$ref": "#/components/schemas/singleBetRequestBody",
        "description": "Single bet request body"
      }
    },
    "required": [
      "apiKey",
      "apiSecret",
      "apiTicket",
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://sandbox.whapi.com/v2/bets/bet/single{?fields,include,exclude}"
    },
    "headers": {
      "apiKey": {
        "$": "apiKey"
      },
      "apiSecret": {
        "$": "apiSecret"
      },
      "apiTicket": {
        "$": "apiTicket"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "placedBets"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**id**: The bet id",
            "**numLines**: The number of lines the bet consists of",
            "**number**: Number of the bet if this is part of a multiple bet",
            "**placedDateTime**: The time the bet was placed. For example: 2013-01-30TT13:34:20. The value of this element can be replaced with the current timestamp if it was missing.",
            "**receipt**: The unique ID of the bet receipt",
            "**totalStake**: The total amount staked on the bet"
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": {
                "$": "$.item.id"
              }
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    },
    "202": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "delayedBets"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**delayPeriodSeconds**: The delay time period of the bet in seconds. The resubmission of the bet has to wait for the length of time (in seconds) returned in the delayPeriod before submitting the second request.",
            "**delayedBetId**: The unique identifier of the delayed bet. After the initial response is received, containing the delayPeriod and the delayBetId, the request is then resubmitted using the same delayBetId token that came in that initial response. Check the example below to see how to resend a delayed bet payload.",
            "**id**: The number of the bet",
            "**number**: Number of the bet if this is part of a multiple bet"
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": {
                "$": "$.item.id"
              }
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
