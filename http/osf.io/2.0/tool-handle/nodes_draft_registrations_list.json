{
  "name": "nodes_draft_registrations_list",
  "description": "A paginated list of all of the draft registrations of a given node.\n\nDraft Registrations contain Registration questions that will become part of the Registration. A Registration is a frozen version of the project that can never be deleted, but can be withdrawn and have it's metadata edited.\n\nYour original project remains editable but will now have the draft registration linked to it.\n#### Permissions\nOnly project administrators may view draft registrations.\n#### Returns\nReturns a JSON object containing `data` and `links` keys.\n\nThe `data` key contains an array of 10 draft registrations. Each resource in the array is a separate draft registration object and contains the full representation of the draft registration, meaning additional requests to a draft registration's detail view are not necessary.\n\nThe `links` key contains a dictionary of links that can be used for [pagination](#tag/Pagination).",
  "parameters": {
    "type": "object",
    "properties": {
      "node_id": {
        "type": "string",
        "description": "The unique identifier of the node."
      }
    },
    "required": [
      "node_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://api.test.osf.io/v2/nodes/{node_id}/draft_registrations/"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Draft Registration list"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**attributes**: The properties of the Draft Registration entity.",
              {
                "$ul": [
                  "**category**: The category of the Draft Registration.",
                  "**current_user_permissions**: The current users permission level for the Draft Registration.",
                  "**datetime_initiated**: The time at which the draft registration was first initiated, as an iso8601 formatted timestamp.",
                  "**datetime_updated**: The time at which the draft registration was last updated, as an iso8601 formatted timestamp.",
                  "**description**: The description of the Draft Registration.",
                  "**has_project**: This indicates whether a Draft Registration was branched from a project.",
                  [
                    "**node_license**",
                    {
                      "$ul": [
                        "**copyright_holders**: A list of names of copyright holders for the license.",
                        "**year**: The year the copyright was made."
                      ]
                    }
                  ],
                  "**registration_metadata**: This is a legacy format for `registration_responses`.",
                  "**registration_responses**: A dictionary of question IDs and responses from the registration schema.",
                  "**tags**: The searchable tags of the Draft Registration.",
                  "**title**: The title of the Draft Registration."
                ]
              }
            ],
            "**id**: The unique identifier of the draft registration entity.",
            [
              "**links**: URLs to alternative representations of the draft registration entity.",
              {
                "$ul": [
                  "**html**: A link to the draft registration's page on the OSF."
                ]
              }
            ],
            [
              "**relationships**: URLs to other entities or entity collections that have a relationship to the draft registration entity.",
              {
                "$ul": [
                  "**branched_from**: A link to the node that this draft registration was created from.",
                  "**initiator**: A link to the user who initiated the draft registration.",
                  "**registration_schema**: A link to the detailed registration schema that this draft conforms to."
                ]
              }
            ],
            "**type**: The type identifier of the draft registration entity (`draft_registrations`)."
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": {
                "$": "$.item.id"
              }
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    }
  }
}
