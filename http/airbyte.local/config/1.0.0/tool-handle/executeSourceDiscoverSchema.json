{
  "name": "executeSourceDiscoverSchema",
  "description": "Run discover schema for a given source a source configuration",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/SourceCoreConfig"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "SourceCoreConfig": {
        "properties": {
          "connectionConfiguration": {
            "$ref": "#/$defs/SourceConfiguration"
          },
          "sourceDefinitionId": {
            "$ref": "#/$defs/SourceDefinitionId"
          },
          "sourceId": {
            "$ref": "#/$defs/SourceId"
          },
          "workspaceId": {
            "$ref": "#/$defs/WorkspaceId"
          }
        },
        "required": [
          "sourceDefinitionId",
          "connectionConfiguration",
          "workspaceId"
        ],
        "type": "object"
      },
      "SourceConfiguration": {
        "description": "The values required to configure the source. The schema for this must match the schema return by source_definition_specifications/get for the source.",
        "example": {
          "user": "charles"
        }
      },
      "SourceDefinitionId": {
        "format": "uuid",
        "type": "string"
      },
      "SourceId": {
        "format": "uuid",
        "type": "string"
      },
      "WorkspaceId": {
        "format": "uuid",
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://airbyte.local/v1/scheduler/sources/discover_schema"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Returns the results of a discover catalog job. If the job was not successful, the catalog field will not be present. jobInfo will aways be present and its status be used to determine if the job was successful or not.",
        "**Key properties:**",
        {
          "$ul": [
            "**breakingChange**",
            [
              "**catalog**: describes the available schema (catalog).",
              {
                "$ul": [
                  "**streams**"
                ]
              }
            ],
            [
              "**catalogDiff**: Describes the difference between two Airbyte catalogs.",
              {
                "$ul": [
                  "**transforms**: list of stream transformations. order does not matter."
                ]
              }
            ],
            "**catalogId**",
            "**connectionStatus**: Active means that data is flowing through the connection. Inactive means it is not. Deprecated means the connection is off and cannot be re-activated. the schema field describes the elements of the schema that will be synced.",
            [
              "**jobInfo**",
              {
                "$ul": [
                  "**configId**: only present if a config id was provided.",
                  "**configType**",
                  "**connectorConfigurationUpdated** (default: false)",
                  "**createdAt**",
                  "**endedAt**",
                  "**id**",
                  [
                    "**logs**",
                    {
                      "$ul": [
                        "**logLines**"
                      ]
                    }
                  ],
                  "**succeeded**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**exceptionClassName**",
            "**exceptionStack**",
            "**message**",
            "**validationErrors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
