{
  "name": "samlLogin",
  "description": "The SAML login service is used to authenticate system users with a SAML response.<br>A new user will be created with the input provided if that user isn't already in the system.<br>For existing users, the system will make updates based on changes or new information.<br>When authentication is successful, a user session token is returned.<br><br><b>Note:</b> <li>The content type has to be passed as application/x-www-form-urlencoded. <li>issuer, source and samlResponse should be passed as body parameters.</li>",
  "parameters": {
    "type": "object",
    "properties": {
      "issuer": {
        "type": "string",
        "description": "issuer"
      },
      "samlResponse": {
        "type": "string",
        "description": "samlResponse"
      },
      "source": {
        "type": "string",
        "description": "source"
      }
    },
    "required": [
      "issuer",
      "samlResponse"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "//user/samlLogin{?issuer,samlResponse,source}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "UserResponse"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**user**",
              {
                "$ul": [
                  "**id**: The unique identifier of a consumer/user in Yodlee system for whom the API services would be accessed for.<br><br><b>Endpoints</b>:<ul><li>POST user/samlLogin</li><li>POST user/register</li><li>GET user</li></ul>",
                  "**loginName**: The login name of the user used for authentication.<br><br><b>Endpoints</b>:<ul><li>POST user/register</li><li>GET user</li></ul>",
                  [
                    "**name**",
                    {
                      "$ul": [
                        "**first**",
                        "**fullName**",
                        "**last**",
                        "**middle**"
                      ]
                    }
                  ],
                  [
                    "**preferences**",
                    {
                      "$ul": [
                        "**currency**: The currency of the user. This currency will be respected while providing the response for derived API services.<br><b>Applicable Values</b><br>",
                        "**dateFormat**: The dateformat of the user.This attribute is just a place holder and has no impact on any other API services.",
                        "**locale**: The locale of the user. This locale will be considered for localization features like providing the provider information in the supported locale or providing category names in the transaction related services.<br><b>Applicable Values</b><br>",
                        "**timeZone**: The timezone of the user. This attribute is just a place holder and has no impact on any other API services."
                      ]
                    }
                  ],
                  "**roleType**",
                  [
                    "**session**",
                    {
                      "$ul": [
                        "**userSession**: Session provided for a valid user to access API services upon successful authentication.<br><br><b>Endpoints</b>:<ul><li>POST user/samlLogin</li><li>POST user/register</li></ul>"
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "YodleeError"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**",
            "**errorMessage**",
            "**referenceCode**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
