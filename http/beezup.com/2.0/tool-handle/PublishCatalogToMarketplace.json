{
  "name": "PublishCatalogToMarketplace",
  "description": "[PREVIEW] Launch a publication of the catalog to the marketplace",
  "parameters": {
    "type": "object",
    "properties": {
      "marketplaceTechnicalCode": {
        "type": "string",
        "description": "Marketplace Technical Code to query (required)"
      },
      "accountId": {
        "format": "int32",
        "type": "integer",
        "description": "Account Id to query (required)"
      },
      "body": {
        "$ref": "#/$defs/publishCatalogToMarketplaceRequest"
      }
    },
    "required": [
      "marketplaceTechnicalCode",
      "accountId",
      "body"
    ],
    "$defs": {
      "publishCatalogToMarketplaceRequest": {
        "description": "Publish the catalog to the marketplace",
        "properties": {
          "feedType": {
            "$ref": "#/$defs/feedType"
          },
          "publicationStrategyKind": {
            "$ref": "#/$defs/publicationStrategyKind"
          },
          "withUnpublish": {
            "description": "In full publication strategy kind, for some marktetplace, you can ask to unpublish or not your existing feeds on the markeptlace absent from your exported catalog.",
            "type": "boolean"
          }
        },
        "required": [
          "feedType",
          "publicationStrategyKind",
          "withUnpublish"
        ],
        "type": "object"
      },
      "feedType": {
        "description": "The Feed Type",
        "enum": [
          "Products",
          "Inventory",
          "Pricing",
          "Images",
          "Relationships",
          "Unpublish",
          "Offers"
        ],
        "example": "Offers",
        "type": "string",
        "x-lov": "MarketplacePublicationFeedType"
      },
      "publicationStrategyKind": {
        "default": "Delta",
        "description": "Define the publication strategy kind, for that you have 2 choices \n* Delta - This is the recommanded publication strategy kind, this strategy will push to the marketplace only the difference between your catalog and the previous published feeds done by BeezUP. \n* Full - If you want to force the publication of all your catalog feeds to the marketplace. \n      !WARNING! Depending to the marketplace this operation will purge the existing offers on the marketplace that are not in the catalog or unknown from the publication feed referential.\n",
        "enum": [
          "Delta",
          "Full"
        ],
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.beezup.com/v2/user/marketplaces/channelcatalogs/publications/{marketplaceTechnicalCode}/{accountId}/publish"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
