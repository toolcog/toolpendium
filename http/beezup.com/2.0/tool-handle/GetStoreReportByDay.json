{
  "name": "GetStoreReportByDay",
  "description": "Get the report by day for a StoreId",
  "parameters": {
    "type": "object",
    "properties": {
      "storeId": {
        "format": "guid",
        "type": "string",
        "description": "Your store identifier"
      },
      "body": {
        "$ref": "#/$defs/reportByDayRequest"
      }
    },
    "required": [
      "storeId",
      "body"
    ],
    "$defs": {
      "reportByDayRequest": {
        "properties": {
          "advancedFilters": {
            "$ref": "#/$defs/reportAdvancedFilters"
          },
          "beginPeriodUtcDate": {
            "description": "The begin date of the period for the report",
            "example": "2006-11-20T00:00:00Z",
            "format": "date",
            "type": "string"
          },
          "catalogCategoryId": {
            "$ref": "#/$defs/BeezUP.Common.CatalogCategoryId"
          },
          "channelIds": {
            "description": "Indicate the channel identifier list",
            "example": [
              "2dc136a7-0d3d-4cc9-a825-a28a42c53e28"
            ],
            "items": {
              "$ref": "#/$defs/BeezUP.Common.ChannelId"
            },
            "type": "array"
          },
          "endPeriodUtcDate": {
            "description": "The end date of the period for the report",
            "example": "2006-12-20T00:00:00Z",
            "format": "date",
            "type": "string"
          },
          "productId": {
            "$ref": "#/$defs/BeezUP.Common.ProductId"
          }
        },
        "required": [
          "beginPeriodUtcDate",
          "endPeriodUtcDate"
        ],
        "type": "object"
      },
      "reportAdvancedFilters": {
        "properties": {
          "globalMarginPercent": {
            "description": "If the margin type is 'Global', indicate the percentage of sale price.",
            "example": "10",
            "maximum": 100,
            "minimum": 0,
            "type": "integer"
          },
          "linkClickToOrderMaxDay": {
            "default": "30",
            "description": "If the linkOrderType is OnClickDate, indicate the max day to search the click from the order",
            "example": "5",
            "maximum": 180,
            "minimum": 0,
            "type": "integer"
          },
          "linkClickToOrderType": {
            "$ref": "#/$defs/linkClickToOrderType"
          },
          "marginType": {
            "$ref": "#/$defs/marginType"
          },
          "onlyDirectSales": {
            "default": "false",
            "description": "If true, you will get only direct sales. Otherwise the indirect sales will be included.",
            "example": "true",
            "type": "boolean"
          },
          "onlyPaymentValidatedOrders": {
            "default": "false",
            "description": "If true, you will get the only the orders with payment validated. Otherwise, you will get all orders validated or not.",
            "example": "true",
            "type": "boolean"
          },
          "performanceIndicatorFormula": {
            "$ref": "#/$defs/performanceIndicatorFormula"
          }
        },
        "required": [
          "marginType",
          "linkClickToOrderType",
          "onlyPaymentValidatedOrders",
          "onlyDirectSales",
          "performanceIndicatorFormula"
        ],
        "type": "object"
      },
      "linkClickToOrderType": {
        "default": "OnPurchaseDate",
        "enum": [
          "OnPurchaseDate",
          "OnClickDate"
        ],
        "example": "OnClickDate",
        "type": "string"
      },
      "marginType": {
        "default": "Tracker",
        "enum": [
          "Tracker",
          "Global"
        ],
        "example": "Global",
        "type": "string"
      },
      "performanceIndicatorFormula": {
        "description": "The KPI formula",
        "example": {
          "firstParameter": "Cost",
          "operatorName": "Multiply",
          "secondParamter": "ROI",
          "thirdParameter": "100"
        },
        "properties": {
          "firstParameter": {
            "$ref": "#/$defs/performanceIndicatorFormulaParameterType"
          },
          "operatorName": {
            "$ref": "#/$defs/performanceIndicatorFormulaOperatorName"
          },
          "secondParameter": {
            "$ref": "#/$defs/performanceIndicatorFormulaParameterType"
          },
          "thirdParameter": {
            "default": "100",
            "description": "Indicate the value of the third parameter of your formula",
            "example": "100",
            "type": "integer"
          }
        },
        "type": "object"
      },
      "performanceIndicatorFormulaParameterType": {
        "description": "Indicate on which indicator or value you want to make your formula",
        "enum": [
          "Cost",
          "TotalSales",
          "Margin",
          "TotalSalesMinusCost",
          "MarginMinusCost",
          "OrderCount",
          "ClickCount",
          "SoldProductCount",
          "One"
        ],
        "example": "Cost",
        "type": "string"
      },
      "performanceIndicatorFormulaOperatorName": {
        "enum": [
          "Multiply",
          "Divide"
        ],
        "example": "Multiply",
        "type": "string"
      },
      "BeezUP.Common.CatalogCategoryId": {
        "description": "The catalog category identifier",
        "example": "81a058a6-0451-4b79-84ef-94c58d0ed4ac",
        "format": "guid",
        "type": "string"
      },
      "BeezUP.Common.ChannelId": {
        "description": "The channel identifier",
        "example": "2dc136a7-0d3d-4cc9-a825-a28a42c53e28",
        "format": "guid",
        "type": "string"
      },
      "BeezUP.Common.ProductId": {
        "description": "The product identifier",
        "example": "578419df-1bbf-41a6-96fa-862e42182b67",
        "format": "guid",
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.beezup.com/v2/user/analytics/{storeId}/reports/byday"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**currencyCode**: The currency code <a href=\"https://en.wikipedia.org/wiki/ISO_4217\">(ISO 4217)</a>",
            "**days**",
            [
              "**globalPerformanceIndicators**",
              {
                "$ul": [
                  [
                    "**allChannels**",
                    {
                      "$ul": [
                        "**performanceIndicator**: Indicates the global performance indicator"
                      ]
                    }
                  ],
                  "**byChannels**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
