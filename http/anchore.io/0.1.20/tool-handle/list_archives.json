{
  "name": "list_archives",
  "parameters": {
    "type": "object"
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "//archives"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "A summarization of the available archives, a place to for long-term storage of audit, analysis, or other data to remove it from the system's working set but keep it available.",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**images**: A summarization of the analysis archive, including size, counts, etc. This archive stores image analysis only, never the actual image content or layers.",
              {
                "$ul": [
                  "**last_updated**: The timestamp of the most recent archived image",
                  "**total_data_bytes**: The total sum of all the bytes stored to the backing storage. Accounts for anchore-applied compression, but not compression by the underlying storage system.",
                  "**total_image_count**: The number of unique images (digests) in the archive",
                  "**total_tag_count**: The number of tag records (registry/repo:tag pull strings) in the archive. This may include repeated tags but will always have a unique tag->digest mapping per record."
                ]
              }
            ],
            [
              "**rules**: Summary of the transition rule set",
              {
                "$ul": [
                  "**count**: The number of rules for this account",
                  "**last_updated**: The newest last_updated timestamp from the set of rules"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Generic HTTP API error response",
        "**Key properties:**",
        {
          "$ul": [
            "**code**",
            "**detail**: Details structure for additional information about the error if available. Content and structure will be error specific.",
            "**error_type**",
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
