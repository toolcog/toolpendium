{
  "name": "post-orders",
  "description": "Error Notes&#58;\n* When `409 Conflict` is a 'Duplicate Order' the `context` will include the FDC `id`, see samples.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "properties": {
          "integrator": {
            "description": "Use of this property requires special permission and must be discussed with your account executive; values are restricted while custom values need to be accepted by your AE.",
            "enum": [
              "1ShoppingCart",
              "3dCart",
              "AdobeBC",
              "AmazonAU",
              "AmazonEU",
              "AmazonNA",
              "BigCommerce",
              "BrandBoom",
              "BrightPearl",
              "BuyGoods",
              "Celery",
              "ChannelAdvisor",
              "Clickbank",
              "CommerceHub",
              "Custom",
              "Demandware",
              "Ebay",
              "Ecwid",
              "Etsy",
              "FoxyCart",
              "Goodsie",
              "Infusionsoft",
              "Konnektive",
              "LimeLight",
              "Linio",
              "Linnworks",
              "Magento",
              "Netsuite",
              "NewEgg",
              "Nexternal",
              "NuOrder",
              "Opencart",
              "OrderWave",
              "osCommerce1",
              "Overstock",
              "PayPal",
              "PrestaShop",
              "Pricefalls",
              "Quickbooks",
              "Rakuten",
              "Sears",
              "Sellbrite",
              "SellerCloud",
              "Shipstation",
              "Shopify",
              "Skubana",
              "SolidCommerce",
              "SparkPay",
              "SpreeCommerce",
              "spsCommerce",
              "StitchLabs",
              "StoneEdge",
              "TradeGecko",
              "UltraCart",
              "Volusion",
              "VTEX",
              "Walmart",
              "WooCommerce",
              "Yahoo"
            ],
            "type": "string"
          },
          "items": {
            "items": {
              "properties": {
                "declaredValue": {
                  "description": "Using USD, a per unit value of a single SKU. If your declaring a kit this is the sum total for a single kit. In both scenarios we will multiply the `declaredValue` against the `quantity` for customs declaration.",
                  "example": "129.99",
                  "format": "double",
                  "pattern": "^[0-9.]+$",
                  "type": "string"
                },
                "quantity": {
                  "minimum": 1,
                  "type": "integer"
                },
                "sku": {
                  "type": "string"
                }
              },
              "required": [
                "quantity",
                "sku",
                "declaredValue"
              ],
              "type": "object"
            },
            "type": "array"
          },
          "merchantId": {
            "description": "Necessary if you have a multitenancy account, otherwise we will associate the order with your account",
            "type": "integer"
          },
          "merchantOrderId": {
            "description": "Unique ID provided by the merchant",
            "type": "string"
          },
          "notes": {
            "type": "string"
          },
          "recipient": {
            "properties": {
              "address1": {
                "description": "Address Line 1",
                "type": "string"
              },
              "address2": {
                "description": "Address Line 2",
                "type": "string"
              },
              "addressLocality": {
                "description": "City",
                "type": "string"
              },
              "addressRegion": {
                "description": "Province / State",
                "type": "string"
              },
              "companyName": {
                "type": "string"
              },
              "country": {
                "description": "Country, for best results please provide the two character ISO code",
                "type": "string"
              },
              "email": {
                "description": "Email, required for international shipments",
                "type": "string"
              },
              "firstName": {
                "type": "string"
              },
              "lastName": {
                "type": "string"
              },
              "phone": {
                "description": "Phone number, required for international shipments",
                "type": "string"
              },
              "postalCode": {
                "description": "Postal Code / Zip",
                "type": "string"
              }
            },
            "required": [
              "country",
              "addressRegion",
              "addressLocality",
              "address1",
              "phone",
              "lastName",
              "firstName",
              "email"
            ],
            "title": "ConsigneeNew.v2",
            "type": "object"
          },
          "shippingMethod": {
            "description": "Custom for you, it will be mapped to an actual method within the OMS UI",
            "example": "Ground",
            "type": "string"
          },
          "warehouse": {
            "description": "We automatically select a warehouse based on inventory availability, requested carrier and delivery schedule, and carrier cost. You may however override this process. Because this is not recommended please inform your AE prior to using so they may enable this feature.",
            "properties": {
              "id": {
                "type": "integer"
              }
            },
            "type": "object"
          }
        },
        "required": [
          "merchantOrderId",
          "shippingMethod",
          "recipient",
          "items"
        ],
        "title": "OrderRequest.v2",
        "type": "object",
        "description": "The order to create"
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.fulfillment.com/v2/orders"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "OrderResponse.v2"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**currentStatus**",
              {
                "$ul": [
                  [
                    "**createdBy**",
                    {
                      "$ul": [
                        "**id**"
                      ]
                    }
                  ],
                  "**date**: DateTime of Status Event",
                  "**id**",
                  "**reason**: Explanation for status",
                  [
                    "**status**",
                    {
                      "$ul": [
                        [
                          "**actionRequiredBy**: Responsibility for resolving this issue",
                          {
                            "$ul": [
                              "**id**",
                              "**name**: Human readable description of responsible party to resolve the issue"
                            ]
                          }
                        ],
                        "**code**: Code, see [status codes](#section/Getting-Started/Status-Codes)",
                        "**detail**",
                        "**detailCode**",
                        "**id**: Depricated, use code instead",
                        "**isClosed**: Depricated, does this status event close the order",
                        "**name**: Depricated, use stage/state instead",
                        "**reason**: Depricated",
                        [
                          "**stage**",
                          {
                            "$ul": [
                              "**code**",
                              "**name**"
                            ]
                          }
                        ],
                        [
                          "**state**",
                          {
                            "$ul": [
                              "**code**",
                              "**name**"
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ],
            "**departDate**: DateTime order departed an FDC warehouse",
            "**dispatchDate**: DateTime order was dispatched for fulfillment by FDC",
            "**id**: FDC ID for this order",
            [
              "**merchant**",
              {
                "$ul": [
                  "**id**",
                  "**name**: Merchant Company Name"
                ]
              }
            ],
            "**merchantOrderId**: Merchant provided ID",
            "**merchantShippingMethod**: Requested ship method",
            [
              "**originalConsignee**: ",
              {
                "$ul": [
                  "**address1**",
                  "**address2**",
                  "**addressLocality**: City",
                  "**addressRegion**: Province / State",
                  "**companyName**",
                  "**country**: Ideally provide the two character ISO code",
                  "**email**",
                  "**firstName**",
                  "**id**",
                  [
                    "**iso**",
                    {
                      "$ul": [
                        "**id**",
                        "**iso2**: Two character ISO code",
                        "**name**: Country Name"
                      ]
                    }
                  ],
                  "**lastName**",
                  "**phone**",
                  "**postalCode**: Postal Code / Zip",
                  "**updatedAt**",
                  [
                    "**updatedBy**",
                    {
                      "$ul": [
                        "**id**"
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              "**parentOrder**",
              {
                "$ul": [
                  "**id**: Reference to parent `id` if order was grouped"
                ]
              }
            ],
            "**purchaseOrderNum**: Merchant provided PO#",
            "**recordedOn**: DateTime order was recorded by FDC",
            "**trackingNumbers**",
            [
              "**validatedConsignee**: ",
              {
                "$ul": [
                  "**address1**",
                  "**address2**",
                  "**addressLocality**: City",
                  "**addressRegion**: Province / State",
                  "**companyName**",
                  "**country**: Ideally provide the two character ISO code",
                  "**email**",
                  "**firstName**",
                  "**id**",
                  [
                    "**iso**",
                    {
                      "$ul": [
                        "**id**",
                        "**iso2**: Two character ISO code",
                        "**name**: Country Name"
                      ]
                    }
                  ],
                  "**lastName**",
                  "**phone**",
                  "**postalCode**: Postal Code / Zip",
                  "**updatedAt**",
                  [
                    "**updatedBy**",
                    {
                      "$ul": [
                        "**id**"
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              "**warehouse**: ",
              {
                "$ul": [
                  "**id**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ErrorStandard.v2"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ErrorStandard.v2"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "409": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ErrorStandardWithContext.v2"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**context**",
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ErrorStandardWithContext.v2"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**context**",
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
