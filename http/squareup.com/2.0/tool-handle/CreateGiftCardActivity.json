{
  "name": "CreateGiftCardActivity",
  "description": "Creates a gift card activity. For more information, see \n[GiftCardActivity](https://developer.squareup.com/docs/gift-cards/using-gift-cards-api#giftcardactivity) and \n[Using activated gift cards](https://developer.squareup.com/docs/gift-cards/using-gift-cards-api#using-activated-gift-cards).",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/components/schemas/CreateGiftCardActivityRequest",
        "description": "An object containing the fields to POST for the request.\n\nSee the corresponding object definition for field details."
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://connect.squareup.com/v2/gift-cards/activities"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "A response that contains a `GiftCardActivity` that was created.\nThe response might contain a set of `Error` objects if the request resulted in errors.",
        "**Key properties:**",
        {
          "$ul": [
            "**errors**: Any errors that occurred during the request.",
            [
              "**gift_card_activity**: Represents an action performed on a gift card that affects its state or balance.",
              {
                "$ul": [
                  [
                    "**activate_activity_details**: Describes a gift card activity of the ACTIVATE type.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**buyer_payment_instrument_ids**: Required if your application does not use the Square Orders API. ",
                        "**line_item_uid**: The `line_item_uid` of the gift card line item in an order. ",
                        "**order_id**: The ID of the order associated with the activity. ",
                        "**reference_id**: If your application does not use the Square Orders API, you can optionally use this field "
                      ]
                    }
                  ],
                  [
                    "**adjust_decrement_activity_details**: Describes a gift card activity of the ADJUST_DECREMENT type.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**reason**"
                      ]
                    }
                  ],
                  [
                    "**adjust_increment_activity_details**: Describes a gift card activity of the ADJUST_INCREMENT type.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**reason**"
                      ]
                    }
                  ],
                  [
                    "**block_activity_details**: Describes a gift card activity of the BLOCK type.",
                    {
                      "$ul": [
                        "**reason**"
                      ]
                    }
                  ],
                  [
                    "**clear_balance_activity_details**: Describes a gift card activity of the CLEAR_BALANCE type.",
                    {
                      "$ul": [
                        "**reason**"
                      ]
                    }
                  ],
                  "**created_at**: The timestamp when the gift card activity was created, in RFC 3339 format.",
                  [
                    "**deactivate_activity_details**: Describes a gift card activity of the DEACTIVATE type.",
                    {
                      "$ul": [
                        "**reason**"
                      ]
                    }
                  ],
                  [
                    "**gift_card_balance_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  "**gift_card_gan**: The gift card GAN. The GAN is not required if `gift_card_id` is present.",
                  "**gift_card_id**: The gift card ID. The ID is not required if a GAN is present.",
                  "**id**: The unique ID of the gift card activity.",
                  [
                    "**import_activity_details**: Describes a gift card activity of the IMPORT type and the `GiftCardGANSource` is OTHER ",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    "**import_reversal_activity_details**: Present only when GiftCardActivityType is IMPORT_REVERSAL and GiftCardGANSource is OTHER",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    "**load_activity_details**: Present only when `GiftCardActivityType` is LOAD.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**buyer_payment_instrument_ids**: If you are not using the Orders API, this field is required because it is used to identify a buyer ",
                        "**line_item_uid**: The `line_item_uid` of the gift cardâ€™s line item in the order associated with the activity.",
                        "**order_id**: The `order_id` of the order associated with the activity.",
                        "**reference_id**: A client-specified ID to associate an entity, in another system, with this gift card"
                      ]
                    }
                  ],
                  "**location_id**: The ID of the location at which the activity occurred.",
                  [
                    "**redeem_activity_details**: Present only when `GiftCardActivityType` is REDEEM.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**payment_id**: When the Square Payments API is used, Redeem is not called on the Gift Cards API.",
                        "**reference_id**: A client-specified ID to associate an entity, in another system, with this gift card"
                      ]
                    }
                  ],
                  [
                    "**refund_activity_details**: Present only when `GiftCardActivityType` is REFUND.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**payment_id**: When the Square Payments API is used, Refund is not called on the Gift Cards API.",
                        "**redeem_activity_id**: The ID for the Redeem activity that needs to be refunded. Hence, the activity it",
                        "**reference_id**: A client-specified ID to associate an entity, in another system, with this gift card"
                      ]
                    }
                  ],
                  "**type**",
                  [
                    "**unblock_activity_details**: Present only when `GiftCardActivityType` is UNBLOCK.",
                    {
                      "$ul": [
                        "**reason**"
                      ]
                    }
                  ],
                  [
                    "**unlinked_activity_refund_activity_details**: Present only when `GiftCardActivityType` is UNLINKED_ACTIVITY_REFUND.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**payment_id**: When using the Square Payments API, the ID of the payment that was refunded to this gift",
                        "**reference_id**: A client-specified ID to associate an entity, in another system, with this gift card"
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
