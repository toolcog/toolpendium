{
  "name": "RetrieveLoyaltyProgram",
  "description": "Retrieves the loyalty program in a seller's account, specified by the program ID or the keyword `main`. \n\nLoyalty programs define how buyers can earn points and redeem points for rewards. Square sellers can have only one loyalty program, which is created and managed from the Seller Dashboard. For more information, see [Loyalty Program Overview](https://developer.squareup.com/docs/loyalty/overview).",
  "parameters": {
    "type": "object",
    "properties": {
      "program_id": {
        "type": "string",
        "description": "The ID of the loyalty program or the keyword `main`. Either value can be used to retrieve the single loyalty program that belongs to the seller."
      }
    },
    "required": [
      "program_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://connect.squareup.com/v2/loyalty/programs/{program_id}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "A response that contains the loyalty program.",
        "**Key properties:**",
        {
          "$ul": [
            "**errors**: Any errors that occurred during the request.",
            [
              "**program**: Represents a Square loyalty program. Loyalty programs define how buyers can earn points and redeem points for rewards. ",
              {
                "$ul": [
                  "**accrual_rules**: Defines how buyers can earn loyalty points.",
                  "**created_at**: The timestamp when the program was created, in RFC 3339 format.",
                  [
                    "**expiration_policy**: Describes when the loyalty program expires.",
                    {
                      "$ul": [
                        "**expiration_duration**: The number of months before points expire, in `P[n]M` RFC 3339 duration format. For example, a value of `P12M` represents a duration of 12 months. "
                      ]
                    }
                  ],
                  "**id**: The Square-assigned ID of the loyalty program. Updates to ",
                  "**location_ids**: The [locations](https://developer.squareup.com/reference/square_2021-08-18/objects/Location) at which the program is active.",
                  "**reward_tiers**: The list of rewards for buyers, sorted by ascending points.",
                  "**status**: Whether the program is currently active.",
                  [
                    "**terminology**: Represents the naming used for loyalty points.",
                    {
                      "$ul": [
                        "**one**: A singular unit for a point (for example, 1 point is called 1 star).",
                        "**other**: A plural unit for point (for example, 10 points is called 10 stars)."
                      ]
                    }
                  ],
                  "**updated_at**: The timestamp when the reward was last updated, in RFC 3339 format."
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
