{
  "name": "CreateCustomer",
  "description": "Creates a new customer for a business.\n\nYou must provide at least one of the following values in your request to this\nendpoint:\n\n- `given_name`\n- `family_name`\n- `company_name`\n- `email_address`\n- `phone_number`",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/components/schemas/CreateCustomerRequest",
        "description": "An object containing the fields to POST for the request.\n\nSee the corresponding object definition for field details."
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://connect.squareup.com/v2/customers"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Defines the fields that are included in the response body of\na request to the `CreateCustomer` endpoint.\n\nEither `errors` or `customer` is present in a given response (never both).",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**customer**: Represents a Square customer profile in the Customer Directory of a Square seller.",
              {
                "$ul": [
                  [
                    "**address**: Represents a postal address in a country. The address format is based ",
                    {
                      "$ul": [
                        "**address_line_1**: The first line of the address.",
                        "**address_line_2**: The second line of the address, if any.",
                        "**address_line_3**: The third line of the address, if any.",
                        "**administrative_district_level_1**: A civil entity within the address's country. In the US, this",
                        "**administrative_district_level_2**: A civil entity within the address's `administrative_district_level_1`.",
                        "**administrative_district_level_3**: A civil entity within the address's `administrative_district_level_2`,",
                        "**country**: The address's country, in ISO 3166-1-alpha-2 format.",
                        "**first_name**: Optional first name when it's representing recipient.",
                        "**last_name**: Optional last name when it's representing recipient.",
                        "**locality**: The city or town of the address.",
                        "**organization**: Optional organization name when it's representing recipient.",
                        "**postal_code**: The address's postal code.",
                        "**sublocality**: A civil region within the address's `locality`, if any.",
                        "**sublocality_2**: A civil region within the address's `sublocality`, if any.",
                        "**sublocality_3**: A civil region within the address's `sublocality_2`, if any."
                      ]
                    }
                  ],
                  "**birthday**: The birthday associated with the customer profile, in RFC 3339 format. The year is optional. The timezone and time are not allowed.",
                  "**cards**: Payment details of the credit, debit, and gift cards stored on file for the customer profile. ",
                  "**company_name**: A business name associated with the customer profile.",
                  "**created_at**: The timestamp when the customer profile was created, in RFC 3339 format.",
                  "**creation_source**: A creation source represents the method used to create the",
                  "**email_address**: The email address associated with the customer profile.",
                  "**family_name**: The family (i.e., last) name associated with the customer profile.",
                  "**given_name**: The given (i.e., first) name associated with the customer profile.",
                  "**group_ids**: The IDs of customer groups the customer belongs to.",
                  "**id**: A unique Square-assigned ID for the customer profile.",
                  "**nickname**: A nickname for the customer profile.",
                  "**note**: A custom note associated with the customer profile.",
                  "**phone_number**: The 11-digit phone number associated with the customer profile.",
                  [
                    "**preferences**: Represents communication preferences for the customer profile.",
                    {
                      "$ul": [
                        "**email_unsubscribed**: Indicates whether the customer has unsubscribed from marketing campaign emails. A value of `true` means that the customer chose to opt out of email marketing from the current Square seller or from all Square sellers. This value is read-only from the Customers API."
                      ]
                    }
                  ],
                  "**reference_id**: An optional second ID used to associate the customer profile with an",
                  "**segment_ids**: The IDs of segments the customer belongs to.",
                  "**updated_at**: The timestamp when the customer profile was last updated, in RFC 3339 format.",
                  "**version**: The Square-assigned version number of the customer profile. The version number is incremented each time an update is committed to the customer profile, except for changes to customer segment membership and cards on file."
                ]
              }
            ],
            "**errors**: Any errors that occurred during the request."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
