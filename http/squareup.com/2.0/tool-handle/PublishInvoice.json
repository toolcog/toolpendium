{
  "name": "PublishInvoice",
  "description": "Publishes the specified draft invoice. \n\nAfter an invoice is published, Square \nfollows up based on the invoice configuration. For example, Square \nsends the invoice to the customer's email address, charges the customer's card on file, or does \nnothing. Square also makes the invoice available on a Square-hosted invoice page. \n\nThe invoice `status` also changes from `DRAFT` to a status \nbased on the invoice configuration. For example, the status changes to `UNPAID` if \nSquare emails the invoice or `PARTIALLY_PAID` if Square charge a card on file for a portion of the \ninvoice amount.",
  "parameters": {
    "type": "object",
    "properties": {
      "invoice_id": {
        "type": "string",
        "description": "The ID of the invoice to publish."
      },
      "body": {
        "$ref": "#/components/schemas/PublishInvoiceRequest",
        "description": "An object containing the fields to POST for the request.\n\nSee the corresponding object definition for field details."
      }
    },
    "required": [
      "invoice_id",
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://connect.squareup.com/v2/invoices/{invoice_id}/publish"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Describes a `PublishInvoice` response.",
        "**Key properties:**",
        {
          "$ul": [
            "**errors**: Information about errors encountered during the request.",
            [
              "**invoice**: Stores information about an invoice. You use the Invoices API to create and manage",
              {
                "$ul": [
                  [
                    "**accepted_payment_methods**: The payment methods that customers can use to pay an invoice on the Square-hosted invoice page.",
                    {
                      "$ul": [
                        "**bank_account**: Indicates whether bank transfer payments are accepted. The default value is `false`.",
                        "**card**: Indicates whether credit card or debit card payments are accepted. The default value is `false`.",
                        "**square_gift_card**: Indicates whether Square gift card payments are accepted. The default value is `false`."
                      ]
                    }
                  ],
                  "**created_at**: The timestamp when the invoice was created, in RFC 3339 format.",
                  "**custom_fields**: Additional seller-defined fields to render on the invoice. These fields are visible to sellers and buyers",
                  "**delivery_method**",
                  "**description**: The description of the invoice. This is visible to the customer receiving the invoice.",
                  "**id**: The Square-assigned ID of the invoice.",
                  "**invoice_number**: A user-friendly invoice number. The value is unique within a location.",
                  "**location_id**: The ID of the location that this invoice is associated with. ",
                  [
                    "**next_payment_amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  "**order_id**: The ID of the [order](https://developer.squareup.com/reference/square_2021-08-18/objects/Order) for which the invoice is created. ",
                  "**payment_requests**: The payment schedule for the invoice, represented by one or more payment requests that",
                  [
                    "**primary_recipient**: Provides customer data that Square uses to deliver an invoice.",
                    {
                      "$ul": [
                        [
                          "**address**: Represents a postal address in a country. The address format is based ",
                          {
                            "$ul": [
                              "**address_line_1**: The first line of the address.",
                              "**address_line_2**: The second line of the address, if any.",
                              "**address_line_3**: The third line of the address, if any.",
                              "**administrative_district_level_1**: A civil entity within the address's country. In the US, this",
                              "**administrative_district_level_2**: A civil entity within the address's `administrative_district_level_1`.",
                              "**administrative_district_level_3**: A civil entity within the address's `administrative_district_level_2`,",
                              "**country**: The address's country, in ISO 3166-1-alpha-2 format.",
                              "**first_name**: Optional first name when it's representing recipient.",
                              "**last_name**: Optional last name when it's representing recipient.",
                              "**locality**: The city or town of the address.",
                              "**organization**: Optional organization name when it's representing recipient.",
                              "**postal_code**: The address's postal code.",
                              "**sublocality**: A civil region within the address's `locality`, if any.",
                              "**sublocality_2**: A civil region within the address's `sublocality`, if any.",
                              "**sublocality_3**: A civil region within the address's `sublocality_2`, if any."
                            ]
                          }
                        ],
                        "**company_name**: The name of the recipient's company.",
                        "**customer_id**: The ID of the customer. This is the customer profile ID that ",
                        "**email_address**: The recipient's email address.",
                        "**family_name**: The recipient's family (that is, last) name.",
                        "**given_name**: The recipient's given (that is, first) name.",
                        "**phone_number**: The recipient's phone number."
                      ]
                    }
                  ],
                  "**public_url**: The URL of the Square-hosted invoice page.",
                  "**scheduled_at**: The timestamp when the invoice is scheduled for processing, in RFC 3339 format.",
                  "**status**: The status of the invoice.",
                  "**subscription_id**: The ID of the [subscription](https://developer.squareup.com/reference/square_2021-08-18/objects/Subscription) associated with the invoice.",
                  "**timezone**: The time zone used to interpret calendar dates on the invoice, such as `due_date`.",
                  "**title**: The title of the invoice.",
                  "**updated_at**: The timestamp when the invoice was last updated, in RFC 3339 format.",
                  "**version**: The Square-assigned version number, which is incremented each time an update is committed to the invoice."
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
