{
  "name": "GetPayment",
  "description": "Retrieves details for a specific payment.",
  "parameters": {
    "type": "object",
    "properties": {
      "payment_id": {
        "type": "string",
        "description": "A unique ID for the desired payment."
      }
    },
    "required": [
      "payment_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://connect.squareup.com/v2/payments/{payment_id}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Defines the response returned by [GetPayment](https://developer.squareup.com/reference/square_2021-08-18/payments-api/get-payment).",
        "**Key properties:**",
        {
          "$ul": [
            "**errors**: Information about errors encountered during the request.",
            [
              "**payment**: Represents a payment processed by the Square API.",
              {
                "$ul": [
                  [
                    "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  [
                    "**app_fee_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  [
                    "**approved_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  [
                    "**bank_account_details**: Additional details about BANK_ACCOUNT type payments.",
                    {
                      "$ul": [
                        "**account_ownership_type**: The ownership type of the bank account performing the transfer.",
                        [
                          "**ach_details**: ACH-specific details about `BANK_ACCOUNT` type payments with the `transfer_type` of `ACH`.",
                          {
                            "$ul": [
                              "**account_number_suffix**: The last few digits of the bank account number.",
                              "**account_type**: The type of the bank account performing the transfer. The account type can be `CHECKING`,",
                              "**routing_number**: The routing number for the bank account."
                            ]
                          }
                        ],
                        "**bank_name**: The name of the bank associated with the bank account.",
                        "**country**: The two-letter ISO code representing the country the bank account is located in.",
                        "**errors**: Information about errors encountered during the request.",
                        "**fingerprint**: Uniquely identifies the bank account for this seller and can be used",
                        "**statement_description**: The statement description as sent to the bank.",
                        "**transfer_type**: The type of the bank transfer. The type can be `ACH` or `UNKNOWN`."
                      ]
                    }
                  ],
                  [
                    "**billing_address**: Represents a postal address in a country. The address format is based ",
                    {
                      "$ul": [
                        "**address_line_1**: The first line of the address.",
                        "**address_line_2**: The second line of the address, if any.",
                        "**address_line_3**: The third line of the address, if any.",
                        "**administrative_district_level_1**: A civil entity within the address's country. In the US, this",
                        "**administrative_district_level_2**: A civil entity within the address's `administrative_district_level_1`.",
                        "**administrative_district_level_3**: A civil entity within the address's `administrative_district_level_2`,",
                        "**country**: The address's country, in ISO 3166-1-alpha-2 format.",
                        "**first_name**: Optional first name when it's representing recipient.",
                        "**last_name**: Optional last name when it's representing recipient.",
                        "**locality**: The city or town of the address.",
                        "**organization**: Optional organization name when it's representing recipient.",
                        "**postal_code**: The address's postal code.",
                        "**sublocality**: A civil region within the address's `locality`, if any.",
                        "**sublocality_2**: A civil region within the address's `sublocality`, if any.",
                        "**sublocality_3**: A civil region within the address's `sublocality_2`, if any."
                      ]
                    }
                  ],
                  "**buyer_email_address**: The buyer's email address.",
                  "**capabilities**: Actions that can be performed on this payment:",
                  [
                    "**card_details**: Reflects the current status of a card payment. Contains only non-confidential information.",
                    {
                      "$ul": [
                        "**application_cryptogram**: For EMV payments, the cryptogram generated for the payment.",
                        "**application_identifier**: For EMV payments, the application ID identifies the EMV application used for the payment.",
                        "**application_name**: For EMV payments, the human-readable name of the EMV application used for the payment.",
                        "**auth_result_code**: The status code returned by the card issuer that describes the payment's",
                        "**avs_status**: The status code returned from the Address Verification System (AVS) check. The code can be",
                        [
                          "**card**: Represents the payment details of a card to be used for payments. These",
                          {
                            "$ul": [
                              [
                                "**billing_address**: Represents a postal address in a country. The address format is based ",
                                {
                                  "$ul": [
                                    "**address_line_1**: The first line of the address.",
                                    "**address_line_2**: The second line of the address, if any.",
                                    "**address_line_3**: The third line of the address, if any.",
                                    "**administrative_district_level_1**: A civil entity within the address's country. In the US, this",
                                    "**administrative_district_level_2**: A civil entity within the address's `administrative_district_level_1`.",
                                    "**administrative_district_level_3**: A civil entity within the address's `administrative_district_level_2`,",
                                    "**country**: The address's country, in ISO 3166-1-alpha-2 format.",
                                    "**first_name**: Optional first name when it's representing recipient.",
                                    "**last_name**: Optional last name when it's representing recipient.",
                                    "**locality**: The city or town of the address.",
                                    "**organization**: Optional organization name when it's representing recipient.",
                                    "**postal_code**: The address's postal code.",
                                    "**sublocality**: A civil region within the address's `locality`, if any.",
                                    "**sublocality_2**: A civil region within the address's `sublocality`, if any.",
                                    "**sublocality_3**: A civil region within the address's `sublocality_2`, if any."
                                  ]
                                }
                              ],
                              "**bin**: The first six digits of the card number, known as the Bank Identification Number (BIN). Only the Payments API",
                              "**card_brand**: The card's brand.",
                              "**card_type**: The type of the card.",
                              "**cardholder_name**: The name of the cardholder.",
                              "**customer_id**: The ID of a customer created using the Customers API to be associated with the card.",
                              "**enabled**: Indicates whether or not a card can be used for payments.",
                              "**exp_month**: The expiration month of the associated card as an integer between 1 and 12.",
                              "**exp_year**: The four-digit year of the card's expiration date.",
                              "**fingerprint**: __Not currently set.__ Intended as a Square-assigned identifier, based",
                              "**id**: Unique ID for this card. Generated by Square.",
                              "**last_4**: The last 4 digits of the card number.",
                              "**prepaid_type**: Indicates whether the Card is prepaid or not.",
                              "**reference_id**: An optional user-defined reference ID that associates this card with",
                              "**version**: Current version number of the card. Increments with each card update. Requests to update an"
                            ]
                          }
                        ],
                        [
                          "**card_payment_timeline**: The timeline for card payments.",
                          {
                            "$ul": [
                              "**authorized_at**: The timestamp when the payment was authorized, in RFC 3339 format.",
                              "**captured_at**: The timestamp when the payment was captured, in RFC 3339 format.",
                              "**voided_at**: The timestamp when the payment was voided, in RFC 3339 format."
                            ]
                          }
                        ],
                        "**cvv_status**: The status code returned from the Card Verification Value (CVV) check. The code can be",
                        [
                          "**device_details**: Details about the device that took the payment.",
                          {
                            "$ul": [
                              "**device_id**: The Square-issued ID of the device.",
                              "**device_installation_id**: The Square-issued installation ID for the device.",
                              "**device_name**: The name of the device set by the seller."
                            ]
                          }
                        ],
                        "**entry_method**: The method used to enter the card's details for the payment. The method can be",
                        "**errors**: Information about errors encountered during the request.",
                        "**refund_requires_card_presence**: Whether the card must be physically present for the payment to",
                        "**statement_description**: The statement description sent to the card networks.",
                        "**status**: The card payment's current state. The state can be AUTHORIZED, CAPTURED, VOIDED, or",
                        "**verification_method**: For EMV payments, the method used to verify the cardholder's identity. The method can be",
                        "**verification_results**: For EMV payments, the results of the cardholder verification. The result can be"
                      ]
                    }
                  ],
                  [
                    "**cash_details**: Stores details about a cash payment. Contains only non-confidential information. For more information, see ",
                    {
                      "$ul": [
                        [
                          "**buyer_supplied_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        [
                          "**change_back_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  "**created_at**: The timestamp of when the payment was created, in RFC 3339 format.",
                  "**customer_id**: The [Customer](https://developer.squareup.com/reference/square_2021-08-18/objects/Customer) ID of the customer associated with the payment.",
                  "**delay_action**: The action to be applied to the payment when the `delay_duration` has elapsed. This field",
                  "**delay_duration**: The duration of time after the payment's creation when Square automatically applies the",
                  "**delayed_until**: The read-only timestamp of when the `delay_action` is automatically applied,",
                  "**employee_id**: An optional ID of the employee associated with taking the payment.",
                  [
                    "**external_details**: Stores details about an external payment. Contains only non-confidential information.",
                    {
                      "$ul": [
                        "**source**: A description of the external payment source. For example, ",
                        [
                          "**source_fee_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**source_id**: An ID to associate the payment to its originating source.",
                        "**type**: The type of external payment the seller received. It can be one of the following:"
                      ]
                    }
                  ],
                  "**id**: A unique ID for the payment.",
                  "**location_id**: The ID of the location associated with the payment.",
                  "**note**: An optional note to include when creating a payment.",
                  "**order_id**: The ID of the order associated with the payment.",
                  "**processing_fee**: The processing fees and fee adjustments assessed by Square for this payment.",
                  "**receipt_number**: The payment's receipt number.",
                  "**receipt_url**: The URL for the payment's receipt.",
                  "**reference_id**: An optional ID that associates the payment with an entity in",
                  "**refund_ids**: A list of `refund_id`s identifying refunds for the payment.",
                  [
                    "**refunded_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  [
                    "**risk_evaluation**: Represents fraud risk information for the associated payment.",
                    {
                      "$ul": [
                        "**created_at**: The timestamp when payment risk was evaluated, in RFC 3339 format.",
                        "**risk_level**: The risk level associated with the payment"
                      ]
                    }
                  ],
                  [
                    "**shipping_address**: Represents a postal address in a country. The address format is based ",
                    {
                      "$ul": [
                        "**address_line_1**: The first line of the address.",
                        "**address_line_2**: The second line of the address, if any.",
                        "**address_line_3**: The third line of the address, if any.",
                        "**administrative_district_level_1**: A civil entity within the address's country. In the US, this",
                        "**administrative_district_level_2**: A civil entity within the address's `administrative_district_level_1`.",
                        "**administrative_district_level_3**: A civil entity within the address's `administrative_district_level_2`,",
                        "**country**: The address's country, in ISO 3166-1-alpha-2 format.",
                        "**first_name**: Optional first name when it's representing recipient.",
                        "**last_name**: Optional last name when it's representing recipient.",
                        "**locality**: The city or town of the address.",
                        "**organization**: Optional organization name when it's representing recipient.",
                        "**postal_code**: The address's postal code.",
                        "**sublocality**: A civil region within the address's `locality`, if any.",
                        "**sublocality_2**: A civil region within the address's `sublocality`, if any.",
                        "**sublocality_3**: A civil region within the address's `sublocality_2`, if any."
                      ]
                    }
                  ],
                  "**source_type**: The source type for this payment.",
                  "**statement_description_identifier**: Additional payment information that gets added to the customer's card statement",
                  "**status**: Indicates whether the payment is APPROVED, PENDING, COMPLETED, CANCELED, or FAILED.",
                  [
                    "**tip_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  [
                    "**total_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                    {
                      "$ul": [
                        "**amount**: The amount of money, in the smallest denomination of the currency",
                        "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                      ]
                    }
                  ],
                  "**updated_at**: The timestamp of when the payment was last updated, in RFC 3339 format.",
                  "**version_token**: Used for optimistic concurrency. This opaque token identifies a specific version of the",
                  [
                    "**wallet_details**: Additional details about `WALLET` type payments. Contains only non-confidential information.",
                    {
                      "$ul": [
                        "**status**: The status of the `WALLET` payment. The status can be `AUTHORIZED`, `CAPTURED`, `VOIDED`, or"
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
