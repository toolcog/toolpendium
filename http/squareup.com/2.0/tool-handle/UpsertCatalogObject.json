{
  "name": "UpsertCatalogObject",
  "description": "Creates or updates the target [CatalogObject](https://developer.squareup.com/reference/square_2021-08-18/objects/CatalogObject).",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/components/schemas/UpsertCatalogObjectRequest",
        "description": "An object containing the fields to POST for the request.\n\nSee the corresponding object definition for field details."
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://connect.squareup.com/v2/catalog/object"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**catalog_object**: The wrapper object for the Catalog entries of a given object type.",
              {
                "$ul": [
                  "**absent_at_location_ids**: A list of locations where the object is not present, even if `present_at_all_locations` is `true`.",
                  "**catalog_v1_ids**: The Connect v1 IDs for this object at each location where it is present, where they",
                  [
                    "**category_data**: A category to which a `CatalogItem` instance belongs.",
                    {
                      "$ul": [
                        "**name**: The category name. This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points."
                      ]
                    }
                  ],
                  [
                    "**custom_attribute_definition_data**: Contains information defining a custom attribute. Custom attributes are",
                    {
                      "$ul": [
                        "**allowed_object_types**: The set of Catalog Object Types that this Custom Attribute may be applied to.",
                        "**app_visibility**: The visibility of a custom attribute to applications other than the application",
                        "**custom_attribute_usage_count**: __Read-only.__ The number of custom attributes that reference this",
                        "**description**: Seller-oriented description of the meaning of this Custom Attribute,",
                        "**key**: The name of the desired custom attribute key that can be used to access",
                        "**name**:  The name of this definition for API and seller-facing UI purposes.",
                        [
                          "**number_config**: ",
                          {
                            "$ul": [
                              "**precision**: An integer between 0 and 5 that represents the maximum number of"
                            ]
                          }
                        ],
                        [
                          "**selection_config**: Configuration associated with `SELECTION`-type custom attribute definitions.",
                          {
                            "$ul": [
                              "**allowed_selections**: The set of valid `CatalogCustomAttributeSelections`. Up to a maximum of 100",
                              "**max_allowed_selections**: The maximum number of selections that can be set. The maximum value for this"
                            ]
                          }
                        ],
                        "**seller_visibility**: The visibility of a custom attribute in seller-facing UIs (including Square Point",
                        [
                          "**source_application**: Provides information about the application used to generate a change.",
                          {
                            "$ul": [
                              "**application_id**: Read-only Square ID assigned to the application. Only used for",
                              "**name**: Read-only display name assigned to the application",
                              "**product**: Read-only [Product](https://developer.squareup.com/reference/square_2021-08-18/enums/Product) type for the application."
                            ]
                          }
                        ],
                        [
                          "**string_config**: Configuration associated with Custom Attribute Definitions of type `STRING`.",
                          {
                            "$ul": [
                              "**enforce_uniqueness**: If true, each Custom Attribute instance associated with this Custom Attribute"
                            ]
                          }
                        ],
                        "**type**: The type of this custom attribute. Cannot be modified after creation."
                      ]
                    }
                  ],
                  "**custom_attribute_values**: A map (key-value pairs) of application-defined custom attribute values. The value of a key-value pair",
                  [
                    "**discount_data**: A discount applicable to items.",
                    {
                      "$ul": [
                        [
                          "**amount_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**discount_type**: Indicates whether the discount is a fixed amount or percentage, or entered at the time of sale.",
                        "**label_color**: The color of the discount display label in the Square Point of Sale app. This must be a valid hex color code.",
                        "**modify_tax_basis**: Indicates whether this discount should reduce the price used to calculate tax.",
                        "**name**: The discount name. This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points.",
                        "**percentage**: The percentage of the discount as a string representation of a decimal number, using a `.` as the decimal",
                        "**pin_required**: Indicates whether a mobile staff member needs to enter their PIN to apply the"
                      ]
                    }
                  ],
                  "**id**: An identifier to reference this object in the catalog. When a new `CatalogObject`",
                  [
                    "**image_data**: An image file to use in Square catalogs. It can be associated with catalog",
                    {
                      "$ul": [
                        "**caption**: A caption that describes what is shown in the image. Displayed in the",
                        "**name**: The internal name to identify this image in calls to the Square API.",
                        "**url**: The URL of this image, generated by Square after an image is uploaded"
                      ]
                    }
                  ],
                  "**image_id**: Identifies the `CatalogImage` attached to this `CatalogObject`.",
                  "**is_deleted**: If `true`, the object has been deleted from the database. Must be `false` for new objects",
                  [
                    "**item_data**: A [CatalogObject](https://developer.squareup.com/reference/square_2021-08-18/objects/CatalogObject) instance of the `ITEM` type, also referred to as an item, in the catalog.",
                    {
                      "$ul": [
                        "**abbreviation**: The text of the item's display label in the Square Point of Sale app. Only up to the first five characters of the string are used.",
                        "**available_electronically**: If `true`, the item can be added to electronically fulfilled orders from the merchant's online store.",
                        "**available_for_pickup**: If `true`, the item can be added to pickup orders from the merchant's online store.",
                        "**available_online**: If `true`, the item can be added to shipping orders from the merchant's online store.",
                        "**category_id**: The ID of the item's category, if any.",
                        "**description**: The item's description. This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points.",
                        "**item_options**: List of item options IDs for this item. Used to manage and group item",
                        "**label_color**: The color of the item's display label in the Square Point of Sale app. This must be a valid hex color code.",
                        "**modifier_list_info**: A set of `CatalogItemModifierListInfo` objects",
                        "**name**: The item's name. This is a searchable attribute for use in applicable query filters, its value must not be empty, and the length is of Unicode code points.",
                        "**product_type**: The product type of the item. May not be changed once an item has been created.",
                        "**skip_modifier_screen**: If `false`, the Square Point of Sale app will present the `CatalogItem`'s",
                        "**sort_name**: A name to sort the item by. If this name is unspecified, namely, the `sort_name` field is absent, the regular `name` field is used for sorting.",
                        "**tax_ids**: A set of IDs indicating the taxes enabled for",
                        "**variations**: A list of [CatalogItemVariation](https://developer.squareup.com/reference/square_2021-08-18/objects/CatalogItemVariation) objects for this item. An item must have"
                      ]
                    }
                  ],
                  [
                    "**item_option_data**: A group of variations for a `CatalogItem`.",
                    {
                      "$ul": [
                        "**description**: The item option's human-readable description. Displayed in the Square",
                        "**display_name**: The item option's display name for the customer. This is a searchable attribute for use in applicable query filters.",
                        "**name**: The item option's display name for the seller. Must be unique across",
                        "**show_colors**: If true, display colors for entries in `values` when present.",
                        "**values**: A list of CatalogObjects containing the"
                      ]
                    }
                  ],
                  [
                    "**item_option_value_data**: An enumerated value that can link a",
                    {
                      "$ul": [
                        "**color**: The HTML-supported hex color for the item option (e.g., \"#ff8d4e85\").",
                        "**description**: A human-readable description for the option value. This is a searchable attribute for use in applicable query filters.",
                        "**item_option_id**: Unique ID of the associated item option.",
                        "**name**: Name of this item option value. This is a searchable attribute for use in applicable query filters.",
                        "**ordinal**: Determines where this option value appears in a list of option values."
                      ]
                    }
                  ],
                  [
                    "**item_variation_data**: An item variation (i.e., product) in the Catalog object model. Each item",
                    {
                      "$ul": [
                        "**available_for_booking**: If the `CatalogItem` that owns this item variation is of type",
                        "**inventory_alert_threshold**: If the inventory quantity for the variation is less than or equal to this value and `inventory_alert_type`",
                        "**inventory_alert_type**: Indicates whether the item variation displays an alert when its inventory quantity is less than or equal",
                        "**item_id**: The ID of the `CatalogItem` associated with this item variation.",
                        "**item_option_values**: List of item option values associated with this item variation. Listed",
                        "**location_overrides**: Per-location price and inventory overrides.",
                        "**measurement_unit_id**: ID of the ‘CatalogMeasurementUnit’ that is used to measure the quantity",
                        "**name**: The item variation's name. This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points.",
                        "**ordinal**: The order in which this item variation should be displayed. This value is read-only. On writes, the ordinal",
                        [
                          "**price_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ],
                        "**pricing_type**: Indicates whether the item variation's price is fixed or determined at the time",
                        "**service_duration**: If the `CatalogItem` that owns this item variation is of type",
                        "**sku**: The item variation's SKU, if any. This is a searchable attribute for use in applicable query filters.",
                        "**stockable**: Whether stock is counted directly on this variation (TRUE) or only on its components (FALSE).",
                        [
                          "**stockable_conversion**: Represents the rule of conversion between a stockable [CatalogItemVariation](https://developer.squareup.com/reference/square_2021-08-18/objects/CatalogItemVariation)",
                          {
                            "$ul": [
                              "**nonstockable_quantity**: The converted equivalent quantity of the non-stockable [CatalogItemVariation](https://developer.squareup.com/reference/square_2021-08-18/objects/CatalogItemVariation) ",
                              "**stockable_item_variation_id**: References to the stockable [CatalogItemVariation](https://developer.squareup.com/reference/square_2021-08-18/objects/CatalogItemVariation)",
                              "**stockable_quantity**: The quantity of the stockable item variation (as identified by `stockable_item_variation_id`) "
                            ]
                          }
                        ],
                        "**team_member_ids**: Tokens of employees that can perform the service represented by this variation. Only valid for",
                        "**track_inventory**: If `true`, inventory tracking is active for the variation.",
                        "**upc**: The universal product code (UPC) of the item variation, if any. This is a searchable attribute for use in applicable query filters.",
                        "**user_data**: Arbitrary user metadata to associate with the item variation. This attribute value length is of Unicode code points."
                      ]
                    }
                  ],
                  [
                    "**measurement_unit_data**: Represents the unit used to measure a `CatalogItemVariation` and",
                    {
                      "$ul": [
                        [
                          "**measurement_unit**: Represents a unit of measurement to use with a quantity, such as ounces",
                          {
                            "$ul": [
                              "**area_unit**: Represents a standard area unit.",
                              [
                                "**custom_unit**: The information needed to define a custom unit, provided by the seller.",
                                {
                                  "$ul": [
                                    "**abbreviation**: The abbreviation of the custom unit, such as \"bsh\" (bushel). This appears",
                                    "**name**: The name of the custom unit, for example \"bushel\"."
                                  ]
                                }
                              ],
                              "**generic_unit**: Reserved for API integrations that lack the ability to specify a real measurement unit",
                              "**length_unit**: Represents a standard length unit.",
                              "**time_unit**: Represents a standard unit of time.",
                              "**type**: Represents the type of the measurement unit.",
                              "**volume_unit**: Represents a standard volume unit.",
                              "**weight_unit**: Represents a standard unit of weight or mass."
                            ]
                          }
                        ],
                        "**precision**: An integer between 0 and 5 that represents the maximum number of"
                      ]
                    }
                  ],
                  [
                    "**modifier_data**: A modifier applicable to items at the time of sale.",
                    {
                      "$ul": [
                        "**modifier_list_id**: The ID of the `CatalogModifierList` associated with this modifier.",
                        "**name**: The modifier name.  This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points.",
                        "**ordinal**: Determines where this `CatalogModifier` appears in the `CatalogModifierList`.",
                        [
                          "**price_money**: Represents an amount of money. `Money` fields can be signed or unsigned.",
                          {
                            "$ul": [
                              "**amount**: The amount of money, in the smallest denomination of the currency",
                              "**currency**: The type of currency, in __ISO 4217 format__. For example, the currency"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    "**modifier_list_data**: A list of modifiers applicable to items at the time of sale.",
                    {
                      "$ul": [
                        "**modifiers**: The options included in the `CatalogModifierList`.",
                        "**name**: The name for the `CatalogModifierList` instance. This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points.",
                        "**ordinal**: Determines where this modifier list appears in a list of `CatalogModifierList` values.",
                        "**selection_type**: Indicates whether multiple options from the modifier list"
                      ]
                    }
                  ],
                  "**present_at_all_locations**: If `true`, this object is present at all locations (including future locations), except where specified in",
                  "**present_at_location_ids**: A list of locations where the object is present, even if `present_at_all_locations` is `false`.",
                  [
                    "**pricing_rule_data**: Defines how discounts are automatically applied to a set of items that match the pricing rule",
                    {
                      "$ul": [
                        "**apply_products_id**: __Deprecated__: Please use the `exclude_products_id` field to apply",
                        "**customer_group_ids_any**: A list of IDs of customer groups, the members of which are eligible for discounts specified in this pricing rule.",
                        "**discount_id**: Unique ID for the `CatalogDiscount` to take off",
                        "**exclude_products_id**: `CatalogProductSet` to exclude from the pricing rule.",
                        "**exclude_strategy**: If an `exclude_products_id` was given, controls which subset of matched",
                        "**match_products_id**: Unique ID for the `CatalogProductSet` that will be matched by this rule. A match rule",
                        "**name**: User-defined name for the pricing rule. For example, \"Buy one get one",
                        "**time_period_ids**: A list of unique IDs for the catalog time periods when",
                        "**valid_from_date**: Represents the date the Pricing Rule is valid from. Represented in RFC 3339 full-date format (YYYY-MM-DD).",
                        "**valid_from_local_time**: Represents the local time the pricing rule should be valid from. Represented in RFC 3339 partial-time format",
                        "**valid_until_date**: Represents the date the Pricing Rule is valid until. Represented in RFC 3339 full-date format (YYYY-MM-DD).",
                        "**valid_until_local_time**: Represents the local time the pricing rule should be valid until. Represented in RFC 3339 partial-time format"
                      ]
                    }
                  ],
                  [
                    "**product_set_data**: Represents a collection of catalog objects for the purpose of applying a",
                    {
                      "$ul": [
                        "**all_products**: If set to `true`, the product set will include every item in the catalog.",
                        "**name**: User-defined name for the product set. For example, \"Clearance Items\"",
                        "**product_ids_all**: Unique IDs for any `CatalogObject` included in this product set.",
                        "**product_ids_any**:  Unique IDs for any `CatalogObject` included in this product set. Any",
                        "**quantity_exact**: If set, there must be exactly this many items from `products_any` or `products_all`",
                        "**quantity_max**: If set, the pricing rule will apply to a maximum of this many items from",
                        "**quantity_min**: If set, there must be at least this many items from `products_any` or `products_all`"
                      ]
                    }
                  ],
                  [
                    "**quick_amounts_settings_data**: A parent Catalog Object model represents a set of Quick Amounts and the settings control the amounts.",
                    {
                      "$ul": [
                        "**amounts**: Represents a set of Quick Amounts at this location.",
                        "**eligible_for_auto_amounts**: Represents location's eligibility for auto amounts",
                        "**option**: Represents the option seller currently uses on Quick Amounts."
                      ]
                    }
                  ],
                  [
                    "**subscription_plan_data**: Describes a subscription plan. For more information, see",
                    {
                      "$ul": [
                        "**name**: The name of the plan.",
                        "**phases**: A list of SubscriptionPhase containing the [SubscriptionPhase](https://developer.squareup.com/reference/square_2021-08-18/objects/SubscriptionPhase) for this plan."
                      ]
                    }
                  ],
                  [
                    "**tax_data**: A tax applicable to an item.",
                    {
                      "$ul": [
                        "**applies_to_custom_amounts**: If `true`, the fee applies to custom amounts entered into the Square Point of Sale",
                        "**calculation_phase**: Whether the tax is calculated based on a payment's subtotal or total.",
                        "**enabled**: A Boolean flag to indicate whether the tax is displayed as enabled (`true`) in the Square Point of Sale app or not (`false`).",
                        "**inclusion_type**: Whether the tax is `ADDITIVE` or `INCLUSIVE`.",
                        "**name**: The tax's name. This is a searchable attribute for use in applicable query filters, and its value length is of Unicode code points.",
                        "**percentage**: The percentage of the tax in decimal form, using a `'.'` as the decimal separator and without a `'%'` sign."
                      ]
                    }
                  ],
                  [
                    "**time_period_data**: Represents a time period - either a single period or a repeating period.",
                    {
                      "$ul": [
                        "**event**: An iCalendar (RFC 5545) [event](https://tools.ietf.org/html/rfc5545#section-3.6.1), which"
                      ]
                    }
                  ],
                  "**type**: The type of this object. Each object type has expected",
                  "**updated_at**: Last modification [timestamp](https://developer.squareup.com/docs/build-basics/working-with-dates) in RFC 3339 format, e.g., `\"2016-08-15T23:59:33.123Z\"`",
                  "**version**: The version of the object. When updating an object, the version supplied"
                ]
              }
            ],
            "**errors**: Any errors that occurred during the request.",
            "**id_mappings**: The mapping between client and server IDs for this upsert."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
