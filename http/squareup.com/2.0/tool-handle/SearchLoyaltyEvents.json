{
  "name": "SearchLoyaltyEvents",
  "description": "Searches for loyalty events.\n\nA Square loyalty program maintains a ledger of events that occur during the lifetime of a \nbuyer's loyalty account. Each change in the point balance \n(for example, points earned, points redeemed, and points expired) is \nrecorded in the ledger. Using this endpoint, you can search the ledger for events.\n\nSearch results are sorted by `created_at` in descending order.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/components/schemas/SearchLoyaltyEventsRequest",
        "description": "An object containing the fields to POST for the request.\n\nSee the corresponding object definition for field details."
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://connect.squareup.com/v2/loyalty/events/search"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "A response that contains loyalty events that satisfy the search \ncriteria, in order by the `created_at` date.",
        "**Key properties:**",
        {
          "$ul": [
            "**cursor**: The pagination cursor to be used in a subsequent ",
            "**errors**: Any errors that occurred during the request.",
            "**events**: The loyalty events that satisfy the search criteria."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
