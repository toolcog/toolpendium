{
  "name": "ListPayments",
  "description": "Provides summary information for all payments taken for a given\nSquare account during a date range. Date ranges cannot exceed 1 year in\nlength. See Date ranges for details of inclusive and exclusive dates.\n\n*Note**: Details for payments processed with Square Point of Sale while\nin offline mode may not be transmitted to Square for up to 72 hours.\nOffline payments have a `created_at` value that reflects the time the\npayment was originally processed, not the time it was subsequently\ntransmitted to Square. Consequently, the ListPayments endpoint might\nlist an offline payment chronologically between online payments that\nwere seen in a previous request.",
  "parameters": {
    "type": "object",
    "properties": {
      "location_id": {
        "type": "string",
        "description": "The ID of the location to list payments for. If you specify me, this endpoint returns payments aggregated from all of the business's locations."
      },
      "order": {
        "type": "string",
        "description": "The order in which payments are listed in the response."
      },
      "begin_time": {
        "type": "string",
        "description": "The beginning of the requested reporting period, in ISO 8601 format. If this value is before January 1, 2013 (2013-01-01T00:00:00Z), this endpoint returns an error. Default value: The current time minus one year."
      },
      "end_time": {
        "type": "string",
        "description": "The end of the requested reporting period, in ISO 8601 format. If this value is more than one year greater than begin_time, this endpoint returns an error. Default value: The current time."
      },
      "limit": {
        "type": "integer",
        "description": "The maximum number of payments to return in a single response. This value cannot exceed 200."
      },
      "batch_token": {
        "type": "string",
        "description": "A pagination cursor to retrieve the next set of results for your\noriginal query to the endpoint."
      },
      "include_partial": {
        "type": "boolean",
        "description": "Indicates whether or not to include partial payments in the response. Partial payments will have the tenders collected so far, but the itemizations will be empty until the payment is completed."
      }
    },
    "required": [
      "location_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://connect.squareup.com/v1/{location_id}/payments{?order,begin_time,end_time,limit,batch_token,include_partial}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "List"
        },
        "A payment represents a paid transaction between a Square merchant and a\ncustomer. Payment details are usually available from Connect API endpoints\nwithin a few minutes after the transaction completes.\n\nEach Payment object includes several fields that end in `_money`. These fields\ndescribe the various amounts of money that contribute to the payment total:\n\n<ul>\n<li>\nMonetary values are <b>positive</b> if they represent an\n<em>increase</em> in the amount of money the merchant receives (e.g.,\n<code>tax_money</code>, <code>tip_money</code>).\n</li>\n<li>\nMonetary values are <b>negative</b> if they represent an\n<em>decrease</em> in the amount of money the merchant receives (e.g.,\n<code>discount_money</code>, <code>refunded_money</code>).\n</li>\n</ul>",
        "**Key properties:**",
        {
          "$ul": [
            "**additive_tax**: All of the additive taxes associated with the payment.",
            [
              "**additive_tax_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**created_at**: The time when the payment was created, in ISO 8601 format. Reflects the time of the first payment if the object represents an incomplete partial payment, and the time of the last or complete payment otherwise.",
            "**creator_id**: The unique identifier of the Square account that took the payment.",
            [
              "**device**: ",
              {
                "$ul": [
                  "**id**: The device's Square-issued ID.",
                  "**name**: The device's merchant-specified name."
                ]
              }
            ],
            [
              "**discount_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            [
              "**gross_sales_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**id**: The payment's unique identifier.",
            "**inclusive_tax**: All of the inclusive taxes associated with the payment.",
            [
              "**inclusive_tax_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**is_partial**: Indicates whether or not the payment is only partially paid for.",
            "**itemizations**: The items purchased in the payment.",
            "**merchant_id**: The unique identifier of the merchant that took the payment.",
            [
              "**net_sales_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            [
              "**net_total_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**payment_url**: The URL of the payment's detail page in the merchant dashboard. The merchant must be signed in to the merchant dashboard to view this page.",
            [
              "**processing_fee_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**receipt_url**: The URL of the receipt for the payment. Note that for split tender",
            [
              "**refunded_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**refunds**: All of the refunds applied to the payment. Note that the value of all refunds on a payment can exceed the value of all tenders if a merchant chooses to refund money to a tender after previously accepting returned goods as part of an exchange.",
            [
              "**surcharge_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**surcharges**: A list of all surcharges associated with the payment.",
            [
              "**swedish_rounding_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            [
              "**tax_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            "**tender**: All of the tenders associated with the payment.",
            [
              "**tip_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ],
            [
              "**total_collected_money**: ",
              {
                "$ul": [
                  "**amount**: Amount in the lowest denominated value of this Currency. E.g. in USD",
                  "**currency_code**: "
                ]
              }
            ]
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": {
                "$": "$.item.id"
              }
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    }
  }
}
