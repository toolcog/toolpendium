{
  "name": "parse_address",
  "description": "The address-recognition API makes it easy for you to extract address data from unstructured text, including the recipient name, line 1, line 2, city, postal code, and more.\n\nData often enters your system as unstructured text (for example: emails, SMS messages, support tickets, or other documents). ShipEngine's address-recognition API helps you extract meaningful, structured data from this unstructured text. The parsed address data is returned in the same structure that's used for other ShipEngine APIs, such as address validation, rate quotes, and shipping labels.\n\n> **Note:** Address recognition is currently supported for the United States, Canada, Australia, New Zealand, the United Kingdom, and Ireland.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/components/schemas/parse_address_request_body",
        "description": "The only required field is `text`, which is the text to be parsed. You can optionally also provide an `address` containing already-known values. For example, you may already know the recipient's name, city, and country, and only want to parse the street address into separate lines.\n"
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://api.shipengine.com/v1/addresses/recognize"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "parse_address_response_body"
        },
        "The parsed address, as well as a confidence score and a list of all the entities that were recognized in the text.\n",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**address**: A complete or partial mailing address.",
              {
                "$ul": [
                  "**address_line1**: The first line of the street address.  For some addresses, this may be the only line.  Other addresses may require 2 or 3 lines.",
                  "**address_line2**: The second line of the street address.  For some addresses, this line may not be needed.",
                  "**address_line3**: The third line of the street address.  For some addresses, this line may not be needed.",
                  "**address_residential_indicator**: Indicates whether this is a residential address. (default: unknown)",
                  "**city_locality**: The name of the city or locality",
                  "**company_name**: If this is a business address, then the company name should be specified here.",
                  "**country_code**: The two-letter [ISO 3166-1 country code](https://en.wikipedia.org/wiki/ISO_3166-1)",
                  "**email**: Email for the address owner.",
                  "**name**: The name of a contact person at this address.  This field may be set instead of - or in addition to - the `company_name` field.",
                  "**phone**: The phone number of a contact person at this address.  The format of this phone number varies depending on the country.",
                  "**postal_code**",
                  "**state_province**: The state or province.  For some countries (including the U.S.) only abbreviations are allowed.  Other countries allow the full name or abbreviation."
                ]
              }
            ],
            "**entities**: All of the entities that were recognized in the text. An \"entity\" is a single piece of data, such as a city, a postal code, or an address line.  Each entity includes the original text and the parsed value.",
            "**score**: A confidence score between zero and one that indicates how certain the API is that it understood the text."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "error_response_body"
        },
        "An error response body",
        "**Key properties:**",
        {
          "$ul": [
            "**errors**: The errors associated with the failed API call",
            "**request_id**: A UUID that uniquely identifies the request id."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "error_response_body"
        },
        "An error response body",
        "**Key properties:**",
        {
          "$ul": [
            "**errors**: The errors associated with the failed API call",
            "**request_id**: A UUID that uniquely identifies the request id."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
