{
  "name": "PostBundles",
  "description": "Create Bundle",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "properties": {
          "clickwrap_id": {
            "description": "ID of the clickwrap to use with this bundle.",
            "example": 1,
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "ID of the clickwrap to use with this bundle."
          },
          "code": {
            "description": "Bundle code.  This code forms the end part of the Public URL.",
            "example": "abc123",
            "type": "string",
            "x-ms-summary": "Bundle code.  This code forms the end part of the Public URL."
          },
          "description": {
            "description": "Public description",
            "example": "The public description of the bundle.",
            "type": "string",
            "x-ms-summary": "Public description"
          },
          "dont_separate_submissions_by_folder": {
            "description": "Do not create subfolders for files uploaded to this share. Note: there are subtle security pitfalls with allowing anonymous uploads from multiple users to live in the same folder. We strongly discourage use of this option unless absolutely required.",
            "example": true,
            "type": "boolean",
            "x-ms-summary": "Do not create subfolders for files uploaded to this share. Note: there are subtle security pitfalls with allowing anonymous uploads from multiple users to live in the same folder. We strongly discourage use of this option unless absolutely required."
          },
          "expires_at": {
            "description": "Bundle expiration date/time",
            "example": "2000-01-01T01:00:00Z",
            "format": "date-time",
            "type": "string",
            "x-ms-summary": "Bundle expiration date/time"
          },
          "form_field_set_id": {
            "description": "Id of Form Field Set to use with this bundle",
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "Id of Form Field Set to use with this bundle"
          },
          "inbox_id": {
            "description": "ID of the associated inbox, if available.",
            "example": 1,
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "ID of the associated inbox, if available."
          },
          "max_uses": {
            "description": "Maximum number of times bundle can be accessed",
            "example": 1,
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "Maximum number of times bundle can be accessed"
          },
          "note": {
            "description": "Bundle internal note",
            "example": "The internal note on the bundle.",
            "type": "string",
            "x-ms-summary": "Bundle internal note"
          },
          "password": {
            "description": "Password for this bundle.",
            "example": "Password",
            "type": "string",
            "x-ms-summary": "Password for this bundle."
          },
          "path_template": {
            "description": "Template for creating submission subfolders. Can use the uploader's name, email address, ip, company, and any custom form data.",
            "example": "{{name}}_{{ip}}",
            "type": "string",
            "x-ms-summary": "Template for creating submission subfolders. Can use the uploader's name, email address, ip, company, and any custom form data."
          },
          "paths": {
            "description": "A list of paths to include in this bundle.",
            "example": [
              "file.txt"
            ],
            "items": {
              "type": "string"
            },
            "type": "array",
            "x-ms-summary": "A list of paths to include in this bundle."
          },
          "permissions": {
            "description": "Permissions that apply to Folders in this Share Link.",
            "enum": [
              "read",
              "write",
              "read_write",
              "full",
              "none",
              "preview_only"
            ],
            "example": "read",
            "type": "string",
            "x-ms-summary": "Permissions that apply to Folders in this Share Link."
          },
          "preview_only": {
            "description": "Restrict users to previewing files only?",
            "type": "boolean",
            "x-ms-summary": "Restrict users to previewing files only?"
          },
          "require_registration": {
            "description": "Show a registration page that captures the downloader's name and email address?",
            "type": "boolean",
            "x-ms-summary": "Show a registration page that captures the downloader's name and email address?"
          },
          "require_share_recipient": {
            "description": "Only allow access to recipients who have explicitly received the share via an email sent through the Files.com UI?",
            "type": "boolean",
            "x-ms-summary": "Only allow access to recipients who have explicitly received the share via an email sent through the Files.com UI?"
          },
          "send_email_receipt_to_uploader": {
            "description": "Send delivery receipt to the uploader. Note: For writable share only",
            "example": true,
            "type": "boolean",
            "x-ms-summary": "Send delivery receipt to the uploader. Note: For writable share only"
          },
          "skip_company": {
            "description": "BundleRegistrations can be saved without providing company?",
            "example": true,
            "type": "boolean",
            "x-ms-summary": "BundleRegistrations can be saved without providing company?"
          },
          "skip_email": {
            "description": "BundleRegistrations can be saved without providing email?",
            "example": true,
            "type": "boolean",
            "x-ms-summary": "BundleRegistrations can be saved without providing email?"
          },
          "skip_name": {
            "description": "BundleRegistrations can be saved without providing name?",
            "example": true,
            "type": "boolean",
            "x-ms-summary": "BundleRegistrations can be saved without providing name?"
          },
          "user_id": {
            "description": "User ID.  Provide a value of `0` to operate the current session's user.",
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "User ID.  Provide a value of `0` to operate the current session's user."
          },
          "watermark_attachment_file": {
            "description": "Preview watermark image applied to all bundle items.",
            "format": "binary",
            "type": "string",
            "x-ms-summary": "Preview watermark image applied to all bundle items."
          }
        },
        "required": [
          "paths"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "//app.files.com/api/rest/v1/bundles"
    },
    "body": {
      "$": "body",
      "encode": "multipart"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Create Bundle",
        "**Key properties:**",
        {
          "$ul": [
            "**clickwrap_body**: Legal text that must be agreed to prior to accessing Bundle.",
            "**clickwrap_id**: ID of the clickwrap to use with this bundle.",
            "**code**: Bundle code.  This code forms the end part of the Public URL.",
            "**created_at**: Bundle created at date/time",
            "**description**: Public description",
            "**dont_separate_submissions_by_folder**: Do not create subfolders for files uploaded to this share. Note: there are subtle security pitfalls with allowing anonymous uploads from multiple users to live in the same folder. We strongly discourage use of this option unless absolutely required.",
            "**expires_at**: Bundle expiration date/time",
            [
              "**form_field_set**: List Form Field Sets",
              {
                "$ul": [
                  "**form_fields**: Associated form fields",
                  "**form_layout**: Layout of the form",
                  "**id**: Form field set id",
                  "**skip_company**: Any associated InboxRegistrations or BundleRegistrations can be saved without providing company",
                  "**skip_email**: Any associated InboxRegistrations or BundleRegistrations can be saved without providing email",
                  "**skip_name**: Any associated InboxRegistrations or BundleRegistrations can be saved without providing name",
                  "**title**: Title to be displayed"
                ]
              }
            ],
            "**has_inbox**: Does this bundle have an associated inbox?",
            "**id**: Bundle ID",
            "**inbox_id**: ID of the associated inbox, if available.",
            "**max_uses**: Maximum number of times bundle can be accessed",
            "**note**: Bundle internal note",
            "**password_protected**: Is this bundle password protected?",
            "**path_template**: Template for creating submission subfolders. Can use the uploader's name, email address, ip, company, and any custom form data.",
            "**paths**: A list of paths in this bundle.  For performance reasons, this is not provided when listing bundles.",
            "**permissions**: Permissions that apply to Folders in this Share Link.",
            "**preview_only**: Restrict users to previewing files only?",
            "**require_registration**: Show a registration page that captures the downloader's name and email address?",
            "**require_share_recipient**: Only allow access to recipients who have explicitly received the share via an email sent through the Files.com UI?",
            "**send_email_receipt_to_uploader**: Send delivery receipt to the uploader. Note: For writable share only",
            "**skip_company**: BundleRegistrations can be saved without providing company?",
            "**skip_email**: BundleRegistrations can be saved without providing email?",
            "**skip_name**: BundleRegistrations can be saved without providing name?",
            "**url**: Public URL of Share Link",
            "**user_id**: Bundle creator user ID",
            "**username**: Bundle creator username",
            [
              "**watermark_attachment**",
              {
                "$ul": [
                  "**name**: Image name",
                  "**uri**: Image URI"
                ]
              }
            ],
            "**watermark_value**: Preview watermark settings applied to all bundle items. Uses the same keys as Behavior.value"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
