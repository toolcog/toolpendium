{
  "name": "FileActionBeginUpload",
  "description": "Begin file upload",
  "parameters": {
    "type": "object",
    "properties": {
      "path": {
        "type": "string",
        "description": "Path to operate on."
      },
      "body": {
        "properties": {
          "mkdir_parents": {
            "description": "Create parent directories if they do not exist?",
            "type": "boolean",
            "x-ms-summary": "Create parent directories if they do not exist?"
          },
          "part": {
            "description": "Part if uploading a part.",
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "Part if uploading a part."
          },
          "parts": {
            "description": "How many parts to fetch?",
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "How many parts to fetch?"
          },
          "ref": {
            "type": "string",
            "x-ms-summary": ""
          },
          "restart": {
            "description": "File byte offset to restart from.",
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "File byte offset to restart from."
          },
          "size": {
            "description": "Total bytes of file being uploaded (include bytes being retained if appending/restarting).",
            "format": "int32",
            "type": "integer",
            "x-ms-summary": "Total bytes of file being uploaded (include bytes being retained if appending/restarting)."
          },
          "with_rename": {
            "description": "Allow file rename instead of overwrite?",
            "type": "boolean",
            "x-ms-summary": "Allow file rename instead of overwrite?"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "path"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "//app.files.com/api/rest/v1/file_actions/begin_upload/{path}"
    },
    "body": {
      "$": "body",
      "encode": "multipart"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "List"
        },
        "Begin file upload",
        "**Key properties:**",
        {
          "$ul": [
            "**action**: Type of upload",
            "**ask_about_overwrites**: If `true`, this file exists and you may wish to ask the user for overwrite confirmation",
            "**available_parts**: Number of parts in the upload",
            "**expires**: Date/time of when this Upload part expires and the URL cannot be used any more",
            "**headers**: Additional upload headers to provide as part of the upload",
            "**http_method**: HTTP Method to use for uploading the part, usually `PUT`",
            "**next_partsize**: Size in bytes for this part",
            "**parallel_parts**: If `true`, multiple parts may be uploaded in parallel.  If `false`, be sure to only upload one part at a time, in order.",
            "**parameters**: Additional HTTP parameters to send with the upload",
            "**part_number**: Number of this upload part",
            "**partsize**: Size in bytes for the next upload part",
            "**path**: New file path",
            "**ref**: Reference name for this upload part",
            "**retry_parts**: If `true`, parts may be retried. If `false`, a part cannot be retried and the upload should be restarted.",
            "**send**: Content-Type and File to send",
            "**upload_uri**: URI to upload this part to"
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": "Item"
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    }
  }
}
