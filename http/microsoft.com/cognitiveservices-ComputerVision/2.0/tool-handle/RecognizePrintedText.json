{
  "name": "RecognizePrintedText",
  "description": "Optical Character Recognition (OCR) detects text in an image and extracts the recognized characters into a machine-usable character stream.\r\nUpon success, the OCR results will be returned.\r\nUpon failure, the error code together with an error message will be returned. The error code can be one of InvalidImageUrl, InvalidImageFormat, InvalidImageSize, NotSupportedImage, NotSupportedLanguage, or InternalServerError.",
  "parameters": {
    "type": "object",
    "properties": {
      "detectOrientation": {
        "default": true,
        "type": "boolean",
        "description": "Whether detect the text orientation in the image. With detectOrientation=true the OCR service tries to detect the image orientation and correct it before further processing (e.g. if it's upside-down)."
      },
      "language": {
        "default": "unk",
        "enum": [
          "unk",
          "zh-Hans",
          "zh-Hant",
          "cs",
          "da",
          "nl",
          "en",
          "fi",
          "fr",
          "de",
          "el",
          "hu",
          "it",
          "ja",
          "ko",
          "nb",
          "pl",
          "pt",
          "ru",
          "es",
          "sv",
          "tr",
          "ar",
          "ro",
          "sr-Cyrl",
          "sr-Latn",
          "sk"
        ],
        "type": "string",
        "description": "The BCP-47 language code of the text to be detected in the image. The default value is 'unk'."
      },
      "body": {
        "$ref": "#/components/schemas/ImageUrl",
        "description": "A JSON document with a URL pointing to the image that is to be analyzed."
      }
    },
    "required": [
      "detectOrientation",
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://westcentralus.api.cognitive.microsoft.com/vision/v2.0/ocr{?detectOrientation,language}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**language**: The BCP-47 language code of the text in the image.",
            "**orientation**: Orientation of the text recognized in the image. The value (up, down, left, or right) refers to the direction that the top of the recognized text is facing, after the image has been rotated around its center according to the detected text angle (see textAngle property).",
            "**regions**: An array of objects, where each object represents a region of recognized text.",
            "**textAngle**: The angle, in degrees, of the detected text with respect to the closest horizontal or vertical direction. After rotating the input image clockwise by this angle, the recognized text lines become horizontal or vertical. In combination with the orientation property it can be used to overlay recognition results correctly on the original image, by rotating either the original image or recognition results by a suitable angle around the center of the original image. If the angle cannot be confidently detected, this property is not present. If the image contains text at different angles, only part of the text will be recognized correctly."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Details about the API request error.",
        "**Key properties:**",
        {
          "$ul": [
            "**code**: The error code.",
            "**message**: A message explaining the error reported by the service.",
            "**requestId**: A unique request identifier."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
