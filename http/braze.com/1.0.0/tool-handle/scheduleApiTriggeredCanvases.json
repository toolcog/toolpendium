{
  "name": "scheduleApiTriggeredCanvases",
  "description": "Use this endpoint to trigger API Triggered Canvases, which are created on the Dashboard and initiated via the API. You can pass in `canvas_entry_properties` that will be templated into the messages sent by the first steps of the Canvas.\n\nThis endpoint allows you to schedule Canvas messages (up to 90 days in advance) via API Triggered delivery, allowing you to decide what action should trigger the message to be sent. Please note that to send messages with this endpoint, you must have a Canvas ID, created when you build a Canvas.\n\n### Request Parameters\n\n| Parameter | Required | Data Type | Description |\n| --------- | ---------| --------- | ----------- |\n|`canvas_id`|Required|String| See canvas identifier|\n|`send_id` | Optional | String | See send identifier |\n|`recipients` | Optional | Array of recipient objects | See recipients object |\n|`audience` | Optional | Connected audience object | See connected audience |\n|`broadcast` | Optional | Boolean | See broadcast -- defaults to false on 8/31/17, must be set to true if \"recipients\" object is omitted |\n| `trigger_properties` | Optional | Object | Personalization key value pairs for all users in this send; see trigger properties |\n| `schedule` | Required | Schedule object | See schedule object |\n\n## Request Components\n- [Canvas Identifier](https://www.braze.com/docs/api/identifier_types/)\n- [Recipients](https://www.braze.com/docs/api/objects_filters/recipient_object/)\n- [Connected Audience](https://www.braze.com/docs/api/objects_filters/connected_audience/)\n- [Broadcast](https://www.braze.com/docs/api/parameters/#broadcast)\n- [Trigger Properties](https://www.braze.com/docs/api/objects_filters/trigger_properties_object/)\n- [Schedule Object](https://www.braze.com/docs/api/objects_filters/schedule_object/)",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "properties": {
          "audience": {
            "properties": {
              "AND": {
                "items": {
                  "properties": {
                    "custom_attribute": {
                      "properties": {
                        "comparison": {
                          "example": "equals",
                          "type": "string"
                        },
                        "custom_attribute_name": {
                          "example": "eye_color",
                          "type": "string"
                        },
                        "value": {
                          "example": "blue",
                          "type": "string"
                        }
                      },
                      "type": "object"
                    }
                  },
                  "type": "object"
                },
                "type": "array"
              }
            },
            "type": "object"
          },
          "broadcast": {
            "example": false,
            "type": "boolean"
          },
          "canvas_entry_properties": {
            "properties": {},
            "type": "object"
          },
          "canvas_id": {
            "example": "canvas_identifier",
            "type": "string"
          },
          "recipients": {
            "items": {
              "properties": {
                "canvas_entry_properties": {
                  "properties": {},
                  "type": "object"
                },
                "external_user_id": {
                  "example": "external_user_identifier",
                  "type": "string"
                },
                "trigger_properties": {
                  "example": "",
                  "type": "string"
                },
                "user_alias": {
                  "example": "example_alias",
                  "type": "string"
                }
              },
              "type": "object"
            },
            "type": "array"
          },
          "schedule": {
            "properties": {
              "at_optimal_time": {
                "example": false,
                "type": "boolean"
              },
              "in_local_time": {
                "example": false,
                "type": "boolean"
              },
              "time": {
                "example": "",
                "type": "string"
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://rest.iad-01.braze.com/canvas/trigger/schedule/create"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {}
}
