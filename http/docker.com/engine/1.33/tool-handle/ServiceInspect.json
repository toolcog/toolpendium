{
  "name": "ServiceInspect",
  "description": "Inspect a service",
  "parameters": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "description": "ID or name of service."
      },
      "insertDefaults": {
        "default": false,
        "type": "boolean",
        "description": "Fill empty fields with default values."
      }
    },
    "required": [
      "id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "/v1.33/services/{id}{?insertDefaults}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**CreatedAt**",
            [
              "**Endpoint**",
              {
                "$ul": [
                  "**Ports**",
                  [
                    "**Spec**: Properties that can be configured to access and load balance a service.",
                    {
                      "$ul": [
                        "**Mode**: The mode of resolution to use for internal load balancing between tasks. (default: vip)",
                        "**Ports**: List of exposed ports that this service is accessible on from the outside. Ports can only be provided if `vip` resolution mode is used."
                      ]
                    }
                  ],
                  "**VirtualIPs**"
                ]
              }
            ],
            "**ID**",
            [
              "**Spec**: User modifiable configuration for a service.",
              {
                "$ul": [
                  [
                    "**EndpointSpec**: Properties that can be configured to access and load balance a service.",
                    {
                      "$ul": [
                        "**Mode**: The mode of resolution to use for internal load balancing between tasks. (default: vip)",
                        "**Ports**: List of exposed ports that this service is accessible on from the outside. Ports can only be provided if `vip` resolution mode is used."
                      ]
                    }
                  ],
                  "**Labels**: User-defined key/value metadata.",
                  [
                    "**Mode**: Scheduling mode for the service.",
                    {
                      "$ul": [
                        "**Global**",
                        [
                          "**Replicated**",
                          {
                            "$ul": [
                              "**Replicas**"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  "**Name**: Name of the service.",
                  "**Networks**: Array of network names or IDs to attach the service to.",
                  [
                    "**RollbackConfig**: Specification for the rollback strategy of the service.",
                    {
                      "$ul": [
                        "**Delay**: Amount of time between rollback iterations, in nanoseconds.",
                        "**FailureAction**: Action to take if an rolled back task fails to run, or stops running during the rollback.",
                        "**MaxFailureRatio**: The fraction of tasks that may fail during a rollback before the failure action is invoked, specified as a floating point number between 0 and 1. (default: 0)",
                        "**Monitor**: Amount of time to monitor each rolled back task for failures, in nanoseconds.",
                        "**Order**: The order of operations when rolling back a task. Either the old task is shut down before the new task is started, or the new task is started before the old task is shut down.",
                        "**Parallelism**: Maximum number of tasks to be rolled back in one iteration (0 means unlimited parallelism)."
                      ]
                    }
                  ],
                  [
                    "**TaskTemplate**: User modifiable task configuration.",
                    {
                      "$ul": [
                        [
                          "**ContainerSpec**: Invalid when specified with `PluginSpec`.",
                          {
                            "$ul": [
                              "**Args**: Arguments to the command.",
                              "**Command**: The command to be run in the image.",
                              "**Configs**: Configs contains references to zero or more configs that will be exposed to the service.",
                              [
                                "**DNSConfig**: Specification for DNS related configurations in resolver configuration file (`resolv.conf`).",
                                {
                                  "$ul": [
                                    "**Nameservers**: The IP addresses of the name servers.",
                                    "**Options**: A list of internal resolver variables to be modified (e.g., `debug`, `ndots:3`, etc.).",
                                    "**Search**: A search list for host-name lookup."
                                  ]
                                }
                              ],
                              "**Dir**: The working directory for commands to run in.",
                              "**Env**: A list of environment variables in the form `VAR=value`.",
                              "**Groups**: A list of additional groups that the container process will run as.",
                              [
                                "**HealthCheck**: A test to perform to check that the container is healthy.",
                                {
                                  "$ul": [
                                    "**Interval**: The time to wait between checks in nanoseconds. It should be 0 or at least 1000000 (1 ms). 0 means inherit.",
                                    "**Retries**: The number of consecutive failures needed to consider a container as unhealthy. 0 means inherit.",
                                    "**StartPeriod**: Start period for the container to initialize before starting health-retries countdown in nanoseconds. It should be 0 or at least 1000000 (1 ms). 0 means inherit.",
                                    "**Test**: The test to perform. Possible values are:",
                                    "**Timeout**: The time to wait before considering the check to have hung. It should be 0 or at least 1000000 (1 ms). 0 means inherit."
                                  ]
                                }
                              ],
                              "**Hostname**: The hostname to use for the container, as a valid RFC 1123 hostname.",
                              "**Hosts**: A list of hostname/IP mappings to add to the container's `hosts`",
                              "**Image**: The image name to use for the container",
                              "**Labels**: User-defined key/value data.",
                              "**Mounts**: Specification for mounts to be added to containers created as part of the service.",
                              "**OpenStdin**: Open `stdin`",
                              [
                                "**Privileges**: Security options for the container",
                                {
                                  "$ul": [
                                    [
                                      "**CredentialSpec**: CredentialSpec for managed service account (Windows only)",
                                      {
                                        "$ul": [
                                          "**File**: Load credential spec from this file. The file is read by the daemon, and must be present in the",
                                          "**Registry**: Load credential spec from this value in the Windows registry. The specified registry value must be"
                                        ]
                                      }
                                    ],
                                    [
                                      "**SELinuxContext**: SELinux labels of the container",
                                      {
                                        "$ul": [
                                          "**Disable**: Disable SELinux",
                                          "**Level**: SELinux level label",
                                          "**Role**: SELinux role label",
                                          "**Type**: SELinux type label",
                                          "**User**: SELinux user label"
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ],
                              "**ReadOnly**: Mount the container's root filesystem as read only.",
                              "**Secrets**: Secrets contains references to zero or more secrets that will be exposed to the service.",
                              "**StopGracePeriod**: Amount of time to wait for the container to terminate before forcefully killing it.",
                              "**StopSignal**: Signal to stop the container.",
                              "**TTY**: Whether a pseudo-TTY should be allocated.",
                              "**User**: The user inside the container."
                            ]
                          }
                        ],
                        "**ForceUpdate**: A counter that triggers an update even if no relevant parameters have been changed.",
                        [
                          "**LogDriver**: Specifies the log driver to use for tasks created from this spec. If not present, the default one for the swarm will be used, finally falling back to the engine default if not specified.",
                          {
                            "$ul": [
                              "**Name**",
                              "**Options**"
                            ]
                          }
                        ],
                        "**Networks**",
                        [
                          "**Placement**",
                          {
                            "$ul": [
                              "**Constraints**: An array of constraints.",
                              "**Platforms**: Platforms stores all the platforms that the service's image can",
                              "**Preferences**: Preferences provide a way to make the scheduler aware of factors such as topology. They are provided in order from highest to lowest precedence."
                            ]
                          }
                        ],
                        [
                          "**PluginSpec**: Invalid when specified with `ContainerSpec`. *(Experimental release only.)*",
                          {
                            "$ul": [
                              "**Disabled**: Disable the plugin once scheduled.",
                              "**Name**: The name or 'alias' to use for the plugin.",
                              "**PluginPrivilege**",
                              "**Remote**: The plugin image reference to use."
                            ]
                          }
                        ],
                        [
                          "**Resources**: Resource requirements which apply to each individual container created as part of the service.",
                          {
                            "$ul": [
                              [
                                "**Limits**: An object describing the resources which can be advertised by a node and requested by a task",
                                {
                                  "$ul": [
                                    "**GenericResources**: User-defined resources can be either Integer resources (e.g, `SSD=3`) or String resources (e.g, `GPU=UUID1`)",
                                    "**MemoryBytes**",
                                    "**NanoCPUs**"
                                  ]
                                }
                              ],
                              [
                                "**Reservation**: An object describing the resources which can be advertised by a node and requested by a task",
                                {
                                  "$ul": [
                                    "**GenericResources**: User-defined resources can be either Integer resources (e.g, `SSD=3`) or String resources (e.g, `GPU=UUID1`)",
                                    "**MemoryBytes**",
                                    "**NanoCPUs**"
                                  ]
                                }
                              ]
                            ]
                          }
                        ],
                        [
                          "**RestartPolicy**: Specification for the restart policy which applies to containers created as part of this service.",
                          {
                            "$ul": [
                              "**Condition**: Condition for restart.",
                              "**Delay**: Delay between restart attempts.",
                              "**MaxAttempts**: Maximum attempts to restart a given container before giving up (default value is 0, which is ignored). (default: 0)",
                              "**Window**: Windows is the time window used to evaluate the restart policy (default value is 0, which is unbounded). (default: 0)"
                            ]
                          }
                        ],
                        "**Runtime**: Runtime is the type of runtime specified for the task executor."
                      ]
                    }
                  ],
                  [
                    "**UpdateConfig**: Specification for the update strategy of the service.",
                    {
                      "$ul": [
                        "**Delay**: Amount of time between updates, in nanoseconds.",
                        "**FailureAction**: Action to take if an updated task fails to run, or stops running during the update.",
                        "**MaxFailureRatio**: The fraction of tasks that may fail during an update before the failure action is invoked, specified as a floating point number between 0 and 1. (default: 0)",
                        "**Monitor**: Amount of time to monitor each updated task for failures, in nanoseconds.",
                        "**Order**: The order of operations when rolling out an updated task. Either the old task is shut down before the new task is started, or the new task is started before the old task is shut down.",
                        "**Parallelism**: Maximum number of tasks to be updated in one iteration (0 means unlimited parallelism)."
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              "**UpdateStatus**: The status of a service update.",
              {
                "$ul": [
                  "**CompletedAt**",
                  "**Message**",
                  "**StartedAt**",
                  "**State**"
                ]
              }
            ],
            "**UpdatedAt**",
            [
              "**Version**: The version number of the object such as node, service, etc. This is needed to avoid conflicting writes.",
              {
                "$ul": [
                  "**Index**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Represents an error.",
        "**Key properties:**",
        {
          "$ul": [
            "**message**: The error message."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Represents an error.",
        "**Key properties:**",
        {
          "$ul": [
            "**message**: The error message."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "503": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Represents an error.",
        "**Key properties:**",
        {
          "$ul": [
            "**message**: The error message."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
