{
  "name": "create_a_limit",
  "description": "Create a Limit",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/create_a_limit_parameters"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "create_a_limit_parameters": {
        "example": {
          "interval": "month",
          "metric": "volume",
          "model_id": "account_in71c4amph0vgo2qllky",
          "value": 1234
        },
        "properties": {
          "interval": {
            "description": "The interval for the metric. Required if `metric` is `count` or `volume`.",
            "enum": [
              "transaction",
              "day",
              "week",
              "month",
              "year",
              "all_time"
            ],
            "type": "string",
            "x-enum-descriptions": [
              "Enforce the limit per-transaction.",
              "Enforce the limit based on the previous 24 hour period.",
              "Enforce the limit based on the previous seven days.",
              "Enforce the limit based on the previous month, going back to the current day in the previous month, or as close as possible given month length differences.",
              "Enforce the limit based on the previous year.",
              "Enforce the limit for all time."
            ]
          },
          "metric": {
            "description": "The metric for the limit.",
            "enum": [
              "count",
              "volume"
            ],
            "type": "string",
            "x-enum-descriptions": [
              "The maximum number of debits allowed.",
              "The maximum volume of debits allowed in the minor unit of the model's currency."
            ]
          },
          "model_id": {
            "description": "The identifier of the Account or Account Number you wish to associate the limit with.",
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "value": {
            "description": "The value to test the limit against.",
            "minimum": 0,
            "type": "integer"
          }
        },
        "required": [
          "metric",
          "model_id",
          "value"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.increase.com/limits"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Limit"
        },
        "You can set limits at the Account, Account Number, or Card level. Limits applied to Accounts will apply to all Account Numbers and Cards in the Account. You can specify any number of Limits and they will all be applied to inbound debits and card authorizations. Volume and count Limits are designed to prevent unauthorized debits.",
        "**Key properties:**",
        {
          "$ul": [
            "**id**: The Limit identifier.",
            "**interval**: The interval for the metric. This is required if `metric` is `count` or `volume`.",
            "**metric**: The metric for the Limit.",
            "**model_id**: The identifier of the Account Number, Account, or Card the Limit applies to.",
            "**model_type**: The type of the model you wish to associate the Limit with.",
            "**status**: The current status of the Limit.",
            "**type**: A constant representing the object's type. For this resource it will always be `limit`.",
            "**value**: The value to evaluate the Limit against."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
