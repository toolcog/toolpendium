{
  "name": "create_an_event_subscription",
  "description": "Create an Event Subscription",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/create_an_event_subscription_parameters"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "create_an_event_subscription_parameters": {
        "example": {
          "url": "https://website.com/webhooks"
        },
        "properties": {
          "selected_event_category": {
            "description": "If specified, this subscription will only receive webhooks for Events with the specified `category`.",
            "enum": [
              "account.created",
              "account.updated",
              "account_number.created",
              "account_number.updated",
              "account_statement.created",
              "account_transfer.created",
              "account_transfer.updated",
              "ach_prenotification.created",
              "ach_prenotification.updated",
              "ach_transfer.created",
              "ach_transfer.updated",
              "card.created",
              "card.updated",
              "card_payment.created",
              "card_payment.updated",
              "card_dispute.created",
              "card_dispute.updated",
              "check_deposit.created",
              "check_deposit.updated",
              "check_transfer.created",
              "check_transfer.updated",
              "declined_transaction.created",
              "digital_wallet_token.created",
              "digital_wallet_token.updated",
              "document.created",
              "entity.created",
              "entity.updated",
              "external_account.created",
              "file.created",
              "group.updated",
              "group.heartbeat",
              "inbound_ach_transfer_return.created",
              "inbound_ach_transfer_return.updated",
              "inbound_wire_drawdown_request.created",
              "oauth_connection.created",
              "oauth_connection.deactivated",
              "pending_transaction.created",
              "pending_transaction.updated",
              "real_time_decision.card_authorization_requested",
              "real_time_decision.digital_wallet_token_requested",
              "real_time_decision.digital_wallet_authentication_requested",
              "real_time_payments_transfer.created",
              "real_time_payments_transfer.updated",
              "real_time_payments_request_for_payment.created",
              "real_time_payments_request_for_payment.updated",
              "transaction.created",
              "wire_drawdown_request.created",
              "wire_drawdown_request.updated",
              "wire_transfer.created",
              "wire_transfer.updated"
            ],
            "type": "string",
            "x-enum-descriptions": [
              "Occurs whenever an Account is created.",
              "Occurs whenever an Account is updated.",
              "Occurs whenever an Account Number is created.",
              "Occurs whenever an Account Number is updated.",
              "Occurs whenever an Account Statement is created.",
              "Occurs whenever an Account Transfer is created.",
              "Occurs whenever an Account Transfer is updated.",
              "Occurs whenever an ACH Prenotification is created.",
              "Occurs whenever an ACH Prenotification is updated.",
              "Occurs whenever an ACH Transfer is created.",
              "Occurs whenever an ACH Transfer is updated.",
              "Occurs whenever a Card is created.",
              "Occurs whenever a Card is updated.",
              "Occurs whenever a Card Payment is created.",
              "Occurs whenever a Card Payment is updated.",
              "Occurs whenever a Card Dispute is created.",
              "Occurs whenever a Card Dispute is updated.",
              "Occurs whenever a Check Deposit is created.",
              "Occurs whenever a Check Deposit is updated.",
              "Occurs whenever a Check Transfer is created.",
              "Occurs whenever a Check Transfer is updated.",
              "Occurs whenever a Declined Transaction is created.",
              "Occurs whenever a Digital Wallet Token is created.",
              "Occurs whenever a Digital Wallet Token is updated.",
              "Occurs whenever a Document is created.",
              "Occurs whenever an Entity is created.",
              "Occurs whenever an Entity is updated.",
              "Occurs whenever an External Account is created.",
              "Occurs whenever a File is created.",
              "Occurs whenever a Group is updated.",
              "Increase may send webhooks with this category to see if a webhook endpoint is working properly.",
              "Occurs whenever an Inbound ACH Transfer Return is created.",
              "Occurs whenever an Inbound ACH Transfer Return is updated.",
              "Occurs whenever an Inbound Wire Drawdown Request is created.",
              "Occurs whenever an OAuth Connection is created.",
              "Occurs whenever an OAuth Connection is deactivated.",
              "Occurs whenever a Pending Transaction is created.",
              "Occurs whenever a Pending Transaction is updated.",
              "Occurs whenever a Real-Time Decision is created in response to a card authorization.",
              "Occurs whenever a Real-Time Decision is created in response to a digital wallet provisioning attempt.",
              "Occurs whenever a Real-Time Decision is created in response to a digital wallet requiring two-factor authentication.",
              "Occurs whenever a Real Time Payments Transfer is created.",
              "Occurs whenever a Real Time Payments Transfer is updated.",
              "Occurs whenever a Real Time Payments Request for Payment is created.",
              "Occurs whenever a Real Time Payments Request for Payment is updated.",
              "Occurs whenever a Transaction is updated.",
              "Occurs whenever a Wire Drawdown Request is created.",
              "Occurs whenever a Wire Drawdown Request is updated.",
              "Occurs whenever a Wire Transfer is created.",
              "Occurs whenever a Wire Transfer is updated."
            ]
          },
          "shared_secret": {
            "description": "The key that will be used to sign webhooks. If no value is passed, a random string will be used as default.",
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "url": {
            "description": "The URL you'd like us to send webhooks to.",
            "type": "string"
          }
        },
        "required": [
          "url"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.increase.com/event_subscriptions"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Event Subscription"
        },
        "Webhooks are event notifications we send to you by HTTPS POST requests. Event Subscriptions are how you configure your application to listen for them. You can create an Event Subscription through your [developer dashboard](https://dashboard.increase.com/developers/webhooks) or the API. For more information, see our [webhooks guide](https://increase.com/documentation/webhooks).",
        "**Key properties:**",
        {
          "$ul": [
            "**created_at**: The time the event subscription was created.",
            "**id**: The event subscription identifier.",
            "**selected_event_category**: If specified, this subscription will only receive webhooks for Events with the specified `category`.",
            "**shared_secret**: The key that will be used to sign webhooks.",
            "**status**: This indicates if we'll send notifications to this subscription.",
            "**type**: A constant representing the object's type. For this resource it will always be `event_subscription`.",
            "**url**: The webhook url where we'll send notifications."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
