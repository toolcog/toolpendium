{
  "name": "getPaymentDetails",
  "description": "Returns the details of a specific payment.\n\nAs the customer goes through the process of making the payment the status of the payment will change.\n\n* `AWAITING_AUTHORISATION` -This is the initial status of all your payments.\n* `AUTHORISED` - This is the status that your payment is set to after the customer has authorised the payment with their ASPSP / bank.\n* `AWAITING_MULTI_AUTHORISATION` - Some business accounts such as charities require dual authorisation.\n* `NOT_AUTHORISED` - Either your customer clicked on cancel or the payment was rejected by their ASPSP / bank.\n* `PENDING` - This is the status that your payment is set to after the customer has authorised the payment with their ASPSP / bank but the bank may want to carry out another check before funding the transaction.\n* `PAID` - Funds were received into your fire.com GBP or EUR account from your customer’s ASPSP / bank.\n\n\nYou will need to enable the `PERM_BUSINESS_GET_PAYMENT` permission to use this endpoint.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "paymentUuid": {
        "description": "The unique id for the transaction.",
        "example": "4ADFB67A-0F5B-4A9A-9D74-34437250045C",
        "type": "string"
      }
    },
    "required": [
      "paymentUuid"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://api.fire.com/business/v1/payments/{paymentUuid}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "paymentRequest"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalFields**: These fields will be dispalyed to the payer when using the hosted option. You can choose to display any of `ORDER_ID`, `PRODUCT_ID`, `CUSTOMER_ID`, `CUSTOMER_NUMBER` and `COMMENT2` to the payer.",
            "**amount**: The requested amount to pay. Note the last two digits represent pennies/cents, (e.g., £1.00 = 100).",
            "**collectFields**: For the hosted option, the payer will be asked to fill in these fields but they will not be mandatory. You can choose to collect any of the payer's `ADDRESS`, `REFERENCE` and/or `COMMENT1`. If you choose to collect these fields from the payer, you cannot set 'delivery’, 'variableReference’ or 'comment1’ fields respectively.",
            [
              "**currency**: The currency.",
              {
                "$ul": [
                  "**code**: The three letter code for the currency - either `EUR` or `GBP`.",
                  "**description**: The name of the currency"
                ]
              }
            ],
            "**description**: A public facing description of the request. This will be shown to the user when they tap or scan the request.",
            "**expiry**: This is the expiry of the payment request. After this time, the payment cannot be paid.",
            "**icanTo**: The ican of the account to collect the funds into. Must be one of your fire.com Accounts.",
            "**mandatoryFields**: For the hosted option, these fields will be madatory for the payer to fill in on the hosted payment page. You can choose to collect any the payer's `ADDRESS`, `REFERENCE` and/or `COMMENT1`. If you choose to collect these fields from the payer, you cannot set 'delivery’, 'variableReference’ or 'comment1’ fields respectively.",
            "**maxNumberPayments**: The max number of people who can pay this request. Must be set to 1 for the ECOMMERCE_GOODS and ECOMMERCE_SERVICES types.",
            "**myRef**: An internal description of the request.",
            [
              "**orderDetails**",
              {
                "$ul": [
                  "**comment1**: This is your own comment for the transaction.",
                  "**comment2**: This is your own comment for the transaction.",
                  "**customerNumber**: Use this field to store a customer number for the transaction (for example).",
                  "**deliveryAddressLine1**: The first line of the delivery address.",
                  "**deliveryAddressLine2**: The second line of the delivery address.",
                  "**deliveryCity**: Delivery address city",
                  "**deliveryCountry**: 2-digit code for the country",
                  "**deliveryPostCode**: Delivery address post code",
                  "**merchantCustomerIdentification**: This is a reference you use to uniquely identify each of your customers.",
                  "**merchantNumber**: Your Merchant Number (if applicable).",
                  "**orderId**: Use this field to store the order id for the transaction. The Order Id cannot be set unless the `maxNumberPayments` is 1.",
                  "**productId**: Use this field to store a product id for the transaction (for example).",
                  "**variableReference**: Use this field to store any other reference for the transaction (for example, a phone number)."
                ]
              }
            ],
            "**paymentRequestCode**: The code that was returned when you created the payment request.",
            "**paymentUuid**: A unique id for the transaction.",
            "**returnUrl**: The merchant return URL where the customer will be re-directed to with the result of the transaction.",
            "**status**: The status of the transaction",
            "**transactionType**: The type of payment request payment",
            "**type**: The type of Fire Open Payment that was created",
            "**webhookUrl**: A URL to be called in the background with the details of the payment after the payment is complete"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
