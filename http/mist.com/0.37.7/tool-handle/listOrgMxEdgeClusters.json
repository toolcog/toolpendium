{
  "name": "listOrgMxEdgeClusters",
  "description": "Get List of Org MxEdge Clusters",
  "parameters": {
    "type": "object",
    "properties": {
      "org_id": {
        "example": "000000ab-00ab-00ab-00ab-0000000000ab",
        "format": "uuid",
        "type": "string"
      }
    },
    "required": [
      "org_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://api.mist.com/api/v1/orgs/{org_id}/mxclusters"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "List"
        },
        "mxCluster",
        "**Key properties:**",
        {
          "$ul": [
            "**created_time**",
            "**for_site**",
            "**id**",
            [
              "**mist_das**: configure cloud-assisted dynamic authorization service on this cluster of mist edges",
              {
                "$ul": [
                  "**coa_servers**: dynamic authorization clients configured to send CoA|DM to mist edges on port 3799",
                  "**enabled** (default: false)"
                ]
              }
            ],
            [
              "**mist_nac**: ",
              {
                "$ul": [
                  "**acct_server_port** (default: 1813)",
                  "**auth_server_port** (default: 1812)",
                  "**client_ips**",
                  "**enabled**",
                  "**secret**"
                ]
              }
            ],
            "**modified_time**",
            "**name**",
            "**org_id**",
            [
              "**proxy**: Proxy Configuration to talk to Mist",
              {
                "$ul": [
                  "**url**"
                ]
              }
            ],
            [
              "**radsec**: MxEdge Radsec Configuration",
              {
                "$ul": [
                  "**acct_servers**: list of RADIUS accounting servers, optional, order matters where the first one is treated as primary",
                  "**auth_servers**: list of RADIUS authentication servers, order matters where the first one is treated as primary",
                  "**enabled**: whether to enable service on Mist Edge i.e. RADIUS proxy over TLS",
                  "**match_ssid**: whether to match ssid in request message to select from a subset of RADIUS servers",
                  "**proxy_hosts**: hostnames or IPs for Mist AP to use as the TLS Server (i.e. they are reachable from AP) in addition to `tunterm_hosts`",
                  "**server_selection**: ordered (default) / unordered. When ordered, Mist Edge will prefer and go back to the first radius server if possible (default: ordered)",
                  "**source**: Specify source address to use when connecting to RADIUS servers (default: any)"
                ]
              }
            ],
            [
              "**radsec_tls**",
              {
                "$ul": [
                  "**keypair**"
                ]
              }
            ],
            "**site_id**",
            "**tunterm_ap_subnets**: list of subnets where we allow AP to establish Mist Tunnels from",
            [
              "**tunterm_dhcpd_config**: DHCP server/relay configuration of Mist Tunneled VLANs. The property key is the VLAN ID",
              {
                "$ul": [
                  "**enabled** (default: false)",
                  "**servers**",
                  "**type** (default: relay)"
                ]
              }
            ],
            "**tunterm_extra_routes**: extra routes for Mist Tunneled VLANs. The property key is a CIDR",
            "**tunterm_hosts**: hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)",
            "**tunterm_hosts_order**: list of index of tunterm_hosts",
            "**tunterm_hosts_selection**: Ordering of tunterm_hosts for mxedge within the same mxcluster.  (default: shuffle)",
            "**tunterm_monitoring**",
            "**tunterm_monitoring_disabled**"
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": {
                "$": "$.item.name"
              }
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
