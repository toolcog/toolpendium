{
  "name": "createOrgGatewaysCredentials",
  "description": "Create credential for gateways\n",
  "parameters": {
    "type": "object",
    "properties": {
      "org_id": {
        "example": "000000ab-00ab-00ab-00ab-0000000000ab",
        "format": "uuid",
        "type": "string"
      },
      "device_id": {
        "example": "000000ab-00ab-00ab-00ab-0000000000ab",
        "format": "uuid",
        "type": "string"
      },
      "body": {
        "properties": {
          "latlng": {
            "description": "by default, we'll use the Site lat/lng, but overwrite can be given",
            "properties": {
              "lat": {
                "example": 37.295833,
                "type": "number"
              },
              "lng": {
                "example": -122.032946,
                "type": "number"
              }
            },
            "type": "object"
          },
          "name": {
            "example": "tunnel-name",
            "type": "string"
          },
          "primary": {
            "properties": {
              "num_hosts": {
                "example": 1,
                "type": "integer"
              },
              "wan_names": {
                "description": "optional, only needed if `vars_only`==`false`",
                "items": {
                  "example": "wan0",
                  "type": "string"
                },
                "type": "array"
              }
            },
            "type": "object"
          },
          "provider": {
            "enum": [
              "zscaler-ipsec",
              "zscaler-gre"
            ],
            "type": "string"
          },
          "region": {
            "default": "auto",
            "enum": [
              "auto",
              "EMEA",
              "Americas",
              "APAC"
            ],
            "type": "string"
          },
          "secondary": {
            "nullable": true,
            "properties": {
              "num_hosts": {
                "example": 1,
                "type": "integer"
              },
              "wan_names": {
                "description": "optional, only needed if `vars_only`==`false`",
                "items": {
                  "example": "wan0",
                  "type": "string"
                },
                "type": "array"
              }
            },
            "type": "object"
          },
          "vars_only": {
            "default": false,
            "description": "if false, we'd generate the config inline",
            "type": "boolean"
          }
        },
        "type": "object",
        "x-examples": {
          "Example 1": {
            "latlng": {
              "lat": 37.295833,
              "lng": -122.032946
            },
            "name": "tunnel-name",
            "primary": {
              "num_hosts": 2,
              "wan_names": [
                "wan0",
                "wan1"
              ]
            },
            "provider": "zscaler-ipsec",
            "region": "auto",
            "secondary": null,
            "vars_only": true
          }
        }
      }
    },
    "required": [
      "org_id",
      "device_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.mist.com/api/v1/orgs/{org_id}/devices/{device_id}/provision_tunnels"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**vars**",
              {
                "$ul": [
                  "**ZSCALER_IPSEC_LOCAL_ID**",
                  "**ZSCALER_IPSEC_PRIMARY_HOST_1_{TUNNEL-NAME}**",
                  "**ZSCALER_IPSEC_PRIMARY_HOST_2_{TUNNEL-NAME}**",
                  "**ZSCALER_IPSEC_PSK**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
