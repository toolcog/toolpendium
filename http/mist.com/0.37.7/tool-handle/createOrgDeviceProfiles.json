{
  "name": "createOrgDeviceProfiles",
  "description": "Create Device Profile",
  "parameters": {
    "type": "object",
    "properties": {
      "org_id": {
        "example": "000000ab-00ab-00ab-00ab-0000000000ab",
        "format": "uuid",
        "type": "string"
      },
      "body": {
        "$ref": "#/components/schemas/deviceprofile",
        "description": "Request Body"
      }
    },
    "required": [
      "org_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.mist.com/api/v1/orgs/{org_id}/deviceprofiles"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Device Profile",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**aeroscout**: Aeroscout AP settings",
              {
                "$ul": [
                  "**enabled**: whether to enable aeroscout config (default: false)",
                  "**host**: required if enabled, aeroscout server host",
                  "**locate_connected**: whether to enable the feature to allow wireless clients data received and sent to AES server for location calculation"
                ]
              }
            ],
            [
              "**ble_config**: BLE AP settings",
              {
                "$ul": [
                  "**beacon_enabled**: whether Mist beacons is enabled (default: true)",
                  "**beacon_rate**: required if `beacon_rate_mode`==`custom`, 1-10, in number-beacons-per-second",
                  "**beacon_rate_mode** (default: default)",
                  "**beam_disabled**: list of AP BLE location beam numbers (1-8) which should be disabled at the AP and not transmit location information (where beam 1 is oriented at the top the AP, growing counter-clock-wise, with 9 being the omni BLE beam)",
                  "**eddystone_uid_adv_power**: advertised TX Power, -100 to 20 (dBm), omit this attribute to use default",
                  "**eddystone_uid_beams**",
                  "**eddystone_uid_enabled**: only if `beacon_enabled`==`false`, Whether Eddystone-UID beacon is enabled",
                  "**eddystone_uid_freq_msec**: Frequency (msec) of data emmit by Eddystone-UID beacon",
                  "**eddystone_uid_instance**: Eddystone-UID instance for the device",
                  "**eddystone_uid_namespace**: Eddystone-UID namespace",
                  "**eddystone_url_adv_power**: advertised TX Power, -100 to 20 (dBm), omit this attribute to use default",
                  "**eddystone_url_beams**",
                  "**eddystone_url_enabled**: only if `beacon_enabled`==`false`, Whether Eddystone-URL beacon is enabled",
                  "**eddystone_url_freq_msec**: Frequency (msec) of data emmit by Eddystone-UID beacon",
                  "**eddystone_url_url**: URL pointed by Eddystone-URL beacon",
                  "**ibeacon_adv_power**: advertised TX Power, -100 to 20 (dBm), omit this attribute to use default",
                  "**ibeacon_beams**",
                  "**ibeacon_enabled**: can be enabled if `beacon_enabled`==`true`, whether to send iBeacon (default: false)",
                  "**ibeacon_freq_msec**: Frequency (msec) of data emmit for iBeacon",
                  "**ibeacon_major**: Major number for iBeacon",
                  "**ibeacon_minor**: Minor number for iBeacon",
                  "**ibeacon_uuid**: optional, if not specified, the same UUID as the beacon will be used",
                  "**power**: required if `power_mode`==`custom` (default: 9)",
                  "**power_mode**: default / custom"
                ]
              }
            ],
            "**created_time**",
            "**disable_eth1**: whether to disable eth1 port (default: false)",
            "**disable_eth2**: whether to disable eth2 port (default: false)",
            "**disable_eth3**: whether to disable eth3 port (default: false)",
            "**disable_module**: whether to disable module port (default: false)",
            "**for_site**",
            "**height**: Device Only. Height, in meters, optional",
            "**id**",
            [
              "**iot_config**: IoT AP settings",
              {
                "$ul": [
                  [
                    "**A1**: IoT output AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**output**: whether the pin is configured as an output. DO and A1-A4 can be repurposed by changing",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none",
                        "**value**: output pin signal level, default 0"
                      ]
                    }
                  ],
                  [
                    "**A2**: IoT output AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**output**: whether the pin is configured as an output. DO and A1-A4 can be repurposed by changing",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none",
                        "**value**: output pin signal level, default 0"
                      ]
                    }
                  ],
                  [
                    "**A3**: IoT output AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**output**: whether the pin is configured as an output. DO and A1-A4 can be repurposed by changing",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none",
                        "**value**: output pin signal level, default 0"
                      ]
                    }
                  ],
                  [
                    "**A4**: IoT output AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**output**: whether the pin is configured as an output. DO and A1-A4 can be repurposed by changing",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none",
                        "**value**: output pin signal level, default 0"
                      ]
                    }
                  ],
                  [
                    "**DI1**: IoT Input AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none"
                      ]
                    }
                  ],
                  [
                    "**DI2**: IoT Input AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none"
                      ]
                    }
                  ],
                  [
                    "**DO**: IoT output AP settings",
                    {
                      "$ul": [
                        "**enabled**: whether to enable a pin (default: false)",
                        "**name**: optional; descriptive pin name",
                        "**output**: whether the pin is configured as an output. DO and A1-A4 can be repurposed by changing",
                        "**pullup**: the type of pull-up the pin uses (internal, external, none), default none",
                        "**value**: output pin signal level, default 0"
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              "**ip_config**: IP AP settings",
              {
                "$ul": [
                  "**dns**: if `type`==`static`",
                  "**dns_suffix**: required if `type`==`static`",
                  "**gateway**: required if `type`==`static`",
                  "**gateway6**",
                  "**ip**: required if `type`==`static`",
                  "**ip6**",
                  "**mtu**",
                  "**netmask**: required if `type`==`static`",
                  "**netmask6**",
                  "**type**: static / dhcp (default)",
                  "**type6**",
                  "**vlan_id**: management vlan id, default is 1 (untagged) (default: 1)"
                ]
              }
            ],
            [
              "**led**: LED AP settings",
              {
                "$ul": [
                  "**brightness**",
                  "**enabled**"
                ]
              }
            ],
            "**map_id**: Device Only.. Map where the device belongs to",
            [
              "**mesh**: Mesh AP settings",
              {
                "$ul": [
                  "**enabled**: whether mesh is enabled on this AP (default: false)",
                  "**group**: mesh group, base AP(s) will only allow remote AP(s) in the same mesh group to join, 1-9, optional",
                  "**role**: base / remote"
                ]
              }
            ],
            "**modified_time**",
            "**name**",
            "**notes**: Device Only. Any notes about this AP",
            "**ntp_servers**",
            "**org_id**",
            "**orientation**: Device Only. Orientation, 0-359, in degrees, up is 0, right is 90.",
            "**orientation_overwrite**: whether the user overwrite the orientation",
            "**poe_passthrough**: whether to enable power out through module port (for APH) or eth1 (for APL/BT11) (default: false)",
            "**port_config**: The property key is the interface(s) name (e.g. \"eth1,eth2\")",
            [
              "**pwr_config**: power related configs",
              {
                "$ul": [
                  "**base**: additional power to request during negotiating with PSE over PoE, in mW (default: 0)"
                ]
              }
            ],
            [
              "**radio_config**: Radio AP settings",
              {
                "$ul": [
                  "**allow_rrm_disable** (default: false)",
                  "**ant_gain_24**: antenna gain for 2.4G - for models with external antenna only",
                  "**ant_gain_5**: antenna gain for 5G - for models with external antenna only",
                  "**ant_gain_6**: antenna gain for 6G - for models with external antenna only",
                  "**antenna_mode** (default: default)",
                  [
                    "**band_24**: Radio Band AP settings",
                    {
                      "$ul": [
                        "**allow_rrm_disable**",
                        "**ant_gain**",
                        "**antenna_mode** (default: default)",
                        "**bandwidth**: channel width for the band, 20 / 40 / 80 / 160, 80 is only applicable for band_5 and 160 is only for band_6, ignored if channel is 0",
                        "**channel**: For Device. (primary) channel for the band, 0 means using the Site Setting",
                        "**channels**: For RFTemplates. List of channels, null or empty array means auto",
                        "**disabled**: whether to disable the radio",
                        "**power**: TX power of the radio. For Devices, 0 mean using the Site Setting",
                        "**power_max**: when power=0, max tx power to use, HW-specific values will be used if not set",
                        "**power_min**: when power=0, min tx power to use, HW-specific values will be used if not set",
                        "**preamble** (default: short)",
                        "**usage**: for band_24 radio (default: 24)"
                      ]
                    }
                  ],
                  "**band_24_usage**: if `band_24_usage`==`5`, by default, band_5 properties is used, if specific channel/bandwidth/power/... is desired, use the \"band_5_on_24_radio\" (default: 24)",
                  [
                    "**band_5**: Radio Band AP settings",
                    {
                      "$ul": [
                        "**allow_rrm_disable**",
                        "**ant_gain**",
                        "**antenna_mode** (default: default)",
                        "**bandwidth**: channel width for the band, 20 / 40 / 80 / 160, 80 is only applicable for band_5 and 160 is only for band_6, ignored if channel is 0",
                        "**channel**: For Device. (primary) channel for the band, 0 means using the Site Setting",
                        "**channels**: For RFTemplates. List of channels, null or empty array means auto",
                        "**disabled**: whether to disable the radio",
                        "**power**: TX power of the radio. For Devices, 0 mean using the Site Setting",
                        "**power_max**: when power=0, max tx power to use, HW-specific values will be used if not set",
                        "**power_min**: when power=0, min tx power to use, HW-specific values will be used if not set",
                        "**preamble** (default: short)",
                        "**usage**: for band_24 radio (default: 24)"
                      ]
                    }
                  ],
                  [
                    "**band_5_on_24_radio**: Radio Band AP settings",
                    {
                      "$ul": [
                        "**allow_rrm_disable**",
                        "**ant_gain**",
                        "**antenna_mode** (default: default)",
                        "**bandwidth**: channel width for the band, 20 / 40 / 80 / 160, 80 is only applicable for band_5 and 160 is only for band_6, ignored if channel is 0",
                        "**channel**: For Device. (primary) channel for the band, 0 means using the Site Setting",
                        "**channels**: For RFTemplates. List of channels, null or empty array means auto",
                        "**disabled**: whether to disable the radio",
                        "**power**: TX power of the radio. For Devices, 0 mean using the Site Setting",
                        "**power_max**: when power=0, max tx power to use, HW-specific values will be used if not set",
                        "**power_min**: when power=0, min tx power to use, HW-specific values will be used if not set",
                        "**preamble** (default: short)",
                        "**usage**: for band_24 radio (default: 24)"
                      ]
                    }
                  ],
                  [
                    "**band_6**: Radio Band AP settings",
                    {
                      "$ul": [
                        "**allow_rrm_disable**",
                        "**ant_gain**",
                        "**antenna_mode** (default: default)",
                        "**bandwidth**: channel width for the band, 20 / 40 / 80 / 160, 80 is only applicable for band_5 and 160 is only for band_6, ignored if channel is 0",
                        "**channel**: For Device. (primary) channel for the band, 0 means using the Site Setting",
                        "**channels**: For RFTemplates. List of channels, null or empty array means auto",
                        "**disabled**: whether to disable the radio",
                        "**power**: TX power of the radio. For Devices, 0 mean using the Site Setting",
                        "**power_max**: when power=0, max tx power to use, HW-specific values will be used if not set",
                        "**power_min**: when power=0, min tx power to use, HW-specific values will be used if not set",
                        "**preamble** (default: short)",
                        "**usage**: for band_24 radio (default: 24)"
                      ]
                    }
                  ],
                  "**scanning_enabled**: whether scanning radio is enabled"
                ]
              }
            ],
            "**site_id**",
            [
              "**switch_config**: for people who want to fully control the vlans (advanced)",
              {
                "$ul": [
                  "**enabled** (default: false)",
                  [
                    "**eth0**",
                    {
                      "$ul": [
                        "**additional_vlan_ids**: additional VLAN IDs, only valid in mesh base mode",
                        "**enable_vlan**",
                        "**port_vlan_id**: native VLAN id, optional",
                        "**vlan_ids**: list of VLAN ids this"
                      ]
                    }
                  ],
                  [
                    "**eth1**",
                    {
                      "$ul": [
                        "**additional_vlan_ids**: additional VLAN IDs, only valid in mesh base mode",
                        "**enable_vlan**",
                        "**port_vlan_id**: native VLAN id, optional",
                        "**vlan_ids**: list of VLAN ids this"
                      ]
                    }
                  ],
                  [
                    "**eth2**",
                    {
                      "$ul": [
                        "**additional_vlan_ids**: additional VLAN IDs, only valid in mesh base mode",
                        "**enable_vlan**",
                        "**port_vlan_id**: native VLAN id, optional",
                        "**vlan_ids**: list of VLAN ids this"
                      ]
                    }
                  ],
                  [
                    "**eth3**",
                    {
                      "$ul": [
                        "**additional_vlan_ids**: additional VLAN IDs, only valid in mesh base mode",
                        "**enable_vlan**",
                        "**port_vlan_id**: native VLAN id, optional",
                        "**vlan_ids**: list of VLAN ids this"
                      ]
                    }
                  ],
                  [
                    "**module**",
                    {
                      "$ul": [
                        "**additional_vlan_ids**: additional VLAN IDs, only valid in mesh base mode",
                        "**enable_vlan**",
                        "**port_vlan_id**: native VLAN id, optional",
                        "**vlan_ids**: list of VLAN ids this"
                      ]
                    }
                  ],
                  [
                    "**wds**",
                    {
                      "$ul": [
                        "**additional_vlan_ids**: additional VLAN IDs, only valid in mesh base mode",
                        "**enable_vlan**",
                        "**port_vlan_id**: native VLAN id, optional",
                        "**vlan_ids**: list of VLAN ids this"
                      ]
                    }
                  ]
                ]
              }
            ],
            "**type** (default: ap)",
            [
              "**usb_config**: USB AP settings",
              {
                "$ul": [
                  "**cacert**: only if `type`==`imagotag`",
                  "**channel**: only if `type`==`imagotag`",
                  "**enabled**: whether to enable any usb config",
                  "**host**: only if `type`==`imagotag`",
                  "**imagotag_type**: only if `type`==`imagotag` (default: auto)",
                  "**port**: only if `type`==`imagotag` (default: 0)",
                  "**type**: usb config type",
                  "**verify_cert**: only if `type`==`imagotag`, whether to turn on SSL verification",
                  "**vlan_id**: only if `type`==`solum` or `type`==`hanshow` (default: 1)"
                ]
              }
            ],
            "**vars**: a dictionary of name->value, the vars can then be used in Wlans. This can overwrite those from Site Vars",
            "**x**: Device Only. x in pixel",
            "**y**: Device Only. y in pixel"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**detail**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
