{
  "name": "CreateVpcIngressConnection",
  "description": "Create an App Runner VPC Ingress Connection resource. App Runner requires this resource when you want to associate your App Runner service with an Amazon VPC endpoint.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "AppRunner.CreateVpcIngressConnection"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateVpcIngressConnectionRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateVpcIngressConnectionRequest": {
        "type": "object",
        "required": [
          "ServiceArn",
          "VpcIngressConnectionName",
          "IngressVpcConfiguration"
        ],
        "title": "CreateVpcIngressConnectionRequest",
        "properties": {
          "ServiceArn": {
            "allOf": [
              {
                "$ref": "#/$defs/AppRunnerResourceArn"
              },
              {
                "description": "The Amazon Resource Name (ARN) for this App Runner service that is used to create the VPC Ingress Connection resource."
              }
            ]
          },
          "VpcIngressConnectionName": {
            "allOf": [
              {
                "$ref": "#/$defs/VpcIngressConnectionName"
              },
              {
                "description": "A name for the VPC Ingress Connection resource. It must be unique across all the active VPC Ingress Connections in your Amazon Web Services account in the Amazon Web Services Region. "
              }
            ]
          },
          "IngressVpcConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/IngressVpcConfiguration"
              },
              {
                "description": "Specifications for the customerâ€™s Amazon VPC and the related Amazon Web Services PrivateLink VPC endpoint that are used to create the VPC Ingress Connection resource."
              }
            ]
          },
          "Tags": {
            "allOf": [
              {
                "$ref": "#/$defs/TagList"
              },
              {
                "description": "An optional list of metadata items that you can associate with the VPC Ingress Connection resource. A tag is a key-value pair."
              }
            ]
          }
        }
      },
      "AppRunnerResourceArn": {
        "type": "string",
        "pattern": "arn:aws(-[\\w]+)*:[a-z0-9-\\\\.]{0,63}:[a-z0-9-\\\\.]{0,63}:[0-9]{12}:(\\w|\\/|-){1,1011}",
        "minLength": 1,
        "maxLength": 1011
      },
      "VpcIngressConnectionName": {
        "type": "string",
        "pattern": "[A-Za-z0-9][A-Za-z0-9\\-_]{3,39}",
        "minLength": 4,
        "maxLength": 40
      },
      "IngressVpcConfiguration": {
        "type": "object",
        "properties": {
          "VpcId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The ID of the VPC that is used for the VPC endpoint."
              }
            ]
          },
          "VpcEndpointId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The ID of the VPC endpoint that your App Runner service connects to. "
              }
            ]
          }
        },
        "description": "The configuration of your VPC and the associated VPC endpoint. The VPC endpoint is an Amazon Web Services PrivateLink resource that allows access to your App Runner services from within an Amazon VPC."
      },
      "String": {
        "type": "string",
        "pattern": ".*",
        "minLength": 0,
        "maxLength": 51200
      },
      "TagList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Tag"
        }
      },
      "Tag": {
        "type": "object",
        "properties": {
          "Key": {
            "allOf": [
              {
                "$ref": "#/$defs/TagKey"
              },
              {
                "description": "The key of the tag."
              }
            ]
          },
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/TagValue"
              },
              {
                "description": "The value of the tag."
              }
            ]
          }
        },
        "description": "Describes a tag that is applied to an App Runner resource. A tag is a metadata item consisting of a key-value pair."
      },
      "TagKey": {
        "type": "string",
        "pattern": "^(?!aws:).+",
        "minLength": 1,
        "maxLength": 128
      },
      "TagValue": {
        "type": "string",
        "pattern": ".*",
        "minLength": 0,
        "maxLength": 256
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://apprunner.us-east-1.amazonaws.com/#X-Amz-Target=AppRunner.CreateVpcIngressConnection"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**VpcIngressConnection**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
