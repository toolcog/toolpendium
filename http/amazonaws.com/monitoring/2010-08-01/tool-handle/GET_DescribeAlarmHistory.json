{
  "name": "GET_DescribeAlarmHistory",
  "description": "<p>Retrieves the history for the specified alarm. You can filter the results by date range or item type. If an alarm name is not specified, the histories for either all metric alarms or all composite alarms are returned.</p> <p>CloudWatch retains the history of an alarm even if you delete the alarm.</p> <p>To use this operation and return information about a composite alarm, you must be signed on with the <code>cloudwatch:DescribeAlarmHistory</code> permission that is scoped to <code>*</code>. You can't return information about composite alarms if your <code>cloudwatch:DescribeAlarmHistory</code> permission has a narrower scope.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "AlarmName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "description": "The name of the alarm."
      },
      "AlarmTypes": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/AlarmType"
        },
        "description": "Use this parameter to specify whether you want the operation to return metric alarms or composite alarms. If you omit this parameter, only metric alarms are returned."
      },
      "HistoryItemType": {
        "type": "string",
        "enum": [
          "ConfigurationUpdate",
          "StateUpdate",
          "Action"
        ],
        "description": "The type of alarm histories to retrieve."
      },
      "StartDate": {
        "type": "string",
        "format": "date-time",
        "description": "The starting date to retrieve alarm history."
      },
      "EndDate": {
        "type": "string",
        "format": "date-time",
        "description": "The ending date to retrieve alarm history."
      },
      "MaxRecords": {
        "type": "integer",
        "minimum": 1,
        "maximum": 100,
        "description": "The maximum number of alarm history records to retrieve."
      },
      "NextToken": {
        "type": "string",
        "description": "The token returned by a previous call to indicate that there is more data available."
      },
      "ScanBy": {
        "type": "string",
        "enum": [
          "TimestampDescending",
          "TimestampAscending"
        ],
        "description": "Specified whether to return the newest or oldest alarm history first. Specify <code>TimestampDescending</code> to have the newest event history returned first, and specify <code>TimestampAscending</code> to have the oldest history returned first."
      },
      "Action": {
        "type": "string",
        "enum": [
          "DescribeAlarmHistory"
        ]
      },
      "Version": {
        "type": "string",
        "enum": [
          "2010-08-01"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      }
    },
    "required": [
      "Action",
      "Version"
    ],
    "$defs": {
      "AlarmType": {
        "type": "string",
        "enum": [
          "CompositeAlarm",
          "MetricAlarm"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "http://monitoring.us-east-1.amazonaws.com/#Action=DescribeAlarmHistory{?AlarmName,AlarmTypes,HistoryItemType,StartDate,EndDate,MaxRecords,NextToken,ScanBy,Action,Version}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**AlarmHistoryItems**",
            "**NextToken**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
