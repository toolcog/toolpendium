{
  "name": "CreateBulkImportJob",
  "description": "<p>Defines a job to ingest data to IoT SiteWise from Amazon S3. For more information, see <a href=\"https://docs.aws.amazon.com/iot-sitewise/latest/userguide/CreateBulkImportJob.html\">Create a bulk import job (CLI)</a> in the <i>Amazon Simple Storage Service User Guide</i>.</p> <important> <p>You must enable IoT SiteWise to export data to Amazon S3 before you create a bulk import job. For more information about how to configure storage settings, see <a href=\"https://docs.aws.amazon.com/iot-sitewise/latest/APIReference/API_PutStorageConfiguration.html\">PutStorageConfiguration</a>.</p> </important>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "jobName",
          "jobRoleArn",
          "files",
          "errorReportLocation",
          "jobConfiguration"
        ],
        "properties": {
          "jobName": {
            "description": "The unique name that helps identify the job request.",
            "type": "string",
            "pattern": "[^\\u0000-\\u001F\\u007F]+",
            "minLength": 1,
            "maxLength": 256
          },
          "jobRoleArn": {
            "description": "The <a href=\"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html\">ARN</a> of the IAM role that allows IoT SiteWise to read Amazon S3 data.",
            "type": "string",
            "pattern": ".*",
            "minLength": 1,
            "maxLength": 1600
          },
          "files": {
            "description": "The files in the specified Amazon S3 bucket that contain your data.",
            "type": "array",
            "items": {
              "$ref": "#/$defs/File"
            }
          },
          "errorReportLocation": {
            "description": "The Amazon S3 destination where errors associated with the job creation request are saved.",
            "type": "object",
            "properties": {
              "bucket": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Bucket"
                  },
                  {
                    "description": "The name of the Amazon S3 bucket to which errors associated with the bulk import job are sent."
                  }
                ]
              },
              "prefix": {
                "allOf": [
                  {
                    "$ref": "#/$defs/String"
                  },
                  {
                    "description": "Amazon S3 uses the prefix as a folder name to organize data in the bucket. Each Amazon S3 object has a key that is its unique identifier in the bucket. Each object in a bucket has exactly one key. The prefix must end with a forward slash (/). For more information, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-prefixes.html\">Organizing objects using prefixes</a> in the <i>Amazon Simple Storage Service User Guide</i>."
                  }
                ]
              }
            }
          },
          "jobConfiguration": {
            "description": "Contains the configuration information of a job, such as the file format used to save data in Amazon S3.",
            "type": "object",
            "properties": {
              "fileFormat": {
                "allOf": [
                  {
                    "$ref": "#/$defs/FileFormat"
                  },
                  {
                    "description": "The file format of the data in Amazon S3."
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "File": {
        "type": "object",
        "required": [
          "bucket",
          "key"
        ],
        "properties": {
          "bucket": {
            "allOf": [
              {
                "$ref": "#/$defs/Bucket"
              },
              {
                "description": "The name of the Amazon S3 bucket from which data is imported."
              }
            ]
          },
          "key": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The key of the Amazon S3 object that contains your data. Each object has a key that is a unique identifier. Each object has exactly one key."
              }
            ]
          },
          "versionId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The version ID to identify a specific version of the Amazon S3 object that contains your data."
              }
            ]
          }
        },
        "description": "The file in Amazon S3 where your data is saved. "
      },
      "Bucket": {
        "type": "string",
        "minLength": 3,
        "maxLength": 63
      },
      "String": {
        "type": "string"
      },
      "FileFormat": {
        "type": "object",
        "properties": {
          "csv": {
            "allOf": [
              {
                "$ref": "#/$defs/Csv"
              },
              {
                "description": "The .csv file format."
              }
            ]
          }
        },
        "description": "The file format of the data."
      },
      "Csv": {
        "type": "object",
        "properties": {
          "columnNames": {
            "allOf": [
              {
                "$ref": "#/$defs/ColumnNames"
              },
              {
                "description": "The column names specified in the .csv file."
              }
            ]
          }
        },
        "description": "A .csv file."
      },
      "ColumnNames": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/ColumnName"
        }
      },
      "ColumnName": {
        "type": "string",
        "enum": [
          "ALIAS",
          "ASSET_ID",
          "PROPERTY_ID",
          "DATA_TYPE",
          "TIMESTAMP_SECONDS",
          "TIMESTAMP_NANO_OFFSET",
          "QUALITY",
          "VALUE"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://iotsitewise.us-east-1.amazonaws.com/jobs"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "202": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**jobId**",
            "**jobName**",
            "**jobStatus**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
