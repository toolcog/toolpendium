{
  "name": "CreateResolverEndpoint",
  "description": "<p>Creates a Resolver endpoint. There are two types of Resolver endpoints, inbound and outbound:</p> <ul> <li> <p>An <i>inbound Resolver endpoint</i> forwards DNS queries to the DNS service for a VPC from your network.</p> </li> <li> <p>An <i>outbound Resolver endpoint</i> forwards DNS queries from the DNS service for a VPC to your network.</p> </li> </ul>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "Route53Resolver.CreateResolverEndpoint"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateResolverEndpointRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateResolverEndpointRequest": {
        "type": "object",
        "required": [
          "CreatorRequestId",
          "SecurityGroupIds",
          "Direction",
          "IpAddresses"
        ],
        "title": "CreateResolverEndpointRequest",
        "properties": {
          "CreatorRequestId": {
            "allOf": [
              {
                "$ref": "#/$defs/CreatorRequestId"
              },
              {
                "description": "A unique string that identifies the request and that allows failed requests to be retried without the risk of running the operation twice. <code>CreatorRequestId</code> can be any unique string, for example, a date/time stamp. "
              }
            ]
          },
          "Name": {
            "allOf": [
              {
                "$ref": "#/$defs/Name"
              },
              {
                "description": "A friendly name that lets you easily find a configuration in the Resolver dashboard in the Route 53 console."
              }
            ]
          },
          "SecurityGroupIds": {
            "allOf": [
              {
                "$ref": "#/$defs/SecurityGroupIds"
              },
              {
                "description": "The ID of one or more security groups that you want to use to control access to this VPC. The security group that you specify must include one or more inbound rules (for inbound Resolver endpoints) or outbound rules (for outbound Resolver endpoints). Inbound and outbound rules must allow TCP and UDP access. For inbound access, open port 53. For outbound access, open the port that you're using for DNS queries on your network."
              }
            ]
          },
          "Direction": {
            "allOf": [
              {
                "$ref": "#/$defs/ResolverEndpointDirection"
              },
              {
                "description": "<p>Specify the applicable value:</p> <ul> <li> <p> <code>INBOUND</code>: Resolver forwards DNS queries to the DNS service for a VPC from your network</p> </li> <li> <p> <code>OUTBOUND</code>: Resolver forwards DNS queries from the DNS service for a VPC to your network</p> </li> </ul>"
              }
            ]
          },
          "IpAddresses": {
            "allOf": [
              {
                "$ref": "#/$defs/IpAddressesRequest"
              },
              {
                "description": "The subnets and IP addresses in your VPC that DNS queries originate from (for outbound endpoints) or that you forward DNS queries to (for inbound endpoints). The subnet ID uniquely identifies a VPC. "
              }
            ]
          },
          "Tags": {
            "allOf": [
              {
                "$ref": "#/$defs/TagList"
              },
              {
                "description": "A list of the tag keys and values that you want to associate with the endpoint."
              }
            ]
          },
          "ResolverEndpointType": {
            "allOf": [
              {
                "$ref": "#/$defs/ResolverEndpointType"
              },
              {
                "description": " For the endpoint type you can choose either IPv4, IPv6, or dual-stack. A dual-stack endpoint means that it will resolve via both IPv4 and IPv6. This endpoint type is applied to all IP addresses. "
              }
            ]
          },
          "OutpostArn": {
            "allOf": [
              {
                "$ref": "#/$defs/OutpostArn"
              },
              {
                "description": "The Amazon Resource Name (ARN) of the Outpost. If you specify this, you must also specify a value for the <code>PreferredInstanceType</code>. "
              }
            ]
          },
          "PreferredInstanceType": {
            "allOf": [
              {
                "$ref": "#/$defs/OutpostInstanceType"
              },
              {
                "description": "The instance type. If you specify this, you must also specify a value for the <code>OutpostArn</code>."
              }
            ]
          }
        }
      },
      "CreatorRequestId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255
      },
      "Name": {
        "type": "string",
        "pattern": "(?!^[0-9]+$)([a-zA-Z0-9\\-_' ']+)",
        "maxLength": 64
      },
      "SecurityGroupIds": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/ResourceId"
        }
      },
      "ResourceId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 64
      },
      "ResolverEndpointDirection": {
        "type": "string",
        "enum": [
          "INBOUND",
          "OUTBOUND"
        ]
      },
      "IpAddressesRequest": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/IpAddressRequest"
        },
        "minItems": 1,
        "maxItems": 20
      },
      "IpAddressRequest": {
        "type": "object",
        "required": [
          "SubnetId"
        ],
        "properties": {
          "SubnetId": {
            "allOf": [
              {
                "$ref": "#/$defs/SubnetId"
              },
              {
                "description": "The ID of the subnet that contains the IP address. "
              }
            ]
          },
          "Ip": {
            "allOf": [
              {
                "$ref": "#/$defs/Ip"
              },
              {
                "description": "The IPv4 address that you want to use for DNS queries."
              }
            ]
          },
          "Ipv6": {
            "allOf": [
              {
                "$ref": "#/$defs/Ipv6"
              },
              {
                "description": " The IPv6 address that you want to use for DNS queries. "
              }
            ]
          }
        },
        "description": "In a <a href=\"https://docs.aws.amazon.com/Route53/latest/APIReference/API_route53resolver_CreateResolverEndpoint.html\">CreateResolverEndpoint</a> request, the IP address that DNS queries originate from (for outbound endpoints) or that you forward DNS queries to (for inbound endpoints). <code>IpAddressRequest</code> also includes the ID of the subnet that contains the IP address."
      },
      "SubnetId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 32
      },
      "Ip": {
        "type": "string",
        "minLength": 7,
        "maxLength": 36
      },
      "Ipv6": {
        "type": "string",
        "minLength": 7,
        "maxLength": 39
      },
      "TagList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Tag"
        },
        "maxItems": 200
      },
      "Tag": {
        "type": "object",
        "required": [
          "Key",
          "Value"
        ],
        "properties": {
          "Key": {
            "allOf": [
              {
                "$ref": "#/$defs/TagKey"
              },
              {
                "description": "The name for the tag. For example, if you want to associate Resolver resources with the account IDs of your customers for billing purposes, the value of <code>Key</code> might be <code>account-id</code>."
              }
            ]
          },
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/TagValue"
              },
              {
                "description": "The value for the tag. For example, if <code>Key</code> is <code>account-id</code>, then <code>Value</code> might be the ID of the customer account that you're creating the resource for."
              }
            ]
          }
        },
        "description": "One tag that you want to add to the specified resource. A tag consists of a <code>Key</code> (a name for the tag) and a <code>Value</code>."
      },
      "TagKey": {
        "type": "string",
        "minLength": 1,
        "maxLength": 128
      },
      "TagValue": {
        "type": "string",
        "minLength": 0,
        "maxLength": 256
      },
      "ResolverEndpointType": {
        "type": "string",
        "enum": [
          "IPV6",
          "IPV4",
          "DUALSTACK"
        ]
      },
      "OutpostArn": {
        "type": "string",
        "pattern": "^arn:aws([a-z-]+)?:outposts:[a-z\\d-]+:\\d{12}:outpost/op-[a-f0-9]{17}$",
        "minLength": 1,
        "maxLength": 255
      },
      "OutpostInstanceType": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://route53resolver.us-east-1.amazonaws.com/#X-Amz-Target=Route53Resolver.CreateResolverEndpoint"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**ResolverEndpoint**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
