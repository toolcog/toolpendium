{
  "name": "CreateMigrationProject",
  "description": "<p>Creates the migration project using the specified parameters.</p> <p>You can run this action only after you create an instance profile and data providers using <a href=\"https://docs.aws.amazon.com/dms/latest/APIReference/API_CreateInstanceProfile.html\">CreateInstanceProfile</a> and <a href=\"https://docs.aws.amazon.com/dms/latest/APIReference/API_CreateDataProvider.html\">CreateDataProvider</a>.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "AmazonDMSv20160101.CreateMigrationProject"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateMigrationProjectMessage"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateMigrationProjectMessage": {
        "type": "object",
        "required": [
          "SourceDataProviderDescriptors",
          "TargetDataProviderDescriptors",
          "InstanceProfileIdentifier"
        ],
        "title": "CreateMigrationProjectMessage",
        "properties": {
          "MigrationProjectName": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "A user-friendly name for the migration project."
              }
            ]
          },
          "SourceDataProviderDescriptors": {
            "allOf": [
              {
                "$ref": "#/$defs/DataProviderDescriptorDefinitionList"
              },
              {
                "description": "Information about the source data provider, including the name, ARN, and Secrets Manager parameters."
              }
            ]
          },
          "TargetDataProviderDescriptors": {
            "allOf": [
              {
                "$ref": "#/$defs/DataProviderDescriptorDefinitionList"
              },
              {
                "description": "Information about the target data provider, including the name, ARN, and Amazon Web Services Secrets Manager parameters."
              }
            ]
          },
          "InstanceProfileIdentifier": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The identifier of the associated instance profile. Identifiers must begin with a letter and must contain only ASCII letters, digits, and hyphens. They can't end with a hyphen, or contain two consecutive hyphens."
              }
            ]
          },
          "TransformationRules": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The settings in JSON format for migration rules. Migration rules make it possible for you to change the object names according to the rules that you specify. For example, you can change an object name to lowercase or uppercase, add or remove a prefix or suffix, or rename objects."
              }
            ]
          },
          "Description": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "A user-friendly description of the migration project."
              }
            ]
          },
          "Tags": {
            "allOf": [
              {
                "$ref": "#/$defs/TagList"
              },
              {
                "description": "One or more tags to be assigned to the migration project."
              }
            ]
          },
          "SchemaConversionApplicationAttributes": {
            "allOf": [
              {
                "$ref": "#/$defs/SCApplicationAttributes"
              },
              {
                "description": "The schema conversion application attributes, including the Amazon S3 bucket name and Amazon S3 role ARN."
              }
            ]
          }
        }
      },
      "String": {
        "type": "string"
      },
      "DataProviderDescriptorDefinitionList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/DataProviderDescriptorDefinition"
        }
      },
      "DataProviderDescriptorDefinition": {
        "type": "object",
        "required": [
          "DataProviderIdentifier"
        ],
        "properties": {
          "DataProviderIdentifier": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The name or Amazon Resource Name (ARN) of the data provider."
              }
            ]
          },
          "SecretsManagerSecretId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The identifier of the Amazon Web Services Secrets Manager Secret used to store access credentials for the data provider."
              }
            ]
          },
          "SecretsManagerAccessRoleArn": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The ARN of the role used to access Amazon Web Services Secrets Manager."
              }
            ]
          }
        },
        "description": "Information about a data provider."
      },
      "TagList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Tag"
        }
      },
      "Tag": {
        "type": "object",
        "properties": {
          "Key": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "A key is the required name of the tag. The string value can be 1-128 Unicode characters in length and can't be prefixed with \"aws:\" or \"dms:\". The string can only contain only the set of Unicode letters, digits, white-space, '_', '.', '/', '=', '+', '-' (Java regular expressions: \"^([\\\\p{L}\\\\p{Z}\\\\p{N}_.:/=+\\\\-]*)$\")."
              }
            ]
          },
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "A value is the optional value of the tag. The string value can be 1-256 Unicode characters in length and can't be prefixed with \"aws:\" or \"dms:\". The string can only contain only the set of Unicode letters, digits, white-space, '_', '.', '/', '=', '+', '-' (Java regular expressions: \"^([\\\\p{L}\\\\p{Z}\\\\p{N}_.:/=+\\\\-]*)$\")."
              }
            ]
          },
          "ResourceArn": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The Amazon Resource Name (ARN) string that uniquely identifies the resource for which the tag is created."
              }
            ]
          }
        },
        "description": "<p>A user-defined key-value pair that describes metadata added to an DMS resource and that is used by operations such as the following:</p> <ul> <li> <p> <code>AddTagsToResource</code> </p> </li> <li> <p> <code>ListTagsForResource</code> </p> </li> <li> <p> <code>RemoveTagsFromResource</code> </p> </li> </ul>"
      },
      "SCApplicationAttributes": {
        "type": "object",
        "properties": {
          "S3BucketPath": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The path for the Amazon S3 bucket that the application uses for exporting assessment reports."
              }
            ]
          },
          "S3BucketRoleArn": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The ARN for the role the application uses to access its Amazon S3 bucket."
              }
            ]
          }
        },
        "description": "Provides information that defines a schema conversion application."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://dms.us-east-1.amazonaws.com/#X-Amz-Target=AmazonDMSv20160101.CreateMigrationProject"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**MigrationProject**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
