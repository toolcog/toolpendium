{
  "name": "ModifyInstanceFleet",
  "description": "<p>Modifies the target On-Demand and target Spot capacities for the instance fleet with the specified InstanceFleetID within the cluster specified using ClusterID. The call either succeeds or fails atomically.</p> <note> <p>The instance fleet configuration is available only in Amazon EMR releases 4.8.0 and later, excluding 5.0.x versions.</p> </note>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "ElasticMapReduce.ModifyInstanceFleet"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/ModifyInstanceFleetInput"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "ModifyInstanceFleetInput": {
        "type": "object",
        "required": [
          "ClusterId",
          "InstanceFleet"
        ],
        "title": "ModifyInstanceFleetInput",
        "properties": {
          "ClusterId": {
            "allOf": [
              {
                "$ref": "#/$defs/ClusterId"
              },
              {
                "description": "The unique identifier of the cluster."
              }
            ]
          },
          "InstanceFleet": {
            "allOf": [
              {
                "$ref": "#/$defs/InstanceFleetModifyConfig"
              },
              {
                "description": "The configuration parameters of the instance fleet."
              }
            ]
          }
        }
      },
      "ClusterId": {
        "type": "string"
      },
      "InstanceFleetModifyConfig": {
        "type": "object",
        "required": [
          "InstanceFleetId"
        ],
        "properties": {
          "InstanceFleetId": {
            "allOf": [
              {
                "$ref": "#/$defs/InstanceFleetId"
              },
              {
                "description": "A unique identifier for the instance fleet."
              }
            ]
          },
          "TargetOnDemandCapacity": {
            "allOf": [
              {
                "$ref": "#/$defs/WholeNumber"
              },
              {
                "description": "The target capacity of On-Demand units for the instance fleet. For more information see <a>InstanceFleetConfig$TargetOnDemandCapacity</a>."
              }
            ]
          },
          "TargetSpotCapacity": {
            "allOf": [
              {
                "$ref": "#/$defs/WholeNumber"
              },
              {
                "description": "The target capacity of Spot units for the instance fleet. For more information, see <a>InstanceFleetConfig$TargetSpotCapacity</a>."
              }
            ]
          },
          "ResizeSpecifications": {
            "allOf": [
              {
                "$ref": "#/$defs/InstanceFleetResizingSpecifications"
              },
              {
                "description": "The resize specification for the instance fleet."
              }
            ]
          }
        },
        "description": "<p>Configuration parameters for an instance fleet modification request.</p> <note> <p>The instance fleet configuration is available only in Amazon EMR releases 4.8.0 and later, excluding 5.0.x versions.</p> </note>"
      },
      "InstanceFleetId": {
        "type": "string"
      },
      "WholeNumber": {
        "type": "integer",
        "minimum": 0
      },
      "InstanceFleetResizingSpecifications": {
        "type": "object",
        "properties": {
          "SpotResizeSpecification": {
            "allOf": [
              {
                "$ref": "#/$defs/SpotResizingSpecification"
              },
              {
                "description": "The resize specification for Spot Instances in the instance fleet, which contains the resize timeout period. "
              }
            ]
          },
          "OnDemandResizeSpecification": {
            "allOf": [
              {
                "$ref": "#/$defs/OnDemandResizingSpecification"
              },
              {
                "description": "The resize specification for On-Demand Instances in the instance fleet, which contains the resize timeout period. "
              }
            ]
          }
        },
        "description": "The resize specification for On-Demand and Spot Instances in the fleet."
      },
      "SpotResizingSpecification": {
        "type": "object",
        "required": [
          "TimeoutDurationMinutes"
        ],
        "properties": {
          "TimeoutDurationMinutes": {
            "allOf": [
              {
                "$ref": "#/$defs/WholeNumber"
              },
              {
                "description": "Spot resize timeout in minutes. If Spot Instances are not provisioned within this time, the resize workflow will stop provisioning of Spot instances. Minimum value is 5 minutes and maximum value is 10,080 minutes (7 days). The timeout applies to all resize workflows on the Instance Fleet. The resize could be triggered by Amazon EMR Managed Scaling or by the customer (via Amazon EMR Console, Amazon EMR CLI modify-instance-fleet or Amazon EMR SDK ModifyInstanceFleet API) or by Amazon EMR due to Amazon EC2 Spot Reclamation."
              }
            ]
          }
        },
        "description": "The resize specification for Spot Instances in the instance fleet, which contains the resize timeout period. "
      },
      "OnDemandResizingSpecification": {
        "type": "object",
        "required": [
          "TimeoutDurationMinutes"
        ],
        "properties": {
          "TimeoutDurationMinutes": {
            "allOf": [
              {
                "$ref": "#/$defs/WholeNumber"
              },
              {
                "description": "On-Demand resize timeout in minutes. If On-Demand Instances are not provisioned within this time, the resize workflow stops. The minimum value is 5 minutes, and the maximum value is 10,080 minutes (7 days). The timeout applies to all resize workflows on the Instance Fleet. The resize could be triggered by Amazon EMR Managed Scaling or by the customer (via Amazon EMR Console, Amazon EMR CLI modify-instance-fleet or Amazon EMR SDK ModifyInstanceFleet API) or by Amazon EMR due to Amazon EC2 Spot Reclamation."
              }
            ]
          }
        },
        "description": "The resize specification for On-Demand Instances in the instance fleet, which contains the resize timeout period. "
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://elasticmapreduce.us-east-1.amazonaws.com/#X-Amz-Target=ElasticMapReduce.ModifyInstanceFleet"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
