{
  "name": "UpdateCluster",
  "description": "Modifies the settings for a cluster. You can use this operation to change one or more cluster configuration settings by specifying the settings and the new values.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "AmazonMemoryDB.UpdateCluster"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/UpdateClusterRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "UpdateClusterRequest": {
        "type": "object",
        "required": [
          "ClusterName"
        ],
        "title": "UpdateClusterRequest",
        "properties": {
          "ClusterName": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The name of the cluster to update"
              }
            ]
          },
          "Description": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The description of the cluster to update"
              }
            ]
          },
          "SecurityGroupIds": {
            "allOf": [
              {
                "$ref": "#/$defs/SecurityGroupIdsList"
              },
              {
                "description": "The SecurityGroupIds to update"
              }
            ]
          },
          "MaintenanceWindow": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "<p>Specifies the weekly time range during which maintenance on the cluster is performed. It is specified as a range in the format ddd:hh24:mi-ddd:hh24:mi (24H Clock UTC). The minimum maintenance window is a 60 minute period.</p> <p>Valid values for <code>ddd</code> are:</p> <ul> <li> <p> <code>sun</code> </p> </li> <li> <p> <code>mon</code> </p> </li> <li> <p> <code>tue</code> </p> </li> <li> <p> <code>wed</code> </p> </li> <li> <p> <code>thu</code> </p> </li> <li> <p> <code>fri</code> </p> </li> <li> <p> <code>sat</code> </p> </li> </ul> <p>Example: <code>sun:23:00-mon:01:30</code> </p>"
              }
            ]
          },
          "SnsTopicArn": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The SNS topic ARN to update"
              }
            ]
          },
          "SnsTopicStatus": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The status of the Amazon SNS notification topic. Notifications are sent only if the status is active."
              }
            ]
          },
          "ParameterGroupName": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The name of the parameter group to update"
              }
            ]
          },
          "SnapshotWindow": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The daily time range (in UTC) during which MemoryDB begins taking a daily snapshot of your cluster."
              }
            ]
          },
          "SnapshotRetentionLimit": {
            "allOf": [
              {
                "$ref": "#/$defs/IntegerOptional"
              },
              {
                "description": "The number of days for which MemoryDB retains automatic cluster snapshots before deleting them. For example, if you set SnapshotRetentionLimit to 5, a snapshot that was taken today is retained for 5 days before being deleted."
              }
            ]
          },
          "NodeType": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "A valid node type that you want to scale this cluster up or down to."
              }
            ]
          },
          "EngineVersion": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The upgraded version of the engine to be run on the nodes. You can upgrade to a newer engine version, but you cannot downgrade to an earlier engine version. If you want to use an earlier engine version, you must delete the existing cluster and create it anew with the earlier engine version."
              }
            ]
          },
          "ReplicaConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/ReplicaConfigurationRequest"
              },
              {
                "description": "The number of replicas that will reside in each shard"
              }
            ]
          },
          "ShardConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/ShardConfigurationRequest"
              },
              {
                "description": "The number of shards in the cluster"
              }
            ]
          },
          "ACLName": {
            "allOf": [
              {
                "$ref": "#/$defs/ACLName"
              },
              {
                "description": "The Access Control List that is associated with the cluster"
              }
            ]
          }
        }
      },
      "String": {
        "type": "string"
      },
      "SecurityGroupIdsList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/String"
        }
      },
      "IntegerOptional": {
        "type": "integer"
      },
      "ReplicaConfigurationRequest": {
        "type": "object",
        "properties": {
          "ReplicaCount": {
            "allOf": [
              {
                "$ref": "#/$defs/Integer"
              },
              {
                "description": "The number of replicas to scale up or down to"
              }
            ]
          }
        },
        "description": "A request to configure the number of replicas in a shard"
      },
      "Integer": {
        "type": "integer"
      },
      "ShardConfigurationRequest": {
        "type": "object",
        "properties": {
          "ShardCount": {
            "allOf": [
              {
                "$ref": "#/$defs/Integer"
              },
              {
                "description": "The number of shards in the cluster"
              }
            ]
          }
        },
        "description": "A request to configure the sharding properties of a cluster"
      },
      "ACLName": {
        "type": "string",
        "pattern": "[a-zA-Z][a-zA-Z0-9\\-]*",
        "minLength": 1
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://memory-db.us-east-1.amazonaws.com/#X-Amz-Target=AmazonMemoryDB.UpdateCluster"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**Cluster**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "487": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "488": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "489": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "490": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "491": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "492": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "493": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "494": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "495": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
