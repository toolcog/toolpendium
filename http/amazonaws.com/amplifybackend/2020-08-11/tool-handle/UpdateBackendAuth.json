{
  "name": "UpdateBackendAuth",
  "description": "Updates an existing backend authentication resource.",
  "parameters": {
    "type": "object",
    "properties": {
      "appId": {
        "type": "string",
        "description": "The app ID."
      },
      "backendEnvironmentName": {
        "type": "string",
        "description": "The name of the backend environment."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "resourceConfig",
          "resourceName"
        ],
        "properties": {
          "resourceConfig": {
            "description": "Defines the resource configuration when updating an authentication resource in your Amplify project.",
            "type": "object",
            "properties": {
              "AuthResources": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AuthResources"
                  },
                  {
                    "xml": {
                      "name": "authResources"
                    },
                    "description": "Defines the service name to use when configuring an authentication resource in your Amplify project."
                  }
                ]
              },
              "IdentityPoolConfigs": {
                "allOf": [
                  {
                    "$ref": "#/$defs/UpdateBackendAuthIdentityPoolConfig"
                  },
                  {
                    "xml": {
                      "name": "identityPoolConfigs"
                    },
                    "description": "Describes the authorization configuration for the Amazon Cognito identity pool, provisioned as a part of your auth resource in the Amplify project."
                  }
                ]
              },
              "Service": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Service"
                  },
                  {
                    "xml": {
                      "name": "service"
                    },
                    "description": "Defines the service name to use when configuring an authentication resource in your Amplify project."
                  }
                ]
              },
              "UserPoolConfigs": {
                "allOf": [
                  {
                    "$ref": "#/$defs/UpdateBackendAuthUserPoolConfig"
                  },
                  {
                    "xml": {
                      "name": "userPoolConfigs"
                    },
                    "description": "Describes the authentication configuration for the Amazon Cognito user pool, provisioned as a part of your auth resource in the Amplify project."
                  }
                ]
              }
            }
          },
          "resourceName": {
            "description": "The name of this resource.",
            "type": "string"
          }
        }
      }
    },
    "required": [
      "appId",
      "backendEnvironmentName",
      "body"
    ],
    "$defs": {
      "AuthResources": {
        "type": "string",
        "enum": [
          "USER_POOL_ONLY",
          "IDENTITY_POOL_AND_USER_POOL"
        ]
      },
      "UpdateBackendAuthIdentityPoolConfig": {
        "type": "object",
        "properties": {
          "UnauthenticatedLogin": {
            "allOf": [
              {
                "$ref": "#/$defs/__boolean"
              },
              {
                "xml": {
                  "name": "unauthenticatedLogin"
                },
                "description": "A boolean value that can be set to allow or disallow guest-level authorization into your Amplify app."
              }
            ]
          }
        },
        "description": "Describes the authorization configuration for the Amazon Cognito identity pool, provisioned as a part of your auth resource in the Amplify project."
      },
      "__boolean": {
        "type": "boolean"
      },
      "Service": {
        "type": "string",
        "enum": [
          "COGNITO"
        ]
      },
      "UpdateBackendAuthUserPoolConfig": {
        "type": "object",
        "properties": {
          "ForgotPassword": {
            "allOf": [
              {
                "$ref": "#/$defs/UpdateBackendAuthForgotPasswordConfig"
              },
              {
                "xml": {
                  "name": "forgotPassword"
                },
                "description": "<b>(DEPRECATED)</b> Describes the forgot password policy for your Amazon Cognito user pool, configured as a part of your Amplify project."
              }
            ]
          },
          "Mfa": {
            "allOf": [
              {
                "$ref": "#/$defs/UpdateBackendAuthMFAConfig"
              },
              {
                "xml": {
                  "name": "mfa"
                },
                "description": "Describes whether to apply multi-factor authentication policies for your Amazon Cognito user pool configured as a part of your Amplify project."
              }
            ]
          },
          "OAuth": {
            "allOf": [
              {
                "$ref": "#/$defs/UpdateBackendAuthOAuthConfig"
              },
              {
                "xml": {
                  "name": "oAuth"
                },
                "description": "Describes the OAuth policy and rules for your Amazon Cognito user pool, configured as a part of your Amplify project."
              }
            ]
          },
          "PasswordPolicy": {
            "allOf": [
              {
                "$ref": "#/$defs/UpdateBackendAuthPasswordPolicyConfig"
              },
              {
                "xml": {
                  "name": "passwordPolicy"
                },
                "description": "Describes the password policy for your Amazon Cognito user pool, configured as a part of your Amplify project."
              }
            ]
          },
          "VerificationMessage": {
            "allOf": [
              {
                "$ref": "#/$defs/UpdateBackendAuthVerificationMessageConfig"
              },
              {
                "xml": {
                  "name": "verificationMessage"
                },
                "description": "Describes the email or SMS verification message for your Amazon Cognito user pool, configured as a part of your Amplify project."
              }
            ]
          }
        },
        "description": "Describes the Amazon Cognito user pool configuration for the authorization resource to be configured for your Amplify project on an update."
      },
      "UpdateBackendAuthForgotPasswordConfig": {
        "type": "object",
        "properties": {
          "DeliveryMethod": {
            "allOf": [
              {
                "$ref": "#/$defs/DeliveryMethod"
              },
              {
                "xml": {
                  "name": "deliveryMethod"
                },
                "description": "<b>(DEPRECATED)</b> Describes which mode to use (either SMS or email) to deliver messages to app users that want to recover their password."
              }
            ]
          },
          "EmailSettings": {
            "allOf": [
              {
                "$ref": "#/$defs/EmailSettings"
              },
              {
                "xml": {
                  "name": "emailSettings"
                },
                "description": "<b>(DEPRECATED)</b> The configuration for the email sent when an app user forgets their password."
              }
            ]
          },
          "SmsSettings": {
            "allOf": [
              {
                "$ref": "#/$defs/SmsSettings"
              },
              {
                "xml": {
                  "name": "smsSettings"
                },
                "description": "<b>(DEPRECATED)</b> The configuration for the SMS message sent when an Amplify app user forgets their password."
              }
            ]
          }
        },
        "description": "<b>(DEPRECATED)</b> Describes the forgot password policy for authenticating into the Amplify app."
      },
      "DeliveryMethod": {
        "type": "string",
        "enum": [
          "EMAIL",
          "SMS"
        ],
        "description": "The type of verification message to send."
      },
      "EmailSettings": {
        "type": "object",
        "properties": {
          "EmailMessage": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "emailMessage"
                },
                "description": "The contents of the email message."
              }
            ]
          },
          "EmailSubject": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "emailSubject"
                },
                "description": "The contents of the subject line of the email message."
              }
            ]
          }
        },
        "description": "The configuration for the email sent when an app user forgets their password."
      },
      "__string": {
        "type": "string"
      },
      "SmsSettings": {
        "type": "object",
        "properties": {
          "SmsMessage": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "smsMessage"
                },
                "description": "The contents of the SMS message."
              }
            ]
          }
        },
        "description": "SMS settings for authentication."
      },
      "UpdateBackendAuthMFAConfig": {
        "type": "object",
        "properties": {
          "MFAMode": {
            "allOf": [
              {
                "$ref": "#/$defs/MFAMode"
              },
              {
                "description": "The MFA mode for the backend of your Amplify project."
              }
            ]
          },
          "Settings": {
            "allOf": [
              {
                "$ref": "#/$defs/Settings"
              },
              {
                "xml": {
                  "name": "settings"
                },
                "description": "The settings of your MFA configuration for the backend of your Amplify project."
              }
            ]
          }
        },
        "description": "Updates the multi-factor authentication (MFA) configuration for the backend of your Amplify project."
      },
      "MFAMode": {
        "type": "string",
        "enum": [
          "ON",
          "OFF",
          "OPTIONAL"
        ]
      },
      "Settings": {
        "type": "object",
        "properties": {
          "MfaTypes": {
            "allOf": [
              {
                "$ref": "#/$defs/ListOfMfaTypesElement"
              },
              {
                "xml": {
                  "name": "mfaTypes"
                },
                "description": "The supported MFA types."
              }
            ]
          },
          "SmsMessage": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "smsMessage"
                },
                "description": "The body of the SMS message."
              }
            ]
          }
        },
        "description": "The settings of your MFA configuration for the backend of your Amplify project."
      },
      "ListOfMfaTypesElement": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/MfaTypesElement"
        }
      },
      "MfaTypesElement": {
        "type": "string",
        "enum": [
          "SMS",
          "TOTP"
        ]
      },
      "UpdateBackendAuthOAuthConfig": {
        "type": "object",
        "properties": {
          "DomainPrefix": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "domainPrefix"
                },
                "description": "The Amazon Cognito domain prefix used to create a hosted UI for authentication."
              }
            ]
          },
          "OAuthGrantType": {
            "allOf": [
              {
                "$ref": "#/$defs/OAuthGrantType"
              },
              {
                "xml": {
                  "name": "oAuthGrantType"
                },
                "description": "The OAuth grant type to allow app users to authenticate from your Amplify app."
              }
            ]
          },
          "OAuthScopes": {
            "allOf": [
              {
                "$ref": "#/$defs/ListOfOAuthScopesElement"
              },
              {
                "xml": {
                  "name": "oAuthScopes"
                },
                "description": "The list of OAuth-related flows that can allow users to authenticate from your Amplify app."
              }
            ]
          },
          "RedirectSignInURIs": {
            "allOf": [
              {
                "$ref": "#/$defs/ListOf__string"
              },
              {
                "xml": {
                  "name": "redirectSignInURIs"
                },
                "description": "Redirect URLs that OAuth uses when a user signs in to an Amplify app."
              }
            ]
          },
          "RedirectSignOutURIs": {
            "allOf": [
              {
                "$ref": "#/$defs/ListOf__string"
              },
              {
                "xml": {
                  "name": "redirectSignOutURIs"
                },
                "description": "Redirect URLs that OAuth uses when a user signs out of an Amplify app."
              }
            ]
          },
          "SocialProviderSettings": {
            "allOf": [
              {
                "$ref": "#/$defs/SocialProviderSettings"
              },
              {
                "xml": {
                  "name": "socialProviderSettings"
                },
                "description": "Describes third-party social federation configurations for allowing your users to sign in with OAuth."
              }
            ]
          }
        },
        "description": "The OAuth configurations for authenticating users into your Amplify app."
      },
      "OAuthGrantType": {
        "type": "string",
        "enum": [
          "CODE",
          "IMPLICIT"
        ]
      },
      "ListOfOAuthScopesElement": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/OAuthScopesElement"
        }
      },
      "OAuthScopesElement": {
        "type": "string",
        "enum": [
          "PHONE",
          "EMAIL",
          "OPENID",
          "PROFILE",
          "AWS_COGNITO_SIGNIN_USER_ADMIN"
        ]
      },
      "ListOf__string": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/__string"
        }
      },
      "SocialProviderSettings": {
        "type": "object",
        "properties": {
          "Facebook": {
            "$ref": "#/$defs/BackendAuthSocialProviderConfig"
          },
          "Google": {
            "$ref": "#/$defs/BackendAuthSocialProviderConfig"
          },
          "LoginWithAmazon": {
            "$ref": "#/$defs/BackendAuthSocialProviderConfig"
          },
          "SignInWithApple": {
            "$ref": "#/$defs/BackendAuthAppleProviderConfig"
          }
        },
        "description": "The settings for using the social identity providers for access to your Amplify app."
      },
      "BackendAuthSocialProviderConfig": {
        "type": "object",
        "properties": {
          "ClientId": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "client_id"
                },
                "description": "Describes the client_id, which can be obtained from the third-party social federation provider."
              }
            ]
          },
          "ClientSecret": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "client_secret"
                },
                "description": "Describes the client_secret, which can be obtained from third-party social federation providers."
              }
            ]
          }
        },
        "description": "Describes third-party social federation configurations for allowing your app users to sign in using OAuth."
      },
      "BackendAuthAppleProviderConfig": {
        "type": "object",
        "properties": {
          "ClientId": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "client_id"
                },
                "description": "Describes the client_id (also called Services ID) that comes from Apple."
              }
            ]
          },
          "KeyId": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "key_id"
                },
                "description": "Describes the key_id that comes from Apple."
              }
            ]
          },
          "PrivateKey": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "private_key"
                },
                "description": "Describes the private_key that comes from Apple."
              }
            ]
          },
          "TeamId": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "team_id"
                },
                "description": "Describes the team_id that comes from Apple."
              }
            ]
          }
        },
        "description": "Describes Apple social federation configurations for allowing your app users to sign in using OAuth."
      },
      "UpdateBackendAuthPasswordPolicyConfig": {
        "type": "object",
        "properties": {
          "AdditionalConstraints": {
            "allOf": [
              {
                "$ref": "#/$defs/ListOfAdditionalConstraintsElement"
              },
              {
                "xml": {
                  "name": "additionalConstraints"
                },
                "description": "Describes additional constraints on password requirements to sign in to the auth resource, configured as a part of your Amplify project."
              }
            ]
          },
          "MinimumLength": {
            "allOf": [
              {
                "$ref": "#/$defs/__double"
              },
              {
                "xml": {
                  "name": "minimumLength"
                },
                "description": "Describes the minimum length of the password required to sign in to the auth resource, configured as a part of your Amplify project."
              }
            ]
          }
        },
        "description": "Describes the password policy for your Amazon Cognito user pool configured as a part of your Amplify project."
      },
      "ListOfAdditionalConstraintsElement": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/AdditionalConstraintsElement"
        }
      },
      "AdditionalConstraintsElement": {
        "type": "string",
        "enum": [
          "REQUIRE_DIGIT",
          "REQUIRE_LOWERCASE",
          "REQUIRE_SYMBOL",
          "REQUIRE_UPPERCASE"
        ]
      },
      "__double": {
        "type": "number",
        "format": "double"
      },
      "UpdateBackendAuthVerificationMessageConfig": {
        "type": "object",
        "required": [
          "DeliveryMethod"
        ],
        "properties": {
          "DeliveryMethod": {
            "allOf": [
              {
                "$ref": "#/$defs/DeliveryMethod"
              },
              {
                "xml": {
                  "name": "deliveryMethod"
                },
                "description": "The type of verification message to send."
              }
            ]
          },
          "EmailSettings": {
            "allOf": [
              {
                "$ref": "#/$defs/EmailSettings"
              },
              {
                "xml": {
                  "name": "emailSettings"
                },
                "description": "The settings for the email message."
              }
            ]
          },
          "SmsSettings": {
            "allOf": [
              {
                "$ref": "#/$defs/SmsSettings"
              },
              {
                "xml": {
                  "name": "smsSettings"
                },
                "description": "The settings for the SMS message."
              }
            ]
          }
        },
        "description": "Updates the configuration of the email or SMS message for the auth resource configured for your Amplify project."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://amplifybackend.us-east-1.amazonaws.com/backend/{appId}/auth/{backendEnvironmentName}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**AppId**",
            "**BackendEnvironmentName**",
            "**Error**",
            "**JobId**",
            "**Operation**",
            "**Status**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
