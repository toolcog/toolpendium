{
  "name": "SendTextMessage",
  "description": "<p>Creates a new text message and sends it to a recipient's phone number.</p> <p>SMS throughput limits are measured in Message Parts per Second (MPS). Your MPS limit depends on the destination country of your messages, as well as the type of phone number (origination number) that you use to send the message. For more information, see <a href=\"https://docs.aws.amazon.com/pinpoint/latest/userguide/channels-sms-limitations-mps.html\">Message Parts per Second (MPS) limits</a> in the <i>Amazon Pinpoint User Guide</i>.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "PinpointSMSVoiceV2.SendTextMessage"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/SendTextMessageRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "SendTextMessageRequest": {
        "type": "object",
        "required": [
          "DestinationPhoneNumber"
        ],
        "title": "SendTextMessageRequest",
        "properties": {
          "DestinationPhoneNumber": {
            "allOf": [
              {
                "$ref": "#/$defs/PhoneNumber"
              },
              {
                "description": "The destination phone number in E.164 format."
              }
            ]
          },
          "OriginationIdentity": {
            "allOf": [
              {
                "$ref": "#/$defs/TextMessageOriginationIdentity"
              },
              {
                "description": "The origination identity of the message. This can be either the PhoneNumber, PhoneNumberId, PhoneNumberArn, SenderId, SenderIdArn, PoolId, or PoolArn."
              }
            ]
          },
          "MessageBody": {
            "allOf": [
              {
                "$ref": "#/$defs/TextMessageBody"
              },
              {
                "description": "The body of the text message."
              }
            ]
          },
          "MessageType": {
            "allOf": [
              {
                "$ref": "#/$defs/MessageType"
              },
              {
                "description": "The type of message. Valid values are TRANSACTIONAL for messages that are critical or time-sensitive and PROMOTIONAL for messages that aren't critical or time-sensitive."
              }
            ]
          },
          "Keyword": {
            "allOf": [
              {
                "$ref": "#/$defs/Keyword"
              },
              {
                "description": "When you register a short code in the US, you must specify a program name. If you donâ€™t have a US short code, omit this attribute."
              }
            ]
          },
          "ConfigurationSetName": {
            "allOf": [
              {
                "$ref": "#/$defs/ConfigurationSetNameOrArn"
              },
              {
                "description": "The name of the configuration set to use. This can be either the ConfigurationSetName or ConfigurationSetArn."
              }
            ]
          },
          "MaxPrice": {
            "allOf": [
              {
                "$ref": "#/$defs/MaxPrice"
              },
              {
                "description": "The maximum amount that you want to spend, in US dollars, per each text message part. A text message can contain multiple parts."
              }
            ]
          },
          "TimeToLive": {
            "allOf": [
              {
                "$ref": "#/$defs/TimeToLive"
              },
              {
                "description": "How long the text message is valid for. By default this is 72 hours."
              }
            ]
          },
          "Context": {
            "allOf": [
              {
                "$ref": "#/$defs/ContextMap"
              },
              {
                "description": "You can specify custom data in this field. If you do, that data is logged to the event destination."
              }
            ]
          },
          "DestinationCountryParameters": {
            "allOf": [
              {
                "$ref": "#/$defs/DestinationCountryParameters"
              },
              {
                "description": "This field is used for any country-specific registration requirements. Currently, this setting is only used when you send messages to recipients in India using a sender ID. For more information see <a href=\"https://docs.aws.amazon.com/pinpoint/latest/userguide/channels-sms-senderid-india.html\">Special requirements for sending SMS messages to recipients in India</a>. "
              }
            ]
          },
          "DryRun": {
            "allOf": [
              {
                "$ref": "#/$defs/PrimitiveBoolean"
              },
              {
                "description": "When set to true, the message is checked and validated, but isn't sent to the end recipient."
              }
            ]
          }
        }
      },
      "PhoneNumber": {
        "type": "string",
        "pattern": "\\+?[1-9][0-9]{1,18}",
        "minLength": 1,
        "maxLength": 20
      },
      "TextMessageOriginationIdentity": {
        "type": "string",
        "pattern": "[A-Za-z0-9_:/\\+-]+",
        "minLength": 1,
        "maxLength": 256
      },
      "TextMessageBody": {
        "type": "string",
        "pattern": "(?!\\s*$)[\\s\\S]+",
        "minLength": 1,
        "maxLength": 1600
      },
      "MessageType": {
        "type": "string",
        "enum": [
          "TRANSACTIONAL",
          "PROMOTIONAL"
        ]
      },
      "Keyword": {
        "type": "string",
        "pattern": "[ \\S]+",
        "minLength": 1,
        "maxLength": 30
      },
      "ConfigurationSetNameOrArn": {
        "type": "string",
        "pattern": "[A-Za-z0-9_:/-]+",
        "minLength": 1,
        "maxLength": 256
      },
      "MaxPrice": {
        "type": "string",
        "pattern": "[0-9]{0,2}\\.[0-9]{1,5}",
        "minLength": 2,
        "maxLength": 8
      },
      "TimeToLive": {
        "type": "integer",
        "minimum": 5,
        "maximum": 259200
      },
      "ContextMap": {
        "type": "object",
        "minProperties": 0,
        "maxProperties": 5,
        "additionalProperties": {
          "$ref": "#/$defs/ContextValue"
        }
      },
      "ContextValue": {
        "type": "string",
        "pattern": "\\S+",
        "minLength": 1,
        "maxLength": 800
      },
      "DestinationCountryParameters": {
        "type": "object",
        "minProperties": 0,
        "maxProperties": 10,
        "additionalProperties": {
          "$ref": "#/$defs/DestinationCountryParameterValue"
        }
      },
      "DestinationCountryParameterValue": {
        "type": "string",
        "pattern": "\\S+",
        "minLength": 1,
        "maxLength": 64
      },
      "PrimitiveBoolean": {
        "type": "boolean"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://sms-voice.us-east-1.amazonaws.com/#X-Amz-Target=PinpointSMSVoiceV2.SendTextMessage"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**MessageId**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
