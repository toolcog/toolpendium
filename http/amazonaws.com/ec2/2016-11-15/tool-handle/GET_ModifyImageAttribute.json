{
  "name": "GET_ModifyImageAttribute",
  "description": "<p>Modifies the specified attribute of the specified AMI. You can specify only one attribute at a time.</p> <p>To specify the attribute, you can use the <code>Attribute</code> parameter, or one of the following parameters: <code>Description</code>, <code>ImdsSupport</code>, or <code>LaunchPermission</code>.</p> <p>Images with an Amazon Web Services Marketplace product code cannot be made public.</p> <p>To enable the SriovNetSupport enhanced networking attribute of an image, enable SriovNetSupport on an instance and create an AMI from the instance.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "Attribute": {
        "type": "string",
        "description": "<p>The name of the attribute to modify.</p> <p>Valid values: <code>description</code> | <code>imdsSupport</code> | <code>launchPermission</code> </p>"
      },
      "Description": {
        "type": "object",
        "properties": {
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "value"
                },
                "description": "The attribute value. The value is case-sensitive."
              }
            ]
          }
        },
        "description": "A new description for the AMI."
      },
      "ImageId": {
        "type": "string",
        "description": "The ID of the AMI."
      },
      "LaunchPermission": {
        "type": "object",
        "properties": {
          "Add": {
            "allOf": [
              {
                "$ref": "#/$defs/LaunchPermissionList"
              },
              {
                "description": "The Amazon Web Services account ID, organization ARN, or OU ARN to add to the list of launch permissions for the AMI."
              }
            ]
          },
          "Remove": {
            "allOf": [
              {
                "$ref": "#/$defs/LaunchPermissionList"
              },
              {
                "description": "The Amazon Web Services account ID, organization ARN, or OU ARN to remove from the list of launch permissions for the AMI."
              }
            ]
          }
        },
        "description": "A new launch permission for the AMI."
      },
      "OperationType": {
        "type": "string",
        "enum": [
          "add",
          "remove"
        ],
        "description": "The operation type. This parameter can be used only when the <code>Attribute</code> parameter is <code>launchPermission</code>."
      },
      "ProductCode": {
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/$defs/String"
            },
            {
              "xml": {
                "name": "ProductCode"
              }
            }
          ]
        },
        "description": "Not supported."
      },
      "UserGroup": {
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/$defs/String"
            },
            {
              "xml": {
                "name": "UserGroup"
              }
            }
          ]
        },
        "description": "The user groups. This parameter can be used only when the <code>Attribute</code> parameter is <code>launchPermission</code>."
      },
      "UserId": {
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/$defs/String"
            },
            {
              "xml": {
                "name": "UserId"
              }
            }
          ]
        },
        "description": "The Amazon Web Services account IDs. This parameter can be used only when the <code>Attribute</code> parameter is <code>launchPermission</code>."
      },
      "Value": {
        "type": "string",
        "description": "The value of the attribute being modified. This parameter can be used only when the <code>Attribute</code> parameter is <code>description</code> or <code>imdsSupport</code>."
      },
      "DryRun": {
        "type": "boolean",
        "description": "Checks whether you have the required permissions for the action, without actually making the request, and provides an error response. If you have the required permissions, the error response is <code>DryRunOperation</code>. Otherwise, it is <code>UnauthorizedOperation</code>."
      },
      "OrganizationArn": {
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/$defs/String"
            },
            {
              "xml": {
                "name": "OrganizationArn"
              }
            }
          ]
        },
        "description": "The Amazon Resource Name (ARN) of an organization. This parameter can be used only when the <code>Attribute</code> parameter is <code>launchPermission</code>."
      },
      "OrganizationalUnitArn": {
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/$defs/String"
            },
            {
              "xml": {
                "name": "OrganizationalUnitArn"
              }
            }
          ]
        },
        "description": "The Amazon Resource Name (ARN) of an organizational unit (OU). This parameter can be used only when the <code>Attribute</code> parameter is <code>launchPermission</code>."
      },
      "ImdsSupport": {
        "type": "object",
        "properties": {
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "value"
                },
                "description": "The attribute value. The value is case-sensitive."
              }
            ]
          }
        },
        "description": "<p>Set to <code>v2.0</code> to indicate that IMDSv2 is specified in the AMI. Instances launched from this AMI will have <code>HttpTokens</code> automatically set to <code>required</code> so that, by default, the instance requires that IMDSv2 is used when requesting instance metadata. In addition, <code>HttpPutResponseHopLimit</code> is set to <code>2</code>. For more information, see <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-IMDS-new-instances.html#configure-IMDS-new-instances-ami-configuration\">Configure the AMI</a> in the <i>Amazon EC2 User Guide</i>.</p> <important> <p>Do not use this parameter unless your AMI software supports IMDSv2. After you set the value to <code>v2.0</code>, you can't undo it. The only way to “reset” your AMI is to create a new AMI from the underlying snapshot.</p> </important>"
      },
      "Action": {
        "type": "string",
        "enum": [
          "ModifyImageAttribute"
        ]
      },
      "Version": {
        "type": "string",
        "enum": [
          "2016-11-15"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      }
    },
    "required": [
      "ImageId",
      "Action",
      "Version"
    ],
    "$defs": {
      "String": {
        "type": "string"
      },
      "LaunchPermissionList": {
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/$defs/LaunchPermission"
            },
            {
              "xml": {
                "name": "item"
              }
            }
          ]
        }
      },
      "LaunchPermission": {
        "type": "object",
        "properties": {
          "Group": {
            "allOf": [
              {
                "$ref": "#/$defs/PermissionGroup"
              },
              {
                "xml": {
                  "name": "group"
                },
                "description": "The name of the group."
              }
            ]
          },
          "UserId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "userId"
                },
                "description": "<p>The Amazon Web Services account ID.</p> <p>Constraints: Up to 10 000 account IDs can be specified in a single request.</p>"
              }
            ]
          },
          "OrganizationArn": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "organizationArn"
                },
                "description": "The Amazon Resource Name (ARN) of an organization."
              }
            ]
          },
          "OrganizationalUnitArn": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "organizationalUnitArn"
                },
                "description": "The Amazon Resource Name (ARN) of an organizational unit (OU)."
              }
            ]
          }
        },
        "description": "Describes a launch permission."
      },
      "PermissionGroup": {
        "type": "string",
        "enum": [
          "all"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "http://ec2.us-east-1.amazonaws.com/#Action=ModifyImageAttribute{?Attribute,Description,ImageId,LaunchPermission,OperationType,ProductCode,UserGroup,UserId,Value,DryRun,OrganizationArn,OrganizationalUnitArn,ImdsSupport,Action,Version}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    }
  },
  "responses": {}
}
