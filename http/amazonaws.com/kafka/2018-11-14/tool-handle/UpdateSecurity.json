{
  "name": "UpdateSecurity",
  "description": "\n            <p>Updates the security settings for the cluster. You can use this operation to specify encryption and authentication on existing clusters.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "clusterArn": {
        "type": "string",
        "description": "\n            <p>The Amazon Resource Name (ARN) that uniquely identifies the cluster.</p>"
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "currentVersion"
        ],
        "properties": {
          "clientAuthentication": {
            "description": "\n            <p>Includes all client authentication information.</p>",
            "type": "object",
            "properties": {
              "Sasl": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Sasl"
                  },
                  {
                    "xml": {
                      "name": "sasl"
                    },
                    "description": "\n            <p>Details for ClientAuthentication using SASL.</p>"
                  }
                ]
              },
              "Tls": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Tls"
                  },
                  {
                    "xml": {
                      "name": "tls"
                    },
                    "description": "\n            <p>Details for ClientAuthentication using TLS.</p>"
                  }
                ]
              },
              "Unauthenticated": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Unauthenticated"
                  },
                  {
                    "xml": {
                      "name": "unauthenticated"
                    },
                    "description": "\n            <p>Contains information about unauthenticated traffic to the cluster.</p>"
                  }
                ]
              }
            }
          },
          "currentVersion": {
            "description": "\n            <p>The version of the MSK cluster to update. Cluster versions aren't simple numbers. You can describe an MSK cluster to find its version. When this update operation is successful, it generates a new cluster version.</p>",
            "type": "string"
          },
          "encryptionInfo": {
            "description": "\n            <p>Includes encryption-related information, such as the AWS KMS key used for encrypting data at rest and whether you want MSK to encrypt your data in transit.</p>",
            "type": "object",
            "properties": {
              "EncryptionAtRest": {
                "allOf": [
                  {
                    "$ref": "#/$defs/EncryptionAtRest"
                  },
                  {
                    "xml": {
                      "name": "encryptionAtRest"
                    },
                    "description": "\n            <p>The data-volume encryption details.</p>"
                  }
                ]
              },
              "EncryptionInTransit": {
                "allOf": [
                  {
                    "$ref": "#/$defs/EncryptionInTransit"
                  },
                  {
                    "xml": {
                      "name": "encryptionInTransit"
                    },
                    "description": "\n            <p>The details for encryption in transit.</p>"
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "clusterArn",
      "body"
    ],
    "$defs": {
      "Sasl": {
        "type": "object",
        "properties": {
          "Scram": {
            "allOf": [
              {
                "$ref": "#/$defs/Scram"
              },
              {
                "xml": {
                  "name": "scram"
                },
                "description": "\n            <p>Details for SASL/SCRAM client authentication.</p>"
              }
            ]
          },
          "Iam": {
            "allOf": [
              {
                "$ref": "#/$defs/Iam"
              },
              {
                "xml": {
                  "name": "iam"
                },
                "description": "\n            <p>Indicates whether IAM access control is enabled.</p>"
              }
            ]
          }
        },
        "description": "\n            <p>Details for client authentication using SASL.</p>"
      },
      "Scram": {
        "type": "object",
        "properties": {
          "Enabled": {
            "allOf": [
              {
                "$ref": "#/$defs/__boolean"
              },
              {
                "xml": {
                  "name": "enabled"
                },
                "description": "\n            <p>SASL/SCRAM authentication is enabled or not.</p>"
              }
            ]
          }
        },
        "description": "\n            <p>Details for SASL/SCRAM client authentication.</p>"
      },
      "__boolean": {
        "type": "boolean"
      },
      "Iam": {
        "type": "object",
        "properties": {
          "Enabled": {
            "allOf": [
              {
                "$ref": "#/$defs/__boolean"
              },
              {
                "xml": {
                  "name": "enabled"
                },
                "description": "\n            <p>Indicates whether IAM access control is enabled.</p>"
              }
            ]
          }
        },
        "description": "\n            <p>Details for IAM access control.</p>"
      },
      "Tls": {
        "type": "object",
        "properties": {
          "CertificateAuthorityArnList": {
            "allOf": [
              {
                "$ref": "#/$defs/__listOf__string"
              },
              {
                "xml": {
                  "name": "certificateAuthorityArnList"
                },
                "description": "\n            <p>List of ACM Certificate Authority ARNs.</p>"
              }
            ]
          },
          "Enabled": {
            "allOf": [
              {
                "$ref": "#/$defs/__boolean"
              },
              {
                "xml": {
                  "name": "enabled"
                },
                "description": "\n            <p>Specifies whether you want to turn on or turn off TLS authentication.</p>"
              }
            ]
          }
        },
        "description": "\n            <p>Details for client authentication using TLS.</p>"
      },
      "__listOf__string": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/__string"
        }
      },
      "__string": {
        "type": "string"
      },
      "Unauthenticated": {
        "type": "object",
        "properties": {
          "Enabled": {
            "allOf": [
              {
                "$ref": "#/$defs/__boolean"
              },
              {
                "xml": {
                  "name": "enabled"
                },
                "description": "\n            <p>Specifies whether you want to turn on or turn off unauthenticated traffic to your cluster.</p>"
              }
            ]
          }
        }
      },
      "EncryptionAtRest": {
        "type": "object",
        "required": [
          "DataVolumeKMSKeyId"
        ],
        "properties": {
          "DataVolumeKMSKeyId": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "xml": {
                  "name": "dataVolumeKMSKeyId"
                },
                "description": "\n            <p>The ARN of the AWS KMS key for encrypting data at rest. If you don't specify a KMS key, MSK creates one for you and uses it.</p>"
              }
            ]
          }
        },
        "description": "\n            <p>The data-volume encryption details.</p>"
      },
      "EncryptionInTransit": {
        "type": "object",
        "properties": {
          "ClientBroker": {
            "allOf": [
              {
                "$ref": "#/$defs/ClientBroker"
              },
              {
                "xml": {
                  "name": "clientBroker"
                },
                "description": "\n            <p>Indicates the encryption setting for data in transit between clients and brokers. The following are the possible values.</p>\n            <p>\n               TLS means that client-broker communication is enabled with TLS only.</p>\n            <p>\n               TLS_PLAINTEXT means that client-broker communication is enabled for both TLS-encrypted, as well as plaintext data.</p>\n            <p>\n               PLAINTEXT means that client-broker communication is enabled in plaintext only.</p>\n            <p>The default value is TLS_PLAINTEXT.</p>"
              }
            ]
          },
          "InCluster": {
            "allOf": [
              {
                "$ref": "#/$defs/__boolean"
              },
              {
                "xml": {
                  "name": "inCluster"
                },
                "description": "\n            <p>When set to true, it indicates that data communication among the broker nodes of the cluster is encrypted. When set to false, the communication happens in plaintext.</p>\n            <p>The default value is true.</p>"
              }
            ]
          }
        },
        "description": "\n            <p>The settings for encrypting data in transit.</p>"
      },
      "ClientBroker": {
        "type": "string",
        "enum": [
          "TLS",
          "TLS_PLAINTEXT",
          "PLAINTEXT"
        ],
        "description": "\n            <p>Client-broker encryption in transit setting.</p>"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "http://kafka.us-east-1.amazonaws.com/v1/clusters/{clusterArn}/security"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**ClusterArn**",
            "**ClusterOperationArn**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
