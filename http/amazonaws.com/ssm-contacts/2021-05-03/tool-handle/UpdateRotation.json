{
  "name": "UpdateRotation",
  "description": "Updates the information specified for an on-call rotation.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "SSMContacts.UpdateRotation"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/UpdateRotationRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "UpdateRotationRequest": {
        "type": "object",
        "required": [
          "RotationId",
          "Recurrence"
        ],
        "title": "UpdateRotationRequest",
        "properties": {
          "RotationId": {
            "allOf": [
              {
                "$ref": "#/$defs/SsmContactsArn"
              },
              {
                "description": "The Amazon Resource Name (ARN) of the rotation to update."
              }
            ]
          },
          "ContactIds": {
            "allOf": [
              {
                "$ref": "#/$defs/RotationContactsArnList"
              },
              {
                "description": "<p>The Amazon Resource Names (ARNs) of the contacts to include in the updated rotation. </p> <p>The order in which you list the contacts is their shift order in the rotation schedule.</p>"
              }
            ]
          },
          "StartTime": {
            "allOf": [
              {
                "$ref": "#/$defs/DateTime"
              },
              {
                "description": "The date and time the rotation goes into effect."
              }
            ]
          },
          "TimeZoneId": {
            "allOf": [
              {
                "$ref": "#/$defs/TimeZoneId"
              },
              {
                "description": "<p>The time zone to base the updated rotation’s activity on, in Internet Assigned Numbers Authority (IANA) format. For example: \"America/Los_Angeles\", \"UTC\", or \"Asia/Seoul\". For more information, see the <a href=\"https://www.iana.org/time-zones\">Time Zone Database</a> on the IANA website.</p> <note> <p>Designators for time zones that don’t support Daylight Savings Time Rules, such as Pacific Standard Time (PST) and Pacific Daylight Time (PDT), aren't supported.</p> </note>"
              }
            ]
          },
          "Recurrence": {
            "allOf": [
              {
                "$ref": "#/$defs/RecurrenceSettings"
              },
              {
                "description": "Information about how long the updated rotation lasts before restarting at the beginning of the shift order."
              }
            ]
          }
        }
      },
      "SsmContactsArn": {
        "type": "string",
        "pattern": "arn:(aws|aws-cn|aws-us-gov):ssm-contacts:[-\\w+=\\/,.@]*:[0-9]+:([\\w+=\\/,.@:-]+)*",
        "minLength": 1,
        "maxLength": 2048
      },
      "RotationContactsArnList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/SsmContactsArn"
        },
        "minItems": 1,
        "maxItems": 30
      },
      "DateTime": {
        "type": "string",
        "format": "date-time"
      },
      "TimeZoneId": {
        "type": "string",
        "pattern": "^[:a-zA-Z0-9_\\-\\s\\.\\\\/]*$",
        "minLength": 1,
        "maxLength": 255
      },
      "RecurrenceSettings": {
        "type": "object",
        "required": [
          "NumberOfOnCalls",
          "RecurrenceMultiplier"
        ],
        "properties": {
          "MonthlySettings": {
            "allOf": [
              {
                "$ref": "#/$defs/MonthlySettings"
              },
              {
                "description": "Information about on-call rotations that recur monthly."
              }
            ]
          },
          "WeeklySettings": {
            "allOf": [
              {
                "$ref": "#/$defs/WeeklySettings"
              },
              {
                "description": "Information about on-call rotations that recur weekly."
              }
            ]
          },
          "DailySettings": {
            "allOf": [
              {
                "$ref": "#/$defs/DailySettings"
              },
              {
                "description": "Information about on-call rotations that recur daily."
              }
            ]
          },
          "NumberOfOnCalls": {
            "allOf": [
              {
                "$ref": "#/$defs/NumberOfOnCalls"
              },
              {
                "description": "The number of contacts, or shift team members designated to be on call concurrently during a shift. For example, in an on-call schedule containing ten contacts, a value of <code>2</code> designates that two of them are on call at any given time."
              }
            ]
          },
          "ShiftCoverages": {
            "allOf": [
              {
                "$ref": "#/$defs/ShiftCoveragesMap"
              },
              {
                "description": "Information about the days of the week included in on-call rotation coverage."
              }
            ]
          },
          "RecurrenceMultiplier": {
            "allOf": [
              {
                "$ref": "#/$defs/RecurrenceMultiplier"
              },
              {
                "description": "The number of days, weeks, or months a single rotation lasts."
              }
            ]
          }
        },
        "description": "Information about when an on-call rotation is in effect and how long the rotation period lasts."
      },
      "MonthlySettings": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/MonthlySetting"
        }
      },
      "MonthlySetting": {
        "type": "object",
        "required": [
          "DayOfMonth",
          "HandOffTime"
        ],
        "properties": {
          "DayOfMonth": {
            "allOf": [
              {
                "$ref": "#/$defs/DayOfMonth"
              },
              {
                "description": "The day of the month when monthly recurring on-call rotations begin."
              }
            ]
          },
          "HandOffTime": {
            "allOf": [
              {
                "$ref": "#/$defs/HandOffTime"
              },
              {
                "description": "The time of day when a monthly recurring on-call shift rotation begins."
              }
            ]
          }
        },
        "description": "Information about on-call rotations that recur monthly."
      },
      "DayOfMonth": {
        "type": "integer",
        "minimum": 1,
        "maximum": 31
      },
      "HandOffTime": {
        "type": "object",
        "required": [
          "HourOfDay",
          "MinuteOfHour"
        ],
        "properties": {
          "HourOfDay": {
            "allOf": [
              {
                "$ref": "#/$defs/HourOfDay"
              },
              {
                "description": "The hour when an on-call rotation shift begins or ends."
              }
            ]
          },
          "MinuteOfHour": {
            "allOf": [
              {
                "$ref": "#/$defs/MinuteOfHour"
              },
              {
                "description": "The minute when an on-call rotation shift begins or ends."
              }
            ]
          }
        },
        "description": "Details about when an on-call rotation shift begins or ends."
      },
      "HourOfDay": {
        "type": "integer",
        "minimum": 0,
        "maximum": 23
      },
      "MinuteOfHour": {
        "type": "integer",
        "minimum": 0,
        "maximum": 59
      },
      "WeeklySettings": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/WeeklySetting"
        }
      },
      "WeeklySetting": {
        "type": "object",
        "required": [
          "DayOfWeek",
          "HandOffTime"
        ],
        "properties": {
          "DayOfWeek": {
            "allOf": [
              {
                "$ref": "#/$defs/DayOfWeek"
              },
              {
                "description": "The day of the week when weekly recurring on-call shift rotations begins."
              }
            ]
          },
          "HandOffTime": {
            "allOf": [
              {
                "$ref": "#/$defs/HandOffTime"
              },
              {
                "description": "The time of day when a weekly recurring on-call shift rotation begins."
              }
            ]
          }
        },
        "description": "Information about rotations that recur weekly."
      },
      "DayOfWeek": {
        "type": "string",
        "enum": [
          "MON",
          "TUE",
          "WED",
          "THU",
          "FRI",
          "SAT",
          "SUN"
        ]
      },
      "DailySettings": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/HandOffTime"
        }
      },
      "NumberOfOnCalls": {
        "type": "integer",
        "minimum": 1
      },
      "ShiftCoveragesMap": {
        "type": "object",
        "additionalProperties": {
          "$ref": "#/$defs/CoverageTimes"
        }
      },
      "CoverageTimes": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/CoverageTime"
        }
      },
      "CoverageTime": {
        "type": "object",
        "properties": {
          "Start": {
            "allOf": [
              {
                "$ref": "#/$defs/HandOffTime"
              },
              {
                "description": "Information about when the on-call rotation shift begins."
              }
            ]
          },
          "End": {
            "allOf": [
              {
                "$ref": "#/$defs/HandOffTime"
              },
              {
                "description": "Information about when the on-call rotation shift ends."
              }
            ]
          }
        },
        "description": "Information about when an on-call shift begins and ends."
      },
      "RecurrenceMultiplier": {
        "type": "integer",
        "minimum": 1,
        "maximum": 100
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://ssm-contacts.us-east-1.amazonaws.com/#X-Amz-Target=SSMContacts.UpdateRotation"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
