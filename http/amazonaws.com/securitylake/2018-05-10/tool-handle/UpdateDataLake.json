{
  "name": "UpdateDataLake",
  "description": "Specifies where to store your security data and for how long. You can add a rollup Region to consolidate data from multiple Amazon Web Services Regions.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "configurations"
        ],
        "properties": {
          "configurations": {
            "description": "Specify the Region or Regions that will contribute data to the rollup region.",
            "type": "array",
            "items": {
              "$ref": "#/$defs/DataLakeConfiguration"
            }
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "DataLakeConfiguration": {
        "type": "object",
        "required": [
          "region"
        ],
        "properties": {
          "encryptionConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeEncryptionConfiguration"
              },
              {
                "description": "Provides encryption details of Amazon Security Lake object."
              }
            ]
          },
          "lifecycleConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeLifecycleConfiguration"
              },
              {
                "description": "Provides lifecycle details of Amazon Security Lake object."
              }
            ]
          },
          "region": {
            "allOf": [
              {
                "$ref": "#/$defs/Region"
              },
              {
                "description": "The Amazon Web Services Regions where Security Lake is automatically enabled."
              }
            ]
          },
          "replicationConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeReplicationConfiguration"
              },
              {
                "description": "Provides replication details of Amazon Security Lake object."
              }
            ]
          }
        },
        "description": "Provides details of Amazon Security Lake object."
      },
      "DataLakeEncryptionConfiguration": {
        "type": "object",
        "properties": {
          "kmsKeyId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The id of KMS encryption key used by Amazon Security Lake to encrypt the Security Lake object."
              }
            ]
          }
        },
        "description": "Provides encryption details of Amazon Security Lake object."
      },
      "String": {
        "type": "string"
      },
      "DataLakeLifecycleConfiguration": {
        "type": "object",
        "properties": {
          "expiration": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeLifecycleExpiration"
              },
              {
                "description": "Provides data expiration details of Amazon Security Lake object."
              }
            ]
          },
          "transitions": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeLifecycleTransitionList"
              },
              {
                "description": "Provides data storage transition details of Amazon Security Lake object."
              }
            ]
          }
        },
        "description": "Provides lifecycle details of Amazon Security Lake object."
      },
      "DataLakeLifecycleExpiration": {
        "type": "object",
        "properties": {
          "days": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeLifecycleExpirationDaysInteger"
              },
              {
                "description": "Number of days before data expires in the Amazon Security Lake object."
              }
            ]
          }
        },
        "description": "Provide expiration lifecycle details of Amazon Security Lake object."
      },
      "DataLakeLifecycleExpirationDaysInteger": {
        "type": "integer",
        "minimum": 1
      },
      "DataLakeLifecycleTransitionList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/DataLakeLifecycleTransition"
        }
      },
      "DataLakeLifecycleTransition": {
        "type": "object",
        "properties": {
          "days": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeLifecycleTransitionDaysInteger"
              },
              {
                "description": "Number of days before data transitions to a different S3 Storage Class in the Amazon Security Lake object."
              }
            ]
          },
          "storageClass": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakeStorageClass"
              },
              {
                "description": "The range of storage classes that you can choose from based on the data access, resiliency, and cost requirements of your workloads."
              }
            ]
          }
        },
        "description": "Provide transition lifecycle details of Amazon Security Lake object."
      },
      "DataLakeLifecycleTransitionDaysInteger": {
        "type": "integer",
        "minimum": 1
      },
      "DataLakeStorageClass": {
        "type": "string"
      },
      "Region": {
        "type": "string",
        "pattern": "^(af|ap|ca|eu|me|sa|us)-(central|north|(north(?:east|west))|south|south(?:east|west)|east|west)-\\d+$"
      },
      "DataLakeReplicationConfiguration": {
        "type": "object",
        "properties": {
          "regions": {
            "allOf": [
              {
                "$ref": "#/$defs/RegionList"
              },
              {
                "description": "<p>Replication enables automatic, asynchronous copying of objects across Amazon S3 buckets. Amazon S3 buckets that are configured for object replication can be owned by the same Amazon Web Services account or by different accounts. You can replicate objects to a single destination bucket or to multiple destination buckets. The destination buckets can be in different Amazon Web Services Regions or within the same Region as the source bucket.</p> <p>Set up one or more rollup Regions by providing the Region or Regions that should contribute to the central rollup Region.</p>"
              }
            ]
          },
          "roleArn": {
            "allOf": [
              {
                "$ref": "#/$defs/RoleArn"
              },
              {
                "description": "Replication settings for the Amazon S3 buckets. This parameter uses the Identity and Access Management (IAM) role you created that is managed by Security Lake, to ensure the replication setting is correct."
              }
            ]
          }
        },
        "description": "Provides replication details of Amazon Security Lake object."
      },
      "RegionList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Region"
        }
      },
      "RoleArn": {
        "type": "string",
        "pattern": "^arn:.*$"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "http://securitylake.us-east-1.amazonaws.com/v1/datalake"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**dataLakes**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
