{
  "name": "UpdateIncidentRecord",
  "description": "Update the details of an incident record. You can use this operation to update an incident record from the defined chat channel. For more information about using actions in chat channels, see <a href=\"https://docs.aws.amazon.com/incident-manager/latest/userguide/chat.html#chat-interact\">Interacting through chat</a>.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "arn"
        ],
        "properties": {
          "arn": {
            "description": "The Amazon Resource Name (ARN) of the incident record you are updating.",
            "type": "string",
            "pattern": "^arn:aws(-cn|-us-gov)?:[a-z0-9-]*:[a-z0-9-]*:([0-9]{12})?:.+$",
            "minLength": 0,
            "maxLength": 1000
          },
          "chatChannel": {
            "description": "The Chatbot chat channel used for collaboration during an incident.",
            "type": "object",
            "properties": {
              "chatbotSns": {
                "allOf": [
                  {
                    "$ref": "#/$defs/ChatbotSnsConfigurationSet"
                  },
                  {
                    "description": "The Amazon SNS targets that Chatbot uses to notify the chat channel of updates to an incident. You can also make updates to the incident through the chat channel by using the Amazon SNS topics. "
                  }
                ]
              },
              "empty": {
                "allOf": [
                  {
                    "$ref": "#/$defs/EmptyChatChannel"
                  },
                  {
                    "description": "Used to remove the chat channel from an incident record or response plan."
                  }
                ]
              }
            }
          },
          "clientToken": {
            "description": "A token that ensures that a client calls the operation only once with the specified details.",
            "type": "string",
            "minLength": 0,
            "maxLength": 128
          },
          "impact": {
            "description": "<p>Defines the impact of the incident to customers and applications. If you provide an impact for an incident, it overwrites the impact provided by the response plan.</p> <p class=\"title\"> <b>Possible impacts:</b> </p> <ul> <li> <p> <code>1</code> - Critical impact, full application failure that impacts many to all customers. </p> </li> <li> <p> <code>2</code> - High impact, partial application failure with impact to many customers.</p> </li> <li> <p> <code>3</code> - Medium impact, the application is providing reduced service to customers.</p> </li> <li> <p> <code>4</code> - Low impact, customer aren't impacted by the problem yet.</p> </li> <li> <p> <code>5</code> - No impact, customers aren't currently impacted but urgent action is needed to avoid impact.</p> </li> </ul>",
            "type": "integer",
            "minimum": 1,
            "maximum": 5
          },
          "notificationTargets": {
            "description": "<p>The Amazon SNS targets that Incident Manager notifies when a client updates an incident.</p> <p>Using multiple SNS topics creates redundancy in the event that a Region is down during the incident.</p>",
            "type": "array",
            "items": {
              "$ref": "#/$defs/NotificationTargetItem"
            },
            "minItems": 0,
            "maxItems": 10
          },
          "status": {
            "description": "The status of the incident. Possible statuses are <code>Open</code> or <code>Resolved</code>.",
            "type": "string",
            "enum": [
              "OPEN",
              "RESOLVED"
            ]
          },
          "summary": {
            "description": "A longer description of what occurred during the incident.",
            "type": "string",
            "minLength": 0,
            "maxLength": 8000
          },
          "title": {
            "description": "A brief description of the incident.",
            "type": "string",
            "minLength": 0,
            "maxLength": 200
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "ChatbotSnsConfigurationSet": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/SnsArn"
        },
        "minItems": 1,
        "maxItems": 5
      },
      "SnsArn": {
        "type": "string",
        "minLength": 0,
        "maxLength": 1000
      },
      "EmptyChatChannel": {
        "type": "object",
        "properties": {},
        "description": "Used to remove the chat channel from an incident record or response plan."
      },
      "NotificationTargetItem": {
        "type": "object",
        "properties": {
          "snsTopicArn": {
            "allOf": [
              {
                "$ref": "#/$defs/Arn"
              },
              {
                "description": "The Amazon Resource Name (ARN) of the SNS topic."
              }
            ]
          }
        },
        "description": "The SNS targets that are notified when updates are made to an incident."
      },
      "Arn": {
        "type": "string",
        "pattern": "^arn:aws(-cn|-us-gov)?:[a-z0-9-]*:[a-z0-9-]*:([0-9]{12})?:.+$",
        "minLength": 0,
        "maxLength": 1000
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://ssm-incidents.us-east-1.amazonaws.com/updateIncidentRecord"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "204": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
