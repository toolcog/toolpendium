{
  "name": "UpdateParticipantRoleConfig",
  "description": "<p>Updates timeouts for when human chat participants are to be considered idle, and when agents are automatically disconnected from a chat due to idleness. You can set four timers:</p> <ul> <li> <p>Customer idle timeout</p> </li> <li> <p>Customer auto-disconnect timeout</p> </li> <li> <p>Agent idle timeout</p> </li> <li> <p>Agent auto-disconnect timeout</p> </li> </ul> <p>For more information about how chat timeouts work, see <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/setup-chat-timeouts.html\">Set up chat timeouts for human participants</a>. </p>",
  "parameters": {
    "type": "object",
    "properties": {
      "InstanceId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "The identifier of the Amazon Connect instance. You can <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/find-instance-arn.html\">find the instance ID</a> in the Amazon Resource Name (ARN) of the instance."
      },
      "ContactId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 256,
        "description": "The identifier of the contact in this instance of Amazon Connect. "
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "ChannelConfiguration"
        ],
        "properties": {
          "ChannelConfiguration": {
            "description": "Configuration information for the chat participant role.",
            "type": "object",
            "properties": {
              "Chat": {
                "allOf": [
                  {
                    "$ref": "#/$defs/ChatParticipantRoleConfig"
                  },
                  {
                    "description": "Configuration information for the chat participant role."
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "InstanceId",
      "ContactId",
      "body"
    ],
    "$defs": {
      "ChatParticipantRoleConfig": {
        "type": "object",
        "required": [
          "ParticipantTimerConfigList"
        ],
        "properties": {
          "ParticipantTimerConfigList": {
            "allOf": [
              {
                "$ref": "#/$defs/ParticipantTimerConfigList"
              },
              {
                "description": "A list of participant timers. You can specify any unique combination of role and timer type. Duplicate entries error out the request with a 400."
              }
            ]
          }
        },
        "description": "Configuration information for the chat participant role."
      },
      "ParticipantTimerConfigList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/ParticipantTimerConfiguration"
        },
        "minItems": 1,
        "maxItems": 6
      },
      "ParticipantTimerConfiguration": {
        "type": "object",
        "required": [
          "ParticipantRole",
          "TimerType",
          "TimerValue"
        ],
        "properties": {
          "ParticipantRole": {
            "allOf": [
              {
                "$ref": "#/$defs/TimerEligibleParticipantRoles"
              },
              {
                "description": "The role of the participant in the chat conversation."
              }
            ]
          },
          "TimerType": {
            "allOf": [
              {
                "$ref": "#/$defs/ParticipantTimerType"
              },
              {
                "description": "The type of timer. <code>IDLE</code> indicates the timer applies for considering a human chat participant as idle. <code>DISCONNECT_NONCUSTOMER</code> indicates the timer applies to automatically disconnecting a chat participant due to idleness."
              }
            ]
          },
          "TimerValue": {
            "allOf": [
              {
                "$ref": "#/$defs/ParticipantTimerValue"
              },
              {
                "description": "The value of the timer. Either the timer action (Unset to delete the timer), or the duration of the timer in minutes. Only one value can be set."
              }
            ]
          }
        },
        "description": "<p>Configuration information for the timer. After the timer configuration is set, it persists for the duration of the chat. It persists across new contacts in the chain, for example, transfer contacts.</p> <p>For more information about how chat timeouts work, see <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/setup-chat-timeouts.html\">Set up chat timeouts for human participants</a>. </p>"
      },
      "TimerEligibleParticipantRoles": {
        "type": "string",
        "enum": [
          "CUSTOMER",
          "AGENT"
        ]
      },
      "ParticipantTimerType": {
        "type": "string",
        "enum": [
          "IDLE",
          "DISCONNECT_NONCUSTOMER"
        ]
      },
      "ParticipantTimerValue": {
        "type": "object",
        "properties": {
          "ParticipantTimerAction": {
            "allOf": [
              {
                "$ref": "#/$defs/ParticipantTimerAction"
              },
              {
                "description": "The timer action. Currently only one value is allowed: <code>Unset</code>. It deletes a timer."
              }
            ]
          },
          "ParticipantTimerDurationInMinutes": {
            "allOf": [
              {
                "$ref": "#/$defs/ParticipantTimerDurationInMinutes"
              },
              {
                "description": "The duration of a timer, in minutes. "
              }
            ]
          }
        },
        "description": "<p>The value of the timer. Either the timer action (<code>Unset</code> to delete the timer), or the duration of the timer in minutes. Only one value can be set.</p> <p>For more information about how chat timeouts work, see <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/setup-chat-timeouts.html\">Set up chat timeouts for human participants</a>. </p>"
      },
      "ParticipantTimerAction": {
        "type": "string",
        "enum": [
          "Unset"
        ]
      },
      "ParticipantTimerDurationInMinutes": {
        "type": "integer",
        "minimum": 2,
        "maximum": 480
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "http://connect.us-east-1.amazonaws.com/contact/participant-role-config/{InstanceId}/{ContactId}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
