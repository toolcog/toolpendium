{
  "name": "CreateUser",
  "description": "<p>Creates a user account for the specified Amazon Connect instance.</p> <p>For information about how to create user accounts using the Amazon Connect console, see <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/user-management.html\">Add Users</a> in the <i>Amazon Connect Administrator Guide</i>.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "InstanceId": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100,
        "description": "The identifier of the Amazon Connect instance. You can <a href=\"https://docs.aws.amazon.com/connect/latest/adminguide/find-instance-arn.html\">find the instance ID</a> in the Amazon Resource Name (ARN) of the instance."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "Username",
          "PhoneConfig",
          "SecurityProfileIds",
          "RoutingProfileId"
        ],
        "properties": {
          "Username": {
            "description": "The user name for the account. For instances not using SAML for identity management, the user name can include up to 20 characters. If you are using SAML for identity management, the user name can include up to 64 characters from [a-zA-Z0-9_-.\\@]+.",
            "type": "string",
            "minLength": 1,
            "maxLength": 100
          },
          "Password": {
            "description": "The password for the user account. A password is required if you are using Amazon Connect for identity management. Otherwise, it is an error to include a password.",
            "type": "string",
            "pattern": "/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d\\S]{8,64}$/"
          },
          "IdentityInfo": {
            "description": "Contains information about the identity of a user.",
            "type": "object",
            "properties": {
              "FirstName": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AgentFirstName"
                  },
                  {
                    "description": "The first name. This is required if you are using Amazon Connect or SAML for identity management."
                  }
                ]
              },
              "LastName": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AgentLastName"
                  },
                  {
                    "description": "The last name. This is required if you are using Amazon Connect or SAML for identity management."
                  }
                ]
              },
              "Email": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Email"
                  },
                  {
                    "description": "The email address. If you are using SAML for identity management and include this parameter, an error is returned."
                  }
                ]
              },
              "SecondaryEmail": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Email"
                  },
                  {
                    "description": "<p>The user's secondary email address. If you provide a secondary email, the user receives email notifications - other than password reset notifications - to this email address instead of to their primary email address.</p> <p>Pattern: <code>(?=^.{0,265}$)[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}</code> </p>"
                  }
                ]
              },
              "Mobile": {
                "allOf": [
                  {
                    "$ref": "#/$defs/PhoneNumber"
                  },
                  {
                    "description": "The user's mobile number."
                  }
                ]
              }
            }
          },
          "PhoneConfig": {
            "description": "Contains information about the phone configuration settings for a user.",
            "type": "object",
            "properties": {
              "PhoneType": {
                "allOf": [
                  {
                    "$ref": "#/$defs/PhoneType"
                  },
                  {
                    "description": "The phone type."
                  }
                ]
              },
              "AutoAccept": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AutoAccept"
                  },
                  {
                    "description": "The Auto accept setting."
                  }
                ]
              },
              "AfterContactWorkTimeLimit": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AfterContactWorkTimeLimit"
                  },
                  {
                    "description": "<p>The After Call Work (ACW) timeout setting, in seconds.</p> <note> <p>When returned by a <code>SearchUsers</code> call, <code>AfterContactWorkTimeLimit</code> is returned in milliseconds. </p> </note>"
                  }
                ]
              },
              "DeskPhoneNumber": {
                "allOf": [
                  {
                    "$ref": "#/$defs/PhoneNumber"
                  },
                  {
                    "description": "The phone number for the user's desk phone."
                  }
                ]
              }
            }
          },
          "DirectoryUserId": {
            "description": "<p>The identifier of the user account in the directory used for identity management. If Amazon Connect cannot access the directory, you can specify this identifier to authenticate users. If you include the identifier, we assume that Amazon Connect cannot access the directory. Otherwise, the identity information is used to authenticate users from your directory.</p> <p>This parameter is required if you are using an existing directory for identity management in Amazon Connect when Amazon Connect cannot access your directory to authenticate users. If you are using SAML for identity management and include this parameter, an error is returned.</p>",
            "type": "string"
          },
          "SecurityProfileIds": {
            "description": "The identifier of the security profile for the user.",
            "type": "array",
            "items": {
              "$ref": "#/$defs/SecurityProfileId"
            },
            "minItems": 1,
            "maxItems": 10
          },
          "RoutingProfileId": {
            "description": "The identifier of the routing profile for the user.",
            "type": "string"
          },
          "HierarchyGroupId": {
            "description": "The identifier of the hierarchy group for the user.",
            "type": "string"
          },
          "Tags": {
            "description": "The tags used to organize, track, or control access for this resource. For example, { \"tags\": {\"key1\":\"value1\", \"key2\":\"value2\"} }.",
            "type": "object",
            "minProperties": 1,
            "maxProperties": 50,
            "additionalProperties": {
              "$ref": "#/$defs/TagValue"
            }
          }
        }
      }
    },
    "required": [
      "InstanceId",
      "body"
    ],
    "$defs": {
      "AgentFirstName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100
      },
      "AgentLastName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 100
      },
      "Email": {
        "type": "string"
      },
      "PhoneNumber": {
        "type": "string",
        "pattern": "\\\\+[1-9]\\\\d{1,14}$"
      },
      "PhoneType": {
        "type": "string",
        "enum": [
          "SOFT_PHONE",
          "DESK_PHONE"
        ]
      },
      "AutoAccept": {
        "type": "boolean"
      },
      "AfterContactWorkTimeLimit": {
        "type": "integer",
        "minimum": 0
      },
      "SecurityProfileId": {
        "type": "string"
      },
      "TagValue": {
        "type": "string",
        "maxLength": 256
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "http://connect.us-east-1.amazonaws.com/users/{InstanceId}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**UserId**",
            "**UserArn**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
