{
  "name": "PutAdminAccount",
  "description": "Creates or updates an Firewall Manager administrator account. The account must be a member of the organization that was onboarded to Firewall Manager by <a>AssociateAdminAccount</a>. Only the organization's management account can create an Firewall Manager administrator account. When you create an Firewall Manager administrator account, the service checks to see if the account is already a delegated administrator within Organizations. If the account isn't a delegated administrator, Firewall Manager calls Organizations to delegate the account within Organizations. For more information about administrator accounts within Organizations, see <a href=\"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts.html\">Managing the Amazon Web Services Accounts in Your Organization</a>.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "AWSFMS_20180101.PutAdminAccount"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/PutAdminAccountRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "PutAdminAccountRequest": {
        "type": "object",
        "required": [
          "AdminAccount"
        ],
        "title": "PutAdminAccountRequest",
        "properties": {
          "AdminAccount": {
            "allOf": [
              {
                "$ref": "#/$defs/AWSAccountId"
              },
              {
                "description": "The Amazon Web Services account ID to add as an Firewall Manager administrator account. The account must be a member of the organization that was onboarded to Firewall Manager by <a>AssociateAdminAccount</a>. For more information about Organizations, see <a href=\"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts.html\">Managing the Amazon Web Services Accounts in Your Organization</a>."
              }
            ]
          },
          "AdminScope": {
            "allOf": [
              {
                "$ref": "#/$defs/AdminScope"
              },
              {
                "description": "Configures the resources that the specified Firewall Manager administrator can manage. As a best practice, set the administrative scope according to the principles of least privilege. Only grant the administrator the specific resources or permissions that they need to perform the duties of their role."
              }
            ]
          }
        }
      },
      "AWSAccountId": {
        "type": "string",
        "pattern": "^[0-9]+$",
        "minLength": 1,
        "maxLength": 1024
      },
      "AdminScope": {
        "type": "object",
        "properties": {
          "AccountScope": {
            "allOf": [
              {
                "$ref": "#/$defs/AccountScope"
              },
              {
                "description": "Defines the accounts that the specified Firewall Manager administrator can apply policies to."
              }
            ]
          },
          "OrganizationalUnitScope": {
            "allOf": [
              {
                "$ref": "#/$defs/OrganizationalUnitScope"
              },
              {
                "description": "Defines the Organizations organizational units that the specified Firewall Manager administrator can apply policies to. For more information about OUs in Organizations, see <a href=\"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_ous.html\">Managing organizational units (OUs) </a> in the <i>Organizations User Guide</i>."
              }
            ]
          },
          "RegionScope": {
            "allOf": [
              {
                "$ref": "#/$defs/RegionScope"
              },
              {
                "description": "Defines the Amazon Web Services Regions that the specified Firewall Manager administrator can perform actions in."
              }
            ]
          },
          "PolicyTypeScope": {
            "allOf": [
              {
                "$ref": "#/$defs/PolicyTypeScope"
              },
              {
                "description": "Defines the Firewall Manager policy types that the specified Firewall Manager administrator can create and manage."
              }
            ]
          }
        },
        "description": "Defines the resources that the Firewall Manager administrator can manage. For more information about administrative scope, see <a href=\"https://docs.aws.amazon.com/waf/latest/developerguide/fms-administrators.html\">Managing Firewall Manager administrators</a> in the <i>Firewall Manager Developer Guide</i>."
      },
      "AccountScope": {
        "type": "object",
        "properties": {
          "Accounts": {
            "allOf": [
              {
                "$ref": "#/$defs/AccountIdList"
              },
              {
                "description": "The list of accounts within the organization that the specified Firewall Manager administrator either can or cannot apply policies to, based on the value of <code>ExcludeSpecifiedAccounts</code>. If <code>ExcludeSpecifiedAccounts</code> is set to <code>true</code>, then the Firewall Manager administrator can apply policies to all members of the organization except for the accounts in this list. If <code>ExcludeSpecifiedAccounts</code> is set to <code>false</code>, then the Firewall Manager administrator can only apply policies to the accounts in this list."
              }
            ]
          },
          "AllAccountsEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/Boolean"
              },
              {
                "description": "A boolean value that indicates if the administrator can apply policies to all accounts within an organization. If true, the administrator can apply policies to all accounts within the organization. You can either enable management of all accounts through this operation, or you can specify a list of accounts to manage in <code>AccountScope$Accounts</code>. You cannot specify both."
              }
            ]
          },
          "ExcludeSpecifiedAccounts": {
            "allOf": [
              {
                "$ref": "#/$defs/Boolean"
              },
              {
                "description": "A boolean value that excludes the accounts in <code>AccountScope$Accounts</code> from the administrator's scope. If true, the Firewall Manager administrator can apply policies to all members of the organization except for the accounts listed in <code>AccountScope$Accounts</code>. You can either specify a list of accounts to exclude by <code>AccountScope$Accounts</code>, or you can enable management of all accounts by <code>AccountScope$AllAccountsEnabled</code>. You cannot specify both."
              }
            ]
          }
        },
        "description": "Configures the accounts within the administrator's Organizations organization that the specified Firewall Manager administrator can apply policies to."
      },
      "AccountIdList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/AWSAccountId"
        }
      },
      "Boolean": {
        "type": "boolean"
      },
      "OrganizationalUnitScope": {
        "type": "object",
        "properties": {
          "OrganizationalUnits": {
            "allOf": [
              {
                "$ref": "#/$defs/OrganizationalUnitIdList"
              },
              {
                "description": "The list of OUs within the organization that the specified Firewall Manager administrator either can or cannot apply policies to, based on the value of <code>OrganizationalUnitScope$ExcludeSpecifiedOrganizationalUnits</code>. If <code>OrganizationalUnitScope$ExcludeSpecifiedOrganizationalUnits</code> is set to <code>true</code>, then the Firewall Manager administrator can apply policies to all OUs in the organization except for the OUs in this list. If <code>OrganizationalUnitScope$ExcludeSpecifiedOrganizationalUnits</code> is set to <code>false</code>, then the Firewall Manager administrator can only apply policies to the OUs in this list."
              }
            ]
          },
          "AllOrganizationalUnitsEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/Boolean"
              },
              {
                "description": "A boolean value that indicates if the administrator can apply policies to all OUs within an organization. If true, the administrator can manage all OUs within the organization. You can either enable management of all OUs through this operation, or you can specify OUs to manage in <code>OrganizationalUnitScope$OrganizationalUnits</code>. You cannot specify both."
              }
            ]
          },
          "ExcludeSpecifiedOrganizationalUnits": {
            "allOf": [
              {
                "$ref": "#/$defs/Boolean"
              },
              {
                "description": "A boolean value that excludes the OUs in <code>OrganizationalUnitScope$OrganizationalUnits</code> from the administrator's scope. If true, the Firewall Manager administrator can apply policies to all OUs in the organization except for the OUs listed in <code>OrganizationalUnitScope$OrganizationalUnits</code>. You can either specify a list of OUs to exclude by <code>OrganizationalUnitScope$OrganizationalUnits</code>, or you can enable management of all OUs by <code>OrganizationalUnitScope$AllOrganizationalUnitsEnabled</code>. You cannot specify both."
              }
            ]
          }
        },
        "description": "Defines the Organizations organizational units (OUs) that the specified Firewall Manager administrator can apply policies to. For more information about OUs in Organizations, see <a href=\"https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_ous.html\">Managing organizational units (OUs) </a> in the <i>Organizations User Guide</i>."
      },
      "OrganizationalUnitIdList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/OrganizationalUnitId"
        }
      },
      "OrganizationalUnitId": {
        "type": "string",
        "pattern": "^ou-[0-9a-z]{4,32}-[a-z0-9]{8,32}$",
        "minLength": 16,
        "maxLength": 68
      },
      "RegionScope": {
        "type": "object",
        "properties": {
          "Regions": {
            "allOf": [
              {
                "$ref": "#/$defs/AWSRegionList"
              },
              {
                "description": "The Amazon Web Services Regions that the specified Firewall Manager administrator can perform actions in."
              }
            ]
          },
          "AllRegionsEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/Boolean"
              },
              {
                "description": "Allows the specified Firewall Manager administrator to manage all Amazon Web Services Regions."
              }
            ]
          }
        },
        "description": "Defines the Amazon Web Services Regions that the specified Firewall Manager administrator can manage."
      },
      "AWSRegionList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/AWSRegion"
        },
        "minItems": 0,
        "maxItems": 64
      },
      "AWSRegion": {
        "type": "string",
        "pattern": "^(af|ap|ca|eu|il|me|mx|sa|us|cn|us-gov)-\\w+-\\d+$",
        "minLength": 6,
        "maxLength": 32
      },
      "PolicyTypeScope": {
        "type": "object",
        "properties": {
          "PolicyTypes": {
            "allOf": [
              {
                "$ref": "#/$defs/SecurityServiceTypeList"
              },
              {
                "description": "The list of policy types that the specified Firewall Manager administrator can manage."
              }
            ]
          },
          "AllPolicyTypesEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/Boolean"
              },
              {
                "description": "Allows the specified Firewall Manager administrator to manage all Firewall Manager policy types, except for third-party policy types. Third-party policy types can only be managed by the Firewall Manager default administrator."
              }
            ]
          }
        },
        "description": "Defines the policy types that the specified Firewall Manager administrator can manage."
      },
      "SecurityServiceTypeList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/SecurityServiceType"
        },
        "minItems": 0,
        "maxItems": 32
      },
      "SecurityServiceType": {
        "type": "string",
        "enum": [
          "WAF",
          "WAFV2",
          "SHIELD_ADVANCED",
          "SECURITY_GROUPS_COMMON",
          "SECURITY_GROUPS_CONTENT_AUDIT",
          "SECURITY_GROUPS_USAGE_AUDIT",
          "NETWORK_FIREWALL",
          "DNS_FIREWALL",
          "THIRD_PARTY_FIREWALL",
          "IMPORT_NETWORK_FIREWALL"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://fms.us-east-1.amazonaws.com/#X-Amz-Target=AWSFMS_20180101.PutAdminAccount"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
