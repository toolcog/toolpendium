{
  "name": "CreateProject",
  "description": "Creates a project, including project resources. This action creates a project based on a submitted project request. A set of source code files and a toolchain template file can be included with the project request. If these are not provided, an empty project is created.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "CodeStar_20170419.CreateProject"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateProjectRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateProjectRequest": {
        "type": "object",
        "required": [
          "name",
          "id"
        ],
        "title": "CreateProjectRequest",
        "properties": {
          "name": {
            "allOf": [
              {
                "$ref": "#/$defs/ProjectName"
              },
              {
                "description": "The display name for the project to be created in AWS CodeStar."
              }
            ]
          },
          "id": {
            "allOf": [
              {
                "$ref": "#/$defs/ProjectId"
              },
              {
                "description": "The ID of the project to be created in AWS CodeStar."
              }
            ]
          },
          "description": {
            "allOf": [
              {
                "$ref": "#/$defs/ProjectDescription"
              },
              {
                "description": "The description of the project, if any."
              }
            ]
          },
          "clientRequestToken": {
            "allOf": [
              {
                "$ref": "#/$defs/ClientRequestToken"
              },
              {
                "description": "A user- or system-generated token that identifies the entity that requested project creation. This token can be used to repeat the request."
              }
            ]
          },
          "sourceCode": {
            "allOf": [
              {
                "$ref": "#/$defs/SourceCode"
              },
              {
                "description": "A list of the Code objects submitted with the project request. If this parameter is specified, the request must also include the toolchain parameter."
              }
            ]
          },
          "toolchain": {
            "allOf": [
              {
                "$ref": "#/$defs/Toolchain"
              },
              {
                "description": "The name of the toolchain template file submitted with the project request. If this parameter is specified, the request must also include the sourceCode parameter."
              }
            ]
          },
          "tags": {
            "allOf": [
              {
                "$ref": "#/$defs/Tags"
              },
              {
                "description": "The tags created for the project."
              }
            ]
          }
        }
      },
      "ProjectName": {
        "type": "string",
        "pattern": "^\\S(.*\\S)?$",
        "minLength": 1,
        "maxLength": 100,
        "format": "password"
      },
      "ProjectId": {
        "type": "string",
        "pattern": "^[a-z][a-z0-9-]+$",
        "minLength": 2,
        "maxLength": 15
      },
      "ProjectDescription": {
        "type": "string",
        "pattern": "^$|^\\S(.*\\S)?$",
        "maxLength": 1024,
        "format": "password"
      },
      "ClientRequestToken": {
        "type": "string",
        "pattern": "^[\\w:/-]+$",
        "minLength": 1,
        "maxLength": 256
      },
      "SourceCode": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Code"
        }
      },
      "Code": {
        "type": "object",
        "required": [
          "source",
          "destination"
        ],
        "properties": {
          "source": {
            "allOf": [
              {
                "$ref": "#/$defs/CodeSource"
              },
              {
                "description": "The location where the source code files provided with the project request are stored. AWS CodeStar retrieves the files during project creation."
              }
            ]
          },
          "destination": {
            "allOf": [
              {
                "$ref": "#/$defs/CodeDestination"
              },
              {
                "description": "The repository to be created in AWS CodeStar. Valid values are AWS CodeCommit or GitHub. After AWS CodeStar provisions the new repository, the source code files provided with the project request are placed in the repository."
              }
            ]
          }
        },
        "description": "Location and destination information about the source code files provided with the project request. The source code is uploaded to the new project source repository after project creation."
      },
      "CodeSource": {
        "type": "object",
        "required": [
          "s3"
        ],
        "properties": {
          "s3": {
            "allOf": [
              {
                "$ref": "#/$defs/S3Location"
              },
              {
                "description": "Information about the Amazon S3 location where the source code files provided with the project request are stored. "
              }
            ]
          }
        },
        "description": "The location where the source code files provided with the project request are stored. AWS CodeStar retrieves the files during project creation."
      },
      "S3Location": {
        "type": "object",
        "properties": {
          "bucketName": {
            "allOf": [
              {
                "$ref": "#/$defs/BucketName"
              },
              {
                "description": "The Amazon S3 bucket name where the source code files provided with the project request are stored."
              }
            ]
          },
          "bucketKey": {
            "allOf": [
              {
                "$ref": "#/$defs/BucketKey"
              },
              {
                "description": "The Amazon S3 object key where the source code files provided with the project request are stored."
              }
            ]
          }
        },
        "description": "The Amazon S3 location where the source code files provided with the project request are stored."
      },
      "BucketName": {
        "type": "string",
        "minLength": 3,
        "maxLength": 63
      },
      "BucketKey": {
        "type": "string"
      },
      "CodeDestination": {
        "type": "object",
        "properties": {
          "codeCommit": {
            "allOf": [
              {
                "$ref": "#/$defs/CodeCommitCodeDestination"
              },
              {
                "description": "Information about the AWS CodeCommit repository to be created in AWS CodeStar. This is where the source code files provided with the project request will be uploaded after project creation."
              }
            ]
          },
          "gitHub": {
            "allOf": [
              {
                "$ref": "#/$defs/GitHubCodeDestination"
              },
              {
                "description": "Information about the GitHub repository to be created in AWS CodeStar. This is where the source code files provided with the project request will be uploaded after project creation."
              }
            ]
          }
        },
        "description": "The repository to be created in AWS CodeStar. Valid values are AWS CodeCommit or GitHub. After AWS CodeStar provisions the new repository, the source code files provided with the project request are placed in the repository."
      },
      "CodeCommitCodeDestination": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryName"
              },
              {
                "description": "The name of the AWS CodeCommit repository to be created in AWS CodeStar."
              }
            ]
          }
        },
        "description": "Information about the AWS CodeCommit repository to be created in AWS CodeStar. This is where the source code files provided with the project request will be uploaded after project creation."
      },
      "RepositoryName": {
        "type": "string",
        "pattern": "^\\S[\\w.-]*$",
        "minLength": 1,
        "maxLength": 100
      },
      "GitHubCodeDestination": {
        "type": "object",
        "required": [
          "name",
          "type",
          "owner",
          "privateRepository",
          "issuesEnabled",
          "token"
        ],
        "properties": {
          "name": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryName"
              },
              {
                "description": "Name of the GitHub repository to be created in AWS CodeStar."
              }
            ]
          },
          "description": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryDescription"
              },
              {
                "description": "Description for the GitHub repository to be created in AWS CodeStar. This description displays in GitHub after the repository is created."
              }
            ]
          },
          "type": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryType"
              },
              {
                "description": "The type of GitHub repository to be created in AWS CodeStar. Valid values are User or Organization."
              }
            ]
          },
          "owner": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryOwner"
              },
              {
                "description": "The GitHub username for the owner of the GitHub repository to be created in AWS CodeStar. If this repository should be owned by a GitHub organization, provide its name."
              }
            ]
          },
          "privateRepository": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryIsPrivate"
              },
              {
                "description": "Whether the GitHub repository is to be a private repository."
              }
            ]
          },
          "issuesEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/RepositoryEnableIssues"
              },
              {
                "description": "Whether to enable issues for the GitHub repository."
              }
            ]
          },
          "token": {
            "allOf": [
              {
                "$ref": "#/$defs/GitHubPersonalToken"
              },
              {
                "description": "The GitHub user's personal access token for the GitHub repository."
              }
            ]
          }
        },
        "description": "Information about the GitHub repository to be created in AWS CodeStar. This is where the source code files provided with the project request will be uploaded after project creation."
      },
      "RepositoryDescription": {
        "type": "string",
        "pattern": "^\\S(.*\\S)?$",
        "minLength": 1,
        "maxLength": 1000
      },
      "RepositoryType": {
        "type": "string",
        "pattern": "^(user|organization|User|Organization)$"
      },
      "RepositoryOwner": {
        "type": "string",
        "pattern": "^\\S(.*\\S)?$",
        "minLength": 1,
        "maxLength": 100
      },
      "RepositoryIsPrivate": {
        "type": "boolean"
      },
      "RepositoryEnableIssues": {
        "type": "boolean"
      },
      "GitHubPersonalToken": {
        "type": "string",
        "minLength": 1,
        "format": "password"
      },
      "Toolchain": {
        "type": "object",
        "required": [
          "source"
        ],
        "properties": {
          "source": {
            "allOf": [
              {
                "$ref": "#/$defs/ToolchainSource"
              },
              {
                "description": "The Amazon S3 location where the toolchain template file provided with the project request is stored. AWS CodeStar retrieves the file during project creation."
              }
            ]
          },
          "roleArn": {
            "allOf": [
              {
                "$ref": "#/$defs/RoleArn"
              },
              {
                "description": "The service role ARN for AWS CodeStar to use for the toolchain template during stack provisioning."
              }
            ]
          },
          "stackParameters": {
            "allOf": [
              {
                "$ref": "#/$defs/TemplateParameterMap"
              },
              {
                "description": "The list of parameter overrides to be passed into the toolchain template during stack provisioning, if any."
              }
            ]
          }
        },
        "description": "The toolchain template file provided with the project request. AWS CodeStar uses the template to provision the toolchain stack in AWS CloudFormation."
      },
      "ToolchainSource": {
        "type": "object",
        "required": [
          "s3"
        ],
        "properties": {
          "s3": {
            "allOf": [
              {
                "$ref": "#/$defs/S3Location"
              },
              {
                "description": "The Amazon S3 bucket where the toolchain template file provided with the project request is stored."
              }
            ]
          }
        },
        "description": "The Amazon S3 location where the toolchain template file provided with the project request is stored. AWS CodeStar retrieves the file during project creation."
      },
      "RoleArn": {
        "type": "string",
        "minLength": 1,
        "maxLength": 1224
      },
      "TemplateParameterMap": {
        "type": "object",
        "maxProperties": 25,
        "additionalProperties": {
          "$ref": "#/$defs/TemplateParameterValue"
        }
      },
      "TemplateParameterValue": {
        "type": "string",
        "pattern": "^\\S(.*\\S)?$",
        "minLength": 1,
        "maxLength": 100,
        "format": "password"
      },
      "Tags": {
        "type": "object",
        "additionalProperties": {
          "$ref": "#/$defs/TagValue"
        }
      },
      "TagValue": {
        "type": "string",
        "pattern": "^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$",
        "maxLength": 256
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://codestar.us-east-1.amazonaws.com/#X-Amz-Target=CodeStar_20170419.CreateProject"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**id**",
            "**arn**",
            "**clientRequestToken**",
            "**projectTemplateId**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
