{
  "name": "PutDataLakeSettings",
  "description": "<p>Sets the list of data lake administrators who have admin privileges on all resources managed by Lake Formation. For more information on admin privileges, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/lake-formation-permissions.html\">Granting Lake Formation Permissions</a>.</p> <p>This API replaces the current list of data lake admins with the new list being passed. To add an admin, fetch the current list and add the new admin to that list and pass that list in this API.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "DataLakeSettings"
        ],
        "properties": {
          "CatalogId": {
            "description": "The identifier for the Data Catalog. By default, the account ID. The Data Catalog is the persistent metadata store. It contains database definitions, table definitions, and other control information to manage your Lake Formation environment. ",
            "type": "string",
            "minLength": 1,
            "maxLength": 255,
            "x-pattern": "[\\u0020-\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\\t]*"
          },
          "DataLakeSettings": {
            "description": "A structure representing a list of Lake Formation principals designated as data lake administrators and lists of principal permission entries for default create database and default create table permissions.",
            "type": "object",
            "properties": {
              "DataLakeAdmins": {
                "allOf": [
                  {
                    "$ref": "#/$defs/DataLakePrincipalList"
                  },
                  {
                    "description": "A list of Lake Formation principals. Supported principals are IAM users or IAM roles."
                  }
                ]
              },
              "ReadOnlyAdmins": {
                "allOf": [
                  {
                    "$ref": "#/$defs/DataLakePrincipalList"
                  },
                  {
                    "description": "A list of Lake Formation principals with only view access to the resources, without the ability to make changes. Supported principals are IAM users or IAM roles."
                  }
                ]
              },
              "CreateDatabaseDefaultPermissions": {
                "allOf": [
                  {
                    "$ref": "#/$defs/PrincipalPermissionsList"
                  },
                  {
                    "description": "<p>Specifies whether access control on newly created database is managed by Lake Formation permissions or exclusively by IAM permissions.</p> <p>A null value indicates access control by Lake Formation permissions. A value that assigns ALL to IAM_ALLOWED_PRINCIPALS indicates access control by IAM permissions. This is referred to as the setting \"Use only IAM access control,\" and is for backward compatibility with the Glue permission model implemented by IAM permissions.</p> <p>The only permitted values are an empty array or an array that contains a single JSON object that grants ALL to IAM_ALLOWED_PRINCIPALS.</p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/change-settings.html\">Changing the Default Security Settings for Your Data Lake</a>.</p>"
                  }
                ]
              },
              "CreateTableDefaultPermissions": {
                "allOf": [
                  {
                    "$ref": "#/$defs/PrincipalPermissionsList"
                  },
                  {
                    "description": "<p>Specifies whether access control on newly created table is managed by Lake Formation permissions or exclusively by IAM permissions.</p> <p>A null value indicates access control by Lake Formation permissions. A value that assigns ALL to IAM_ALLOWED_PRINCIPALS indicates access control by IAM permissions. This is referred to as the setting \"Use only IAM access control,\" and is for backward compatibility with the Glue permission model implemented by IAM permissions.</p> <p>The only permitted values are an empty array or an array that contains a single JSON object that grants ALL to IAM_ALLOWED_PRINCIPALS.</p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/change-settings.html\">Changing the Default Security Settings for Your Data Lake</a>.</p>"
                  }
                ]
              },
              "Parameters": {
                "allOf": [
                  {
                    "$ref": "#/$defs/ParametersMap"
                  },
                  {
                    "description": "A key-value map that provides an additional configuration on your data lake. CrossAccountVersion is the key you can configure in the Parameters field. Accepted values for the CrossAccountVersion key are 1, 2, and 3."
                  }
                ]
              },
              "TrustedResourceOwners": {
                "allOf": [
                  {
                    "$ref": "#/$defs/TrustedResourceOwners"
                  },
                  {
                    "description": "<p>A list of the resource-owning account IDs that the caller's account can use to share their user access details (user ARNs). The user ARNs can be logged in the resource owner's CloudTrail log.</p> <p>You may want to specify this property when you are in a high-trust boundary, such as the same team or company. </p>"
                  }
                ]
              },
              "AllowExternalDataFiltering": {
                "allOf": [
                  {
                    "$ref": "#/$defs/NullableBoolean"
                  },
                  {
                    "description": "<p>Whether to allow Amazon EMR clusters to access data managed by Lake Formation. </p> <p>If true, you allow Amazon EMR clusters to access data in Amazon S3 locations that are registered with Lake Formation.</p> <p>If false or null, no Amazon EMR clusters will be able to access data in Amazon S3 locations that are registered with Lake Formation.</p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/lake-formation/latest/dg/initial-LF-setup.html#external-data-filter\">(Optional) Allow external data filtering</a>.</p>"
                  }
                ]
              },
              "AllowFullTableExternalDataAccess": {
                "allOf": [
                  {
                    "$ref": "#/$defs/NullableBoolean"
                  },
                  {
                    "description": "Whether to allow a third-party query engine to get data access credentials without session tags when a caller has full data access permissions."
                  }
                ]
              },
              "ExternalDataFilteringAllowList": {
                "allOf": [
                  {
                    "$ref": "#/$defs/DataLakePrincipalList"
                  },
                  {
                    "description": "A list of the account IDs of Amazon Web Services accounts with Amazon EMR clusters that are to perform data filtering.&gt;"
                  }
                ]
              },
              "AuthorizedSessionTagValueList": {
                "allOf": [
                  {
                    "$ref": "#/$defs/AuthorizedSessionTagValueList"
                  },
                  {
                    "description": "Lake Formation relies on a privileged process secured by Amazon EMR or the third party integrator to tag the user's role while assuming it. Lake Formation will publish the acceptable key-value pair, for example key = \"LakeFormationTrustedCaller\" and value = \"TRUE\" and the third party integrator must properly tag the temporary security credentials that will be used to call Lake Formation's administrative APIs."
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "DataLakePrincipalList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/DataLakePrincipal"
        },
        "minItems": 0,
        "maxItems": 30
      },
      "DataLakePrincipal": {
        "type": "object",
        "properties": {
          "DataLakePrincipalIdentifier": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakePrincipalString"
              },
              {
                "description": "An identifier for the Lake Formation principal."
              }
            ]
          }
        },
        "description": "The Lake Formation principal. Supported principals are IAM users or IAM roles."
      },
      "DataLakePrincipalString": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255
      },
      "PrincipalPermissionsList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/PrincipalPermissions"
        }
      },
      "PrincipalPermissions": {
        "type": "object",
        "properties": {
          "Principal": {
            "allOf": [
              {
                "$ref": "#/$defs/DataLakePrincipal"
              },
              {
                "description": "The principal who is granted permissions."
              }
            ]
          },
          "Permissions": {
            "allOf": [
              {
                "$ref": "#/$defs/PermissionList"
              },
              {
                "description": "The permissions that are granted to the principal."
              }
            ]
          }
        },
        "description": "Permissions granted to a principal."
      },
      "PermissionList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Permission"
        }
      },
      "Permission": {
        "type": "string",
        "enum": [
          "ALL",
          "SELECT",
          "ALTER",
          "DROP",
          "DELETE",
          "INSERT",
          "DESCRIBE",
          "CREATE_DATABASE",
          "CREATE_TABLE",
          "DATA_LOCATION_ACCESS",
          "CREATE_LF_TAG",
          "ASSOCIATE",
          "GRANT_WITH_LF_TAG_EXPRESSION"
        ]
      },
      "ParametersMap": {
        "type": "object",
        "additionalProperties": {
          "$ref": "#/$defs/ParametersMapValue"
        }
      },
      "ParametersMapValue": {
        "type": "string",
        "maxLength": 512000
      },
      "TrustedResourceOwners": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/CatalogIdString"
        }
      },
      "CatalogIdString": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "x-pattern": "[\\u0020-\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\\t]*"
      },
      "NullableBoolean": {
        "type": "boolean"
      },
      "AuthorizedSessionTagValueList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/NameString"
        }
      },
      "NameString": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255,
        "x-pattern": "[\\u0020-\\uD7FF\\uE000-\\uFFFD\\uD800\\uDC00-\\uDBFF\\uDFFF\\t]*"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://lakeformation.us-east-1.amazonaws.com/PutDataLakeSettings"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
