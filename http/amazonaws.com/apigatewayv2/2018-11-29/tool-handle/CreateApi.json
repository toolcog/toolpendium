{
  "name": "CreateApi",
  "description": "Creates an Api resource.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "name",
          "protocolType"
        ],
        "properties": {
          "apiKeySelectionExpression": {
            "description": "An expression used to extract information at runtime. See <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-apikey-selection-expressions\">Selection Expressions</a> for more information.",
            "type": "string"
          },
          "corsConfiguration": {
            "description": "Represents a CORS configuration. Supported only for HTTP APIs. See <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-cors.html\">Configuring CORS</a> for more information.",
            "type": "object",
            "properties": {
              "AllowCredentials": {
                "allOf": [
                  {
                    "$ref": "#/$defs/__boolean"
                  },
                  {
                    "xml": {
                      "name": "allowCredentials"
                    },
                    "description": "Specifies whether credentials are included in the CORS request. Supported only for HTTP APIs."
                  }
                ]
              },
              "AllowHeaders": {
                "allOf": [
                  {
                    "$ref": "#/$defs/CorsHeaderList"
                  },
                  {
                    "xml": {
                      "name": "allowHeaders"
                    },
                    "description": "Represents a collection of allowed headers. Supported only for HTTP APIs."
                  }
                ]
              },
              "AllowMethods": {
                "allOf": [
                  {
                    "$ref": "#/$defs/CorsMethodList"
                  },
                  {
                    "xml": {
                      "name": "allowMethods"
                    },
                    "description": "Represents a collection of allowed HTTP methods. Supported only for HTTP APIs."
                  }
                ]
              },
              "AllowOrigins": {
                "allOf": [
                  {
                    "$ref": "#/$defs/CorsOriginList"
                  },
                  {
                    "xml": {
                      "name": "allowOrigins"
                    },
                    "description": "Represents a collection of allowed origins. Supported only for HTTP APIs."
                  }
                ]
              },
              "ExposeHeaders": {
                "allOf": [
                  {
                    "$ref": "#/$defs/CorsHeaderList"
                  },
                  {
                    "xml": {
                      "name": "exposeHeaders"
                    },
                    "description": "Represents a collection of exposed headers. Supported only for HTTP APIs."
                  }
                ]
              },
              "MaxAge": {
                "allOf": [
                  {
                    "$ref": "#/$defs/IntegerWithLengthBetweenMinus1And86400"
                  },
                  {
                    "xml": {
                      "name": "maxAge"
                    },
                    "description": "The number of seconds that the browser should cache preflight request results. Supported only for HTTP APIs."
                  }
                ]
              }
            }
          },
          "credentialsArn": {
            "description": "Represents an Amazon Resource Name (ARN).",
            "type": "string"
          },
          "description": {
            "description": "A string with a length between [0-1024].",
            "type": "string"
          },
          "disableSchemaValidation": {
            "description": "Avoid validating models when creating a deployment. Supported only for WebSocket APIs.",
            "type": "boolean"
          },
          "disableExecuteApiEndpoint": {
            "description": "Specifies whether clients can invoke your API by using the default execute-api endpoint. By default, clients can invoke your API with the default https://{api_id}.execute-api.{region}.amazonaws.com endpoint. To require that clients use a custom domain name to invoke your API, disable the default endpoint.",
            "type": "boolean"
          },
          "name": {
            "description": "A string with a length between [1-128].",
            "type": "string"
          },
          "protocolType": {
            "description": "Represents a protocol type.",
            "type": "string",
            "enum": [
              "WEBSOCKET",
              "HTTP"
            ]
          },
          "routeKey": {
            "description": "After evaluating a selection expression, the result is compared against one or more selection keys to find a matching key. See <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-apikey-selection-expressions\">Selection Expressions</a> for a list of expressions and each expression's associated selection key type.",
            "type": "string"
          },
          "routeSelectionExpression": {
            "description": "An expression used to extract information at runtime. See <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-selection-expressions.html#apigateway-websocket-api-apikey-selection-expressions\">Selection Expressions</a> for more information.",
            "type": "string"
          },
          "tags": {
            "description": "Represents a collection of tags associated with the resource.",
            "type": "object",
            "additionalProperties": {
              "$ref": "#/$defs/StringWithLengthBetween1And1600"
            }
          },
          "target": {
            "description": "A string representation of a URI with a length between [1-2048].",
            "type": "string"
          },
          "version": {
            "description": "A string with a length between [1-64].",
            "type": "string"
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "__boolean": {
        "type": "boolean"
      },
      "CorsHeaderList": {
        "type": "array",
        "description": "Represents a collection of allowed headers. Supported only for HTTP APIs.",
        "items": {
          "$ref": "#/$defs/__string"
        }
      },
      "__string": {
        "type": "string"
      },
      "CorsMethodList": {
        "type": "array",
        "description": "Represents a collection of methods. Supported only for HTTP APIs.",
        "items": {
          "$ref": "#/$defs/StringWithLengthBetween1And64"
        }
      },
      "StringWithLengthBetween1And64": {
        "type": "string",
        "description": "A string with a length between [1-64]."
      },
      "CorsOriginList": {
        "type": "array",
        "description": "Represents a collection of origins. Supported only for HTTP APIs.",
        "items": {
          "$ref": "#/$defs/__string"
        }
      },
      "IntegerWithLengthBetweenMinus1And86400": {
        "type": "integer",
        "description": "An integer with a value between -1 and 86400. Supported only for HTTP APIs.",
        "minimum": -1,
        "maximum": 86400
      },
      "StringWithLengthBetween1And1600": {
        "type": "string",
        "description": "A string with a length between [0-1600]."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://apigateway.us-east-1.amazonaws.com/v2/apis"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**ApiEndpoint**",
            "**ApiGatewayManaged**",
            "**ApiId**",
            "**ApiKeySelectionExpression**",
            "**CorsConfiguration**",
            "**CreatedDate**",
            "**Description**",
            "**DisableSchemaValidation**",
            "**DisableExecuteApiEndpoint**",
            "**ImportInfo**",
            "**Name**",
            "**ProtocolType**",
            "**RouteSelectionExpression**",
            "**Tags**",
            "**Version**",
            "**Warnings**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
