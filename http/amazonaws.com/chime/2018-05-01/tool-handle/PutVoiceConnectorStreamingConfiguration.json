{
  "name": "PutVoiceConnectorStreamingConfiguration",
  "description": "<p>Adds a streaming configuration for the specified Amazon Chime Voice Connector. The streaming configuration specifies whether media streaming is enabled for sending to Kinesis. It also sets the retention period, in hours, for the Amazon Kinesis data.</p> <important> <p> <b>This API is is no longer supported and will not be updated.</b> We recommend using the latest version, <a href=\"https://docs.aws.amazon.com/chime-sdk/latest/APIReference/API_voice-chime_PutVoiceConnectorStreamingConfiguration.html\">PutVoiceConnectorStreamingConfiguration</a>, in the Amazon Chime SDK.</p> <p>Using the latest version requires migrating to a dedicated namespace. For more information, refer to <a href=\"https://docs.aws.amazon.com/chime-sdk/latest/dg/migrate-from-chm-namespace.html\">Migrating from the Amazon Chime namespace</a> in the <i>Amazon Chime SDK Developer Guide</i>.</p> </important>",
  "parameters": {
    "type": "object",
    "properties": {
      "voiceConnectorId": {
        "type": "string",
        "pattern": ".*\\S.*",
        "description": "The Amazon Chime Voice Connector ID."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "StreamingConfiguration"
        ],
        "properties": {
          "StreamingConfiguration": {
            "description": "The streaming configuration associated with an Amazon Chime Voice Connector. Specifies whether media streaming is enabled for sending to Amazon Kinesis, and shows the retention period for the Amazon Kinesis data, in hours.",
            "type": "object",
            "properties": {
              "DataRetentionInHours": {
                "allOf": [
                  {
                    "$ref": "#/$defs/DataRetentionInHours"
                  },
                  {
                    "description": "The retention period, in hours, for the Amazon Kinesis data."
                  }
                ]
              },
              "Disabled": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Boolean"
                  },
                  {
                    "description": "When true, media streaming to Amazon Kinesis is turned off."
                  }
                ]
              },
              "StreamingNotificationTargets": {
                "allOf": [
                  {
                    "$ref": "#/$defs/StreamingNotificationTargetList"
                  },
                  {
                    "description": "The streaming notification targets."
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "voiceConnectorId",
      "body"
    ],
    "$defs": {
      "DataRetentionInHours": {
        "type": "integer",
        "minimum": 0
      },
      "Boolean": {
        "type": "boolean"
      },
      "StreamingNotificationTargetList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/StreamingNotificationTarget"
        },
        "minItems": 1,
        "maxItems": 3
      },
      "StreamingNotificationTarget": {
        "type": "object",
        "required": [
          "NotificationTarget"
        ],
        "properties": {
          "NotificationTarget": {
            "allOf": [
              {
                "$ref": "#/$defs/NotificationTarget"
              },
              {
                "description": "The streaming notification target."
              }
            ]
          }
        },
        "description": "The targeted recipient for a streaming configuration notification."
      },
      "NotificationTarget": {
        "type": "string",
        "enum": [
          "EventBridge",
          "SNS",
          "SQS"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "http://service.chime.aws.amazon.com/voice-connectors/{voiceConnectorId}/streaming-configuration"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**StreamingConfiguration**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
