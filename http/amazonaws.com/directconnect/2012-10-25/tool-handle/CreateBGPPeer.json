{
  "name": "CreateBGPPeer",
  "description": "<p>Creates a BGP peer on the specified virtual interface.</p> <p>You must create a BGP peer for the corresponding address family (IPv4/IPv6) in order to access Amazon Web Services resources that also use that address family.</p> <p>If logical redundancy is not supported by the connection, interconnect, or LAG, the BGP peer cannot be in the same address family as an existing BGP peer on the virtual interface.</p> <p>When creating a IPv6 BGP peer, omit the Amazon address and customer address. IPv6 addresses are automatically assigned from the Amazon pool of IPv6 addresses; you cannot specify custom IPv6 addresses.</p> <important> <p>If you let Amazon Web Services auto-assign IPv4 addresses, a /30 CIDR will be allocated from 169.254.0.0/16. Amazon Web Services does not recommend this option if you intend to use the customer router peer IP address as the source and destination for traffic. Instead you should use RFC 1918 or other addressing, and specify the address yourself. For more information about RFC 1918 see <a href=\"https://datatracker.ietf.org/doc/html/rfc1918\"> Address Allocation for Private Internets</a>.</p> </important> <p>For a public virtual interface, the Autonomous System Number (ASN) must be private or already on the allow list for the virtual interface.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "OvertureService.CreateBGPPeer"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateBGPPeerRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateBGPPeerRequest": {
        "type": "object",
        "title": "CreateBGPPeerRequest",
        "properties": {
          "virtualInterfaceId": {
            "allOf": [
              {
                "$ref": "#/$defs/VirtualInterfaceId"
              },
              {
                "description": "The ID of the virtual interface."
              }
            ]
          },
          "newBGPPeer": {
            "allOf": [
              {
                "$ref": "#/$defs/NewBGPPeer"
              },
              {
                "description": "Information about the BGP peer."
              }
            ]
          }
        }
      },
      "VirtualInterfaceId": {
        "type": "string"
      },
      "NewBGPPeer": {
        "type": "object",
        "properties": {
          "asn": {
            "allOf": [
              {
                "$ref": "#/$defs/ASN"
              },
              {
                "description": "The autonomous system (AS) number for Border Gateway Protocol (BGP) configuration."
              }
            ]
          },
          "authKey": {
            "allOf": [
              {
                "$ref": "#/$defs/BGPAuthKey"
              },
              {
                "description": "The authentication key for BGP configuration. This string has a minimum length of 6 characters and and a maximun lenth of 80 characters."
              }
            ]
          },
          "addressFamily": {
            "allOf": [
              {
                "$ref": "#/$defs/AddressFamily"
              },
              {
                "description": "The address family for the BGP peer."
              }
            ]
          },
          "amazonAddress": {
            "allOf": [
              {
                "$ref": "#/$defs/AmazonAddress"
              },
              {
                "description": "The IP address assigned to the Amazon interface."
              }
            ]
          },
          "customerAddress": {
            "allOf": [
              {
                "$ref": "#/$defs/CustomerAddress"
              },
              {
                "description": "The IP address assigned to the customer interface."
              }
            ]
          }
        },
        "description": "Information about a new BGP peer."
      },
      "ASN": {
        "type": "integer"
      },
      "BGPAuthKey": {
        "type": "string"
      },
      "AddressFamily": {
        "type": "string",
        "enum": [
          "ipv4",
          "ipv6"
        ]
      },
      "AmazonAddress": {
        "type": "string"
      },
      "CustomerAddress": {
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://directconnect.us-east-1.amazonaws.com/#X-Amz-Target=OvertureService.CreateBGPPeer"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**virtualInterface**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
