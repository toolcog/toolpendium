{
  "name": "CreateConnection",
  "description": "<p>Creates a connection between a customer network and a specific Direct Connect location.</p> <p>A connection links your internal network to an Direct Connect location over a standard Ethernet fiber-optic cable. One end of the cable is connected to your router, the other to an Direct Connect router.</p> <p>To find the locations for your Region, use <a>DescribeLocations</a>.</p> <p>You can automatically add the new connection to a link aggregation group (LAG) by specifying a LAG ID in the request. This ensures that the new connection is allocated on the same Direct Connect endpoint that hosts the specified LAG. If there are no available ports on the endpoint, the request fails and no connection is created.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "OvertureService.CreateConnection"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateConnectionRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateConnectionRequest": {
        "type": "object",
        "required": [
          "location",
          "bandwidth",
          "connectionName"
        ],
        "title": "CreateConnectionRequest",
        "properties": {
          "location": {
            "allOf": [
              {
                "$ref": "#/$defs/LocationCode"
              },
              {
                "description": "The location of the connection."
              }
            ]
          },
          "bandwidth": {
            "allOf": [
              {
                "$ref": "#/$defs/Bandwidth"
              },
              {
                "description": "The bandwidth of the connection."
              }
            ]
          },
          "connectionName": {
            "allOf": [
              {
                "$ref": "#/$defs/ConnectionName"
              },
              {
                "description": "The name of the connection."
              }
            ]
          },
          "lagId": {
            "allOf": [
              {
                "$ref": "#/$defs/LagId"
              },
              {
                "description": "The ID of the LAG."
              }
            ]
          },
          "tags": {
            "allOf": [
              {
                "$ref": "#/$defs/TagList"
              },
              {
                "description": "The tags to associate with the lag."
              }
            ]
          },
          "providerName": {
            "allOf": [
              {
                "$ref": "#/$defs/ProviderName"
              },
              {
                "description": "The name of the service provider associated with the requested connection."
              }
            ]
          },
          "requestMACSec": {
            "allOf": [
              {
                "$ref": "#/$defs/RequestMACSec"
              },
              {
                "description": "<p>Indicates whether you want the connection to support MAC Security (MACsec).</p> <p>MAC Security (MACsec) is only available on dedicated connections. For information about MAC Security (MACsec) prerequisties, see <a href=\"https://docs.aws.amazon.com/directconnect/latest/UserGuide/direct-connect-mac-sec-getting-started.html#mac-sec-prerequisites\">MACsec prerequisties</a> in the <i>Direct Connect User Guide</i>.</p>"
              }
            ]
          }
        }
      },
      "LocationCode": {
        "type": "string"
      },
      "Bandwidth": {
        "type": "string"
      },
      "ConnectionName": {
        "type": "string"
      },
      "LagId": {
        "type": "string"
      },
      "TagList": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/Tag"
        },
        "minItems": 1
      },
      "Tag": {
        "type": "object",
        "required": [
          "key"
        ],
        "properties": {
          "key": {
            "allOf": [
              {
                "$ref": "#/$defs/TagKey"
              },
              {
                "description": "The key."
              }
            ]
          },
          "value": {
            "allOf": [
              {
                "$ref": "#/$defs/TagValue"
              },
              {
                "description": "The value."
              }
            ]
          }
        },
        "description": "Information about a tag."
      },
      "TagKey": {
        "type": "string",
        "pattern": "^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$",
        "minLength": 1,
        "maxLength": 128
      },
      "TagValue": {
        "type": "string",
        "pattern": "^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$",
        "minLength": 0,
        "maxLength": 256
      },
      "ProviderName": {
        "type": "string"
      },
      "RequestMACSec": {
        "type": "boolean"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://directconnect.us-east-1.amazonaws.com/#X-Amz-Target=OvertureService.CreateConnection"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Information about an Direct Connect connection.",
        "**Key properties:**",
        {
          "$ul": [
            "**ownerAccount**",
            "**connectionId**",
            "**connectionName**",
            "**connectionState**",
            "**region**",
            "**location**",
            "**bandwidth**",
            "**vlan**",
            "**partnerName**",
            "**loaIssueTime**",
            "**lagId**",
            "**awsDevice**",
            "**jumboFrameCapable**",
            "**awsDeviceV2**",
            "**awsLogicalDeviceId**",
            "**hasLogicalRedundancy**",
            "**tags**",
            "**providerName**",
            "**macSecCapable**",
            "**portEncryptionStatus**",
            "**encryptionMode**",
            "**macSecKeys**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
