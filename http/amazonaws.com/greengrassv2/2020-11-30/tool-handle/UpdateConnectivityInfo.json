{
  "name": "UpdateConnectivityInfo",
  "description": "<p>Updates connectivity information for a Greengrass core device.</p> <p>Connectivity information includes endpoints and ports where client devices can connect to an MQTT broker on the core device. When a client device calls the <a href=\"https://docs.aws.amazon.com/greengrass/v2/developerguide/greengrass-discover-api.html\">IoT Greengrass discovery API</a>, IoT Greengrass returns connectivity information for all of the core devices where the client device can connect. For more information, see <a href=\"https://docs.aws.amazon.com/greengrass/v2/developerguide/connect-client-devices.html\">Connect client devices to core devices</a> in the <i>IoT Greengrass Version 2 Developer Guide</i>.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "thingName": {
        "type": "string",
        "minLength": 1,
        "maxLength": 128,
        "description": "The name of the core device. This is also the name of the IoT thing."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "ConnectivityInfo"
        ],
        "properties": {
          "ConnectivityInfo": {
            "description": "The connectivity information for the core device.",
            "type": "array",
            "items": {
              "$ref": "#/$defs/ConnectivityInfo"
            }
          }
        }
      }
    },
    "required": [
      "thingName",
      "body"
    ],
    "$defs": {
      "ConnectivityInfo": {
        "type": "object",
        "properties": {
          "id": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "Id"
                },
                "description": "An ID for the connectivity information."
              }
            ]
          },
          "hostAddress": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "HostAddress"
                },
                "description": "The IP address or DNS address where client devices can connect to an MQTT broker on the Greengrass core device."
              }
            ]
          },
          "portNumber": {
            "allOf": [
              {
                "$ref": "#/$defs/PortNumberInt"
              },
              {
                "xml": {
                  "name": "PortNumber"
                },
                "description": "The port where the MQTT broker operates on the core device. This port is typically 8883, which is the default port for the MQTT broker component that runs on core devices."
              }
            ]
          },
          "metadata": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "xml": {
                  "name": "Metadata"
                },
                "description": "Additional metadata to provide to client devices that connect to this core device."
              }
            ]
          }
        },
        "description": "Contains information about an endpoint and port where client devices can connect to an MQTT broker on a Greengrass core device."
      },
      "String": {
        "type": "string"
      },
      "PortNumberInt": {
        "type": "integer",
        "minimum": 0,
        "maximum": 65535
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "http://greengrass.us-east-1.amazonaws.com/greengrass/things/{thingName}/connectivityInfo"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**version**",
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
