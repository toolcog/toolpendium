{
  "name": "UpdateFileSystemAssociation",
  "description": "Updates a file system association. This operation is only supported in the FSx File Gateways.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "StorageGateway_20130630.UpdateFileSystemAssociation"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/UpdateFileSystemAssociationInput"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "UpdateFileSystemAssociationInput": {
        "type": "object",
        "required": [
          "FileSystemAssociationARN"
        ],
        "title": "UpdateFileSystemAssociationInput",
        "properties": {
          "FileSystemAssociationARN": {
            "allOf": [
              {
                "$ref": "#/$defs/FileSystemAssociationARN"
              },
              {
                "description": "The Amazon Resource Name (ARN) of the file system association that you want to update."
              }
            ]
          },
          "UserName": {
            "allOf": [
              {
                "$ref": "#/$defs/DomainUserName"
              },
              {
                "description": "The user name of the user credential that has permission to access the root share D$ of the Amazon FSx file system. The user account must belong to the Amazon FSx delegated admin user group."
              }
            ]
          },
          "Password": {
            "allOf": [
              {
                "$ref": "#/$defs/DomainUserPassword"
              },
              {
                "description": "The password of the user credential."
              }
            ]
          },
          "AuditDestinationARN": {
            "allOf": [
              {
                "$ref": "#/$defs/AuditDestinationARN"
              },
              {
                "description": "The Amazon Resource Name (ARN) of the storage used for the audit logs."
              }
            ]
          },
          "CacheAttributes": {
            "$ref": "#/$defs/CacheAttributes"
          }
        }
      },
      "FileSystemAssociationARN": {
        "type": "string",
        "minLength": 50,
        "maxLength": 500
      },
      "DomainUserName": {
        "type": "string",
        "pattern": "^\\w[\\w\\.\\- ]*$",
        "minLength": 1,
        "maxLength": 1024
      },
      "DomainUserPassword": {
        "type": "string",
        "pattern": "^[ -~]+$",
        "minLength": 1,
        "maxLength": 1024,
        "format": "password"
      },
      "AuditDestinationARN": {
        "type": "string",
        "maxLength": 1024
      },
      "CacheAttributes": {
        "type": "object",
        "properties": {
          "CacheStaleTimeoutInSeconds": {
            "allOf": [
              {
                "$ref": "#/$defs/CacheStaleTimeoutInSeconds"
              },
              {
                "description": "<p>Refreshes a file share's cache by using Time To Live (TTL). TTL is the length of time since the last refresh after which access to the directory would cause the file gateway to first refresh that directory's contents from the Amazon S3 bucket or Amazon FSx file system. The TTL duration is in seconds.</p> <p>Valid Values:0, 300 to 2,592,000 seconds (5 minutes to 30 days)</p>"
              }
            ]
          }
        },
        "description": "The refresh cache information for the file share or FSx file systems."
      },
      "CacheStaleTimeoutInSeconds": {
        "type": "integer"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://storagegateway.us-east-1.amazonaws.com/#X-Amz-Target=StorageGateway_20130630.UpdateFileSystemAssociation"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**FileSystemAssociationARN**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
