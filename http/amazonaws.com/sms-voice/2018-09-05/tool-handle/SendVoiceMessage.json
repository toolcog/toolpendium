{
  "name": "SendVoiceMessage",
  "description": "Create a new voice message and send it to a recipient's phone number.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "properties": {
          "CallerId": {
            "description": "The phone number that appears on recipients' devices when they receive the message.",
            "type": "string"
          },
          "ConfigurationSetName": {
            "description": "The name of the configuration set that you want to use to send the message.",
            "type": "string"
          },
          "Content": {
            "description": "An object that contains a voice message and information about the recipient that you want to send it to.",
            "type": "object",
            "properties": {
              "CallInstructionsMessage": {
                "$ref": "#/$defs/CallInstructionsMessageType"
              },
              "PlainTextMessage": {
                "$ref": "#/$defs/PlainTextMessageType"
              },
              "SSMLMessage": {
                "$ref": "#/$defs/SSMLMessageType"
              }
            }
          },
          "DestinationPhoneNumber": {
            "description": "The phone number that you want to send the voice message to.",
            "type": "string"
          },
          "OriginationPhoneNumber": {
            "description": "The phone number that Amazon Pinpoint should use to send the voice message. This isn't necessarily the phone number that appears on recipients' devices when they receive the message, because you can specify a CallerId parameter in the request.",
            "type": "string"
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "CallInstructionsMessageType": {
        "type": "object",
        "properties": {
          "Text": {
            "allOf": [
              {
                "$ref": "#/$defs/NonEmptyString"
              },
              {
                "description": "The language to use when delivering the message. For a complete list of supported languages, see the Amazon Polly Developer Guide."
              }
            ]
          }
        },
        "description": "An object that defines a message that contains text formatted using Amazon Pinpoint Voice Instructions markup."
      },
      "NonEmptyString": {
        "type": "string"
      },
      "PlainTextMessageType": {
        "type": "object",
        "properties": {
          "LanguageCode": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The language to use when delivering the message. For a complete list of supported languages, see the Amazon Polly Developer Guide."
              }
            ]
          },
          "Text": {
            "allOf": [
              {
                "$ref": "#/$defs/NonEmptyString"
              },
              {
                "description": "The plain (not SSML-formatted) text to deliver to the recipient."
              }
            ]
          },
          "VoiceId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The name of the voice that you want to use to deliver the message. For a complete list of supported voices, see the Amazon Polly Developer Guide."
              }
            ]
          }
        },
        "description": "An object that defines a message that contains unformatted text."
      },
      "String": {
        "type": "string"
      },
      "SSMLMessageType": {
        "type": "object",
        "properties": {
          "LanguageCode": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The language to use when delivering the message. For a complete list of supported languages, see the Amazon Polly Developer Guide."
              }
            ]
          },
          "Text": {
            "allOf": [
              {
                "$ref": "#/$defs/NonEmptyString"
              },
              {
                "description": "The SSML-formatted text to deliver to the recipient."
              }
            ]
          },
          "VoiceId": {
            "allOf": [
              {
                "$ref": "#/$defs/String"
              },
              {
                "description": "The name of the voice that you want to use to deliver the message. For a complete list of supported voices, see the Amazon Polly Developer Guide."
              }
            ]
          }
        },
        "description": "An object that defines a message that contains SSML-formatted text."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://sms-voice.pinpoint.us-east-1.amazonaws.com/v1/sms-voice/voice/message"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "An object that that contains the Message ID of a Voice message that was sent successfully.",
        "**Key properties:**",
        {
          "$ul": [
            "**MessageId**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
