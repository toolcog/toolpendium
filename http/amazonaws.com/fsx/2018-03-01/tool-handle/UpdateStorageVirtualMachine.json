{
  "name": "UpdateStorageVirtualMachine",
  "description": "Updates an FSx for ONTAP storage virtual machine (SVM).",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "AWSSimbaAPIService_v20180301.UpdateStorageVirtualMachine"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/UpdateStorageVirtualMachineRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "UpdateStorageVirtualMachineRequest": {
        "type": "object",
        "required": [
          "StorageVirtualMachineId"
        ],
        "title": "UpdateStorageVirtualMachineRequest",
        "properties": {
          "ActiveDirectoryConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/UpdateSvmActiveDirectoryConfiguration"
              },
              {
                "description": "Specifies updates to an SVM's Microsoft Active Directory (AD) configuration."
              }
            ]
          },
          "ClientRequestToken": {
            "$ref": "#/$defs/ClientRequestToken"
          },
          "StorageVirtualMachineId": {
            "allOf": [
              {
                "$ref": "#/$defs/StorageVirtualMachineId"
              },
              {
                "description": "The ID of the SVM that you want to update, in the format <code>svm-0123456789abcdef0</code>."
              }
            ]
          },
          "SvmAdminPassword": {
            "allOf": [
              {
                "$ref": "#/$defs/AdminPassword"
              },
              {
                "description": "Specifies a new SvmAdminPassword."
              }
            ]
          }
        }
      },
      "UpdateSvmActiveDirectoryConfiguration": {
        "type": "object",
        "properties": {
          "SelfManagedActiveDirectoryConfiguration": {
            "$ref": "#/$defs/SelfManagedActiveDirectoryConfigurationUpdates"
          },
          "NetBiosName": {
            "allOf": [
              {
                "$ref": "#/$defs/NetBiosAlias"
              },
              {
                "description": "Specifies an updated NetBIOS name of the AD computer object <code>NetBiosName</code> to which an SVM is joined."
              }
            ]
          }
        },
        "description": "Specifies updates to an FSx for ONTAP storage virtual machine's (SVM) Microsoft Active Directory (AD) configuration. Note that account credentials are not returned in the response payload."
      },
      "SelfManagedActiveDirectoryConfigurationUpdates": {
        "type": "object",
        "properties": {
          "UserName": {
            "allOf": [
              {
                "$ref": "#/$defs/DirectoryUserName"
              },
              {
                "description": "<p>Specifies the updated user name for the service account on your self-managed AD domain. Amazon FSx uses this account to join to your self-managed AD domain.</p> <p>This account must have the permissions required to join computers to the domain in the organizational unit provided in <code>OrganizationalUnitDistinguishedName</code>.</p>"
              }
            ]
          },
          "Password": {
            "allOf": [
              {
                "$ref": "#/$defs/DirectoryPassword"
              },
              {
                "description": "Specifies the updated password for the service account on your self-managed AD domain. Amazon FSx uses this account to join to your self-managed AD domain."
              }
            ]
          },
          "DnsIps": {
            "allOf": [
              {
                "$ref": "#/$defs/DnsIps"
              },
              {
                "description": "A list of up to three DNS server or domain controller IP addresses in your self-managed AD domain."
              }
            ]
          },
          "DomainName": {
            "allOf": [
              {
                "$ref": "#/$defs/ActiveDirectoryFullyQualifiedName"
              },
              {
                "description": "Specifies an updated fully qualified domain name of your self-managed AD configuration."
              }
            ]
          },
          "OrganizationalUnitDistinguishedName": {
            "allOf": [
              {
                "$ref": "#/$defs/OrganizationalUnitDistinguishedName"
              },
              {
                "description": "Specifies an updated fully qualified distinguished name of the organization unit within your self-managed AD."
              }
            ]
          },
          "FileSystemAdministratorsGroup": {
            "allOf": [
              {
                "$ref": "#/$defs/FileSystemAdministratorsGroupName"
              },
              {
                "description": "Specifies the updated name of the self-managed AD domain group whose members are granted administrative privileges for the Amazon FSx resource."
              }
            ]
          }
        },
        "description": "Specifies changes you are making to the self-managed Microsoft Active Directory (AD) configuration to which an FSx for Windows File Server file system or an FSx for ONTAP SVM is joined."
      },
      "DirectoryUserName": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,256}$",
        "minLength": 1,
        "maxLength": 256
      },
      "DirectoryPassword": {
        "type": "string",
        "pattern": "^.{1,256}$",
        "minLength": 1,
        "maxLength": 256,
        "format": "password"
      },
      "DnsIps": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/IpAddress"
        },
        "minItems": 1,
        "maxItems": 3
      },
      "IpAddress": {
        "type": "string",
        "pattern": "^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",
        "minLength": 7,
        "maxLength": 15
      },
      "ActiveDirectoryFullyQualifiedName": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,255}$",
        "minLength": 1,
        "maxLength": 255
      },
      "OrganizationalUnitDistinguishedName": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,2000}$",
        "minLength": 1,
        "maxLength": 2000
      },
      "FileSystemAdministratorsGroupName": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,256}$",
        "minLength": 1,
        "maxLength": 256
      },
      "NetBiosAlias": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,255}$",
        "minLength": 1,
        "maxLength": 15
      },
      "ClientRequestToken": {
        "type": "string",
        "pattern": "[A-za-z0-9_.-]{0,63}$",
        "description": "(Optional) An idempotency token for resource creation, in a string of up to 63 ASCII characters. This token is automatically filled on your behalf when you use the Command Line Interface (CLI) or an Amazon Web Services SDK.",
        "minLength": 1,
        "maxLength": 63
      },
      "StorageVirtualMachineId": {
        "type": "string",
        "pattern": "^(svm-[0-9a-f]{17,})$",
        "minLength": 21,
        "maxLength": 21
      },
      "AdminPassword": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{8,50}$",
        "minLength": 8,
        "maxLength": 50,
        "format": "password"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://fsx.us-east-1.amazonaws.com/#X-Amz-Target=AWSSimbaAPIService_v20180301.UpdateStorageVirtualMachine"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**StorageVirtualMachine**: Describes the Amazon FSx for NetApp ONTAP storage virtual machine (SVM) configuration.",
              {
                "$ul": [
                  "**ActiveDirectoryConfiguration**",
                  "**CreationTime**: The time that the resource was created, in seconds (since 1970-01-01T00:00:00Z), also known as Unix time.",
                  "**Endpoints**",
                  "**FileSystemId**: The globally unique ID of the file system, assigned by Amazon FSx.",
                  "**Lifecycle**",
                  "**Name**",
                  "**ResourceARN**: The Amazon Resource Name (ARN) for a given resource. ARNs uniquely identify Amazon Web Services resources. We require an ARN when you need to specify a resource unambiguously across all of Amazon Web Services. For more information, see <a href=\"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html\">Amazon Resource Names (ARNs)</a> in the <i>Amazon Web Services General Reference</i>.",
                  "**StorageVirtualMachineId**",
                  "**Subtype**",
                  "**UUID**",
                  "**Tags**: A list of <code>Tag</code> values, with a maximum of 50 elements.",
                  "**LifecycleTransitionReason**",
                  "**RootVolumeSecurityStyle**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
