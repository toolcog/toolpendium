{
  "name": "CreateVolume",
  "description": "Creates an FSx for ONTAP or Amazon FSx for OpenZFS storage volume.",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Amz-Target": {
        "type": "string",
        "enum": [
          "AWSSimbaAPIService_v20180301.CreateVolume"
        ]
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/CreateVolumeRequest"
      }
    },
    "required": [
      "X-Amz-Target",
      "body"
    ],
    "$defs": {
      "CreateVolumeRequest": {
        "type": "object",
        "required": [
          "VolumeType",
          "Name"
        ],
        "title": "CreateVolumeRequest",
        "properties": {
          "ClientRequestToken": {
            "$ref": "#/$defs/ClientRequestToken"
          },
          "VolumeType": {
            "allOf": [
              {
                "$ref": "#/$defs/VolumeType"
              },
              {
                "description": "Specifies the type of volume to create; <code>ONTAP</code> and <code>OPENZFS</code> are the only valid volume types."
              }
            ]
          },
          "Name": {
            "allOf": [
              {
                "$ref": "#/$defs/VolumeName"
              },
              {
                "description": "Specifies the name of the volume that you're creating."
              }
            ]
          },
          "OntapConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/CreateOntapVolumeConfiguration"
              },
              {
                "description": "Specifies the configuration to use when creating the ONTAP volume."
              }
            ]
          },
          "Tags": {
            "$ref": "#/$defs/Tags"
          },
          "OpenZFSConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/CreateOpenZFSVolumeConfiguration"
              },
              {
                "description": "Specifies the configuration to use when creating the OpenZFS volume."
              }
            ]
          }
        }
      },
      "ClientRequestToken": {
        "type": "string",
        "pattern": "[A-za-z0-9_.-]{0,63}$",
        "description": "(Optional) An idempotency token for resource creation, in a string of up to 63 ASCII characters. This token is automatically filled on your behalf when you use the Command Line Interface (CLI) or an Amazon Web Services SDK.",
        "minLength": 1,
        "maxLength": 63
      },
      "VolumeType": {
        "type": "string",
        "enum": [
          "ONTAP",
          "OPENZFS"
        ]
      },
      "VolumeName": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,203}$",
        "minLength": 1,
        "maxLength": 203
      },
      "CreateOntapVolumeConfiguration": {
        "type": "object",
        "required": [
          "SizeInMegabytes",
          "StorageVirtualMachineId"
        ],
        "properties": {
          "JunctionPath": {
            "allOf": [
              {
                "$ref": "#/$defs/JunctionPath"
              },
              {
                "description": "Specifies the location in the SVM's namespace where the volume is mounted. This parameter is required. The <code>JunctionPath</code> must have a leading forward slash, such as <code>/vol3</code>."
              }
            ]
          },
          "SecurityStyle": {
            "allOf": [
              {
                "$ref": "#/$defs/SecurityStyle"
              },
              {
                "description": "<p>Specifies the security style for the volume. If a volume's security style is not specified, it is automatically set to the root volume's security style. The security style determines the type of permissions that FSx for ONTAP uses to control data access. For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/managing-volumes.html#volume-security-style\">Volume security style</a> in the <i>Amazon FSx for NetApp ONTAP User Guide</i>. Specify one of the following values:</p> <ul> <li> <p> <code>UNIX</code> if the file system is managed by a UNIX administrator, the majority of users are NFS clients, and an application accessing the data uses a UNIX user as the service account. </p> </li> <li> <p> <code>NTFS</code> if the file system is managed by a Windows administrator, the majority of users are SMB clients, and an application accessing the data uses a Windows user as the service account.</p> </li> <li> <p> <code>MIXED</code> if the file system is managed by both UNIX and Windows administrators and users consist of both NFS and SMB clients.</p> </li> </ul>"
              }
            ]
          },
          "SizeInMegabytes": {
            "allOf": [
              {
                "$ref": "#/$defs/VolumeCapacity"
              },
              {
                "description": "Specifies the size of the volume, in megabytes (MB), that you are creating."
              }
            ]
          },
          "StorageEfficiencyEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/Flag"
              },
              {
                "description": "Set to true to enable deduplication, compression, and compaction storage efficiency features on the volume, or set to false to disable them. This parameter is required."
              }
            ]
          },
          "StorageVirtualMachineId": {
            "allOf": [
              {
                "$ref": "#/$defs/StorageVirtualMachineId"
              },
              {
                "description": "Specifies the ONTAP SVM in which to create the volume."
              }
            ]
          },
          "TieringPolicy": {
            "$ref": "#/$defs/TieringPolicy"
          },
          "OntapVolumeType": {
            "allOf": [
              {
                "$ref": "#/$defs/InputOntapVolumeType"
              },
              {
                "description": "<p>Specifies the type of volume you are creating. Valid values are the following:</p> <ul> <li> <p> <code>RW</code> specifies a read/write volume. <code>RW</code> is the default.</p> </li> <li> <p> <code>DP</code> specifies a data-protection volume. A <code>DP</code> volume is read-only and can be used as the destination of a NetApp SnapMirror relationship.</p> </li> </ul> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/volume-types\">Volume types</a> in the <i>Amazon FSx for NetApp ONTAP User Guide</i>.</p>"
              }
            ]
          },
          "SnapshotPolicy": {
            "allOf": [
              {
                "$ref": "#/$defs/SnapshotPolicy"
              },
              {
                "description": "<p>Specifies the snapshot policy for the volume. There are three built-in snapshot policies:</p> <ul> <li> <p> <code>default</code>: This is the default policy. A maximum of six hourly snapshots taken five minutes past the hour. A maximum of two daily snapshots taken Monday through Saturday at 10 minutes after midnight. A maximum of two weekly snapshots taken every Sunday at 15 minutes after midnight.</p> </li> <li> <p> <code>default-1weekly</code>: This policy is the same as the <code>default</code> policy except that it only retains one snapshot from the weekly schedule.</p> </li> <li> <p> <code>none</code>: This policy does not take any snapshots. This policy can be assigned to volumes to prevent automatic snapshots from being taken.</p> </li> </ul> <p>You can also provide the name of a custom policy that you created with the ONTAP CLI or REST API.</p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/snapshots-ontap.html#snapshot-policies\">Snapshot policies</a> in the <i>Amazon FSx for NetApp ONTAP User Guide</i>.</p>"
              }
            ]
          },
          "CopyTagsToBackups": {
            "allOf": [
              {
                "$ref": "#/$defs/Flag"
              },
              {
                "description": "A boolean flag indicating whether tags for the volume should be copied to backups. This value defaults to false. If it's set to true, all tags for the volume are copied to all automatic and user-initiated backups where the user doesn't specify tags. If this value is true, and you specify one or more tags, only the specified tags are copied to backups. If you specify one or more tags when creating a user-initiated backup, no tags are copied from the volume, regardless of this value."
              }
            ]
          },
          "SnaplockConfiguration": {
            "allOf": [
              {
                "$ref": "#/$defs/CreateSnaplockConfiguration"
              },
              {
                "description": "Specifies the SnapLock configuration for an FSx for ONTAP volume. "
              }
            ]
          }
        },
        "description": "Specifies the configuration of the ONTAP volume that you are creating."
      },
      "JunctionPath": {
        "type": "string",
        "pattern": "^[^\\u0000\\u0085\\u2028\\u2029\\r\\n]{1,255}$",
        "minLength": 1,
        "maxLength": 255
      },
      "SecurityStyle": {
        "type": "string",
        "enum": [
          "UNIX",
          "NTFS",
          "MIXED"
        ]
      },
      "VolumeCapacity": {
        "type": "integer",
        "minimum": 0,
        "maximum": 314572800
      },
      "Flag": {
        "type": "boolean"
      },
      "StorageVirtualMachineId": {
        "type": "string",
        "pattern": "^(svm-[0-9a-f]{17,})$",
        "minLength": 21,
        "maxLength": 21
      },
      "TieringPolicy": {
        "type": "object",
        "properties": {
          "CoolingPeriod": {
            "allOf": [
              {
                "$ref": "#/$defs/CoolingPeriod"
              },
              {
                "description": "Specifies the number of days that user data in a volume must remain inactive before it is considered \"cold\" and moved to the capacity pool. Used with the <code>AUTO</code> and <code>SNAPSHOT_ONLY</code> tiering policies. Enter a whole number between 2 and 183. Default values are 31 days for <code>AUTO</code> and 2 days for <code>SNAPSHOT_ONLY</code>."
              }
            ]
          },
          "Name": {
            "allOf": [
              {
                "$ref": "#/$defs/TieringPolicyName"
              },
              {
                "description": "<p>Specifies the tiering policy used to transition data. Default value is <code>SNAPSHOT_ONLY</code>.</p> <ul> <li> <p> <code>SNAPSHOT_ONLY</code> - moves cold snapshots to the capacity pool storage tier.</p> </li> <li> <p> <code>AUTO</code> - moves cold user data and snapshots to the capacity pool storage tier based on your access patterns.</p> </li> <li> <p> <code>ALL</code> - moves all user data blocks in both the active file system and Snapshot copies to the storage pool tier.</p> </li> <li> <p> <code>NONE</code> - keeps a volume's data in the primary storage tier, preventing it from being moved to the capacity pool tier.</p> </li> </ul>"
              }
            ]
          }
        },
        "description": "<p>Describes the data tiering policy for an ONTAP volume. When enabled, Amazon FSx for ONTAP's intelligent tiering automatically transitions a volume's data between the file system's primary storage and capacity pool storage based on your access patterns.</p> <p>Valid tiering policies are the following:</p> <ul> <li> <p> <code>SNAPSHOT_ONLY</code> - (Default value) moves cold snapshots to the capacity pool storage tier.</p> </li> </ul> <ul> <li> <p> <code>AUTO</code> - moves cold user data and snapshots to the capacity pool storage tier based on your access patterns.</p> </li> </ul> <ul> <li> <p> <code>ALL</code> - moves all user data blocks in both the active file system and Snapshot copies to the storage pool tier.</p> </li> </ul> <ul> <li> <p> <code>NONE</code> - keeps a volume's data in the primary storage tier, preventing it from being moved to the capacity pool tier.</p> </li> </ul>"
      },
      "CoolingPeriod": {
        "type": "integer",
        "minimum": 2,
        "maximum": 183
      },
      "TieringPolicyName": {
        "type": "string",
        "enum": [
          "SNAPSHOT_ONLY",
          "AUTO",
          "ALL",
          "NONE"
        ]
      },
      "InputOntapVolumeType": {
        "type": "string",
        "enum": [
          "RW",
          "DP"
        ]
      },
      "SnapshotPolicy": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255
      },
      "CreateSnaplockConfiguration": {
        "type": "object",
        "required": [
          "SnaplockType"
        ],
        "properties": {
          "AuditLogVolume": {
            "allOf": [
              {
                "$ref": "#/$defs/Flag"
              },
              {
                "description": "<p>Enables or disables the audit log volume for an FSx for ONTAP SnapLock volume. The default value is <code>false</code>. If you set <code>AuditLogVolume</code> to <code>true</code>, the SnapLock volume is created as an audit log volume. The minimum retention period for an audit log volume is six months. </p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/how-snaplock-works.html#snaplock-audit-log-volume\"> SnapLock audit log volumes</a>. </p>"
              }
            ]
          },
          "AutocommitPeriod": {
            "allOf": [
              {
                "$ref": "#/$defs/AutocommitPeriod"
              },
              {
                "description": "The configuration object for setting the autocommit period of files in an FSx for ONTAP SnapLock volume. "
              }
            ]
          },
          "PrivilegedDelete": {
            "allOf": [
              {
                "$ref": "#/$defs/PrivilegedDelete"
              },
              {
                "description": "<p>Enables, disables, or permanently disables privileged delete on an FSx for ONTAP SnapLock Enterprise volume. Enabling privileged delete allows SnapLock administrators to delete WORM files even if they have active retention periods. <code>PERMANENTLY_DISABLED</code> is a terminal state. If privileged delete is permanently disabled on a SnapLock volume, you can't re-enable it. The default value is <code>DISABLED</code>. </p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/how-snaplock-works.html#privileged-delete\">Privileged delete</a>. </p>"
              }
            ]
          },
          "RetentionPeriod": {
            "allOf": [
              {
                "$ref": "#/$defs/SnaplockRetentionPeriod"
              },
              {
                "description": "Specifies the retention period of an FSx for ONTAP SnapLock volume. "
              }
            ]
          },
          "SnaplockType": {
            "allOf": [
              {
                "$ref": "#/$defs/SnaplockType"
              },
              {
                "description": "<p>Specifies the retention mode of an FSx for ONTAP SnapLock volume. After it is set, it can't be changed. You can choose one of the following retention modes: </p> <ul> <li> <p> <code>COMPLIANCE</code>: Files transitioned to write once, read many (WORM) on a Compliance volume can't be deleted until their retention periods expire. This retention mode is used to address government or industry-specific mandates or to protect against ransomware attacks. For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/snaplock-compliance.html\">SnapLock Compliance</a>. </p> </li> <li> <p> <code>ENTERPRISE</code>: Files transitioned to WORM on an Enterprise volume can be deleted by authorized users before their retention periods expire using privileged delete. This retention mode is used to advance an organization's data integrity and internal compliance or to test retention settings before using SnapLock Compliance. For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/how-snaplock-works.htmlFile\">SnapLock Enterprise</a>. </p> </li> </ul>"
              }
            ]
          },
          "VolumeAppendModeEnabled": {
            "allOf": [
              {
                "$ref": "#/$defs/Flag"
              },
              {
                "description": "<p>Enables or disables volume-append mode on an FSx for ONTAP SnapLock volume. Volume-append mode allows you to create WORM-appendable files and write data to them incrementally. The default value is <code>false</code>. </p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/worm-state.html#worm-state-append\">Volume-append mode</a>. </p>"
              }
            ]
          }
        },
        "description": "Defines the SnapLock configuration when creating an FSx for ONTAP SnapLock volume. "
      },
      "AutocommitPeriod": {
        "type": "object",
        "required": [
          "Type"
        ],
        "properties": {
          "Type": {
            "allOf": [
              {
                "$ref": "#/$defs/AutocommitPeriodType"
              },
              {
                "description": "Defines the type of time for the autocommit period of a file in an FSx for ONTAP SnapLock volume. Setting this value to <code>NONE</code> disables autocommit. The default value is <code>NONE</code>. "
              }
            ]
          },
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/AutocommitPeriodValue"
              },
              {
                "description": "<p>Defines the amount of time for the autocommit period of a file in an FSx for ONTAP SnapLock volume. The following ranges are valid: </p> <ul> <li> <p> <code>Minutes</code>: 5 - 65,535</p> </li> <li> <p> <code>Hours</code>: 1 - 65,535</p> </li> <li> <p> <code>Days</code>: 1 - 3,650</p> </li> <li> <p> <code>Months</code>: 1 - 120</p> </li> <li> <p> <code>Years</code>: 1 - 10</p> </li> </ul>"
              }
            ]
          }
        },
        "description": "<p>Sets the autocommit period of files in an FSx for ONTAP SnapLock volume, which determines how long the files must remain unmodified before they're automatically transitioned to the write once, read many (WORM) state. </p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/worm-state.html#worm-state-autocommit\">Autocommit</a>. </p>"
      },
      "AutocommitPeriodType": {
        "type": "string",
        "enum": [
          "MINUTES",
          "HOURS",
          "DAYS",
          "MONTHS",
          "YEARS",
          "NONE"
        ]
      },
      "AutocommitPeriodValue": {
        "type": "integer",
        "minimum": 1,
        "maximum": 65535
      },
      "PrivilegedDelete": {
        "type": "string",
        "enum": [
          "DISABLED",
          "ENABLED",
          "PERMANENTLY_DISABLED"
        ]
      },
      "SnaplockRetentionPeriod": {
        "type": "object",
        "required": [
          "DefaultRetention",
          "MinimumRetention",
          "MaximumRetention"
        ],
        "properties": {
          "DefaultRetention": {
            "allOf": [
              {
                "$ref": "#/$defs/RetentionPeriod"
              },
              {
                "description": "The retention period assigned to a write once, read many (WORM) file by default if an explicit retention period is not set for an FSx for ONTAP SnapLock volume. The default retention period must be greater than or equal to the minimum retention period and less than or equal to the maximum retention period. "
              }
            ]
          },
          "MinimumRetention": {
            "allOf": [
              {
                "$ref": "#/$defs/RetentionPeriod"
              },
              {
                "description": "The shortest retention period that can be assigned to a WORM file on an FSx for ONTAP SnapLock volume. "
              }
            ]
          },
          "MaximumRetention": {
            "allOf": [
              {
                "$ref": "#/$defs/RetentionPeriod"
              },
              {
                "description": "The longest retention period that can be assigned to a WORM file on an FSx for ONTAP SnapLock volume. "
              }
            ]
          }
        },
        "description": "The configuration to set the retention period of an FSx for ONTAP SnapLock volume. The retention period includes default, maximum, and minimum settings. For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/snaplock-retention.html\">Working with the retention period in SnapLock</a>. "
      },
      "RetentionPeriod": {
        "type": "object",
        "required": [
          "Type"
        ],
        "properties": {
          "Type": {
            "allOf": [
              {
                "$ref": "#/$defs/RetentionPeriodType"
              },
              {
                "description": "Defines the type of time for the retention period of an FSx for ONTAP SnapLock volume. Set it to one of the valid types. If you set it to <code>INFINITE</code>, the files are retained forever. If you set it to <code>UNSPECIFIED</code>, the files are retained until you set an explicit retention period. "
              }
            ]
          },
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/RetentionPeriodValue"
              },
              {
                "description": "<p>Defines the amount of time for the retention period of an FSx for ONTAP SnapLock volume. You can't set a value for <code>INFINITE</code> or <code>UNSPECIFIED</code>. For all other options, the following ranges are valid: </p> <ul> <li> <p> <code>Seconds</code>: 0 - 65,535</p> </li> <li> <p> <code>Minutes</code>: 0 - 65,535</p> </li> <li> <p> <code>Hours</code>: 0 - 24</p> </li> <li> <p> <code>Days</code>: 0 - 365</p> </li> <li> <p> <code>Months</code>: 0 - 12</p> </li> <li> <p> <code>Years</code>: 0 - 100</p> </li> </ul>"
              }
            ]
          }
        },
        "description": "<p>Specifies the retention period of an FSx for ONTAP SnapLock volume. After it is set, it can't be changed. Files can't be deleted or modified during the retention period. </p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/ONTAPGuide/snaplock-retention.html\">Working with the retention period in SnapLock</a>. </p>"
      },
      "RetentionPeriodType": {
        "type": "string",
        "enum": [
          "SECONDS",
          "MINUTES",
          "HOURS",
          "DAYS",
          "MONTHS",
          "YEARS",
          "INFINITE",
          "UNSPECIFIED"
        ]
      },
      "RetentionPeriodValue": {
        "type": "integer",
        "minimum": 0,
        "maximum": 65535
      },
      "SnaplockType": {
        "type": "string",
        "enum": [
          "COMPLIANCE",
          "ENTERPRISE"
        ]
      },
      "Tags": {
        "type": "array",
        "description": "A list of <code>Tag</code> values, with a maximum of 50 elements.",
        "items": {
          "$ref": "#/$defs/Tag"
        },
        "minItems": 1,
        "maxItems": 50
      },
      "Tag": {
        "type": "object",
        "required": [
          "Key",
          "Value"
        ],
        "properties": {
          "Key": {
            "allOf": [
              {
                "$ref": "#/$defs/TagKey"
              },
              {
                "description": "A value that specifies the <code>TagKey</code>, the name of the tag. Tag keys must be unique for the resource to which they are attached."
              }
            ]
          },
          "Value": {
            "allOf": [
              {
                "$ref": "#/$defs/TagValue"
              },
              {
                "description": "A value that specifies the <code>TagValue</code>, the value assigned to the corresponding tag key. Tag values can be null and don't have to be unique in a tag set. For example, you can have a key-value pair in a tag set of <code>finances : April</code> and also of <code>payroll : April</code>."
              }
            ]
          }
        },
        "description": "Specifies a key-value pair for a resource tag."
      },
      "TagKey": {
        "type": "string",
        "pattern": "^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$",
        "description": "A string of 1 to 128 characters that specifies the key for a tag. Tag keys must be unique for the resource to which they are attached.",
        "minLength": 1,
        "maxLength": 128
      },
      "TagValue": {
        "type": "string",
        "pattern": "^([\\p{L}\\p{Z}\\p{N}_.:/=+\\-@]*)$",
        "description": "A string of 0 to 256 characters that specifies the value for a tag. Tag values can be null and don't have to be unique in a tag set.",
        "minLength": 0,
        "maxLength": 256
      },
      "CreateOpenZFSVolumeConfiguration": {
        "type": "object",
        "required": [
          "ParentVolumeId"
        ],
        "properties": {
          "ParentVolumeId": {
            "allOf": [
              {
                "$ref": "#/$defs/VolumeId"
              },
              {
                "description": "The ID of the volume to use as the parent volume of the volume that you are creating."
              }
            ]
          },
          "StorageCapacityReservationGiB": {
            "allOf": [
              {
                "$ref": "#/$defs/IntegerNoMaxFromNegativeOne"
              },
              {
                "description": "Specifies the amount of storage in gibibytes (GiB) to reserve from the parent volume. Setting <code>StorageCapacityReservationGiB</code> guarantees that the specified amount of storage space on the parent volume will always be available for the volume. You can't reserve more storage than the parent volume has. To <i>not</i> specify a storage capacity reservation, set this to <code>0</code> or <code>-1</code>. For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/OpenZFSGuide/managing-volumes.html#volume-properties\">Volume properties</a> in the <i>Amazon FSx for OpenZFS User Guide</i>."
              }
            ]
          },
          "StorageCapacityQuotaGiB": {
            "allOf": [
              {
                "$ref": "#/$defs/IntegerNoMaxFromNegativeOne"
              },
              {
                "description": "<p>Sets the maximum storage size in gibibytes (GiB) for the volume. You can specify a quota that is larger than the storage on the parent volume. A volume quota limits the amount of storage that the volume can consume to the configured amount, but does not guarantee the space will be available on the parent volume. To guarantee quota space, you must also set <code>StorageCapacityReservationGiB</code>. To <i>not</i> specify a storage capacity quota, set this to <code>-1</code>. </p> <p>For more information, see <a href=\"https://docs.aws.amazon.com/fsx/latest/OpenZFSGuide/managing-volumes.html#volume-properties\">Volume properties</a> in the <i>Amazon FSx for OpenZFS User Guide</i>.</p>"
              }
            ]
          },
          "RecordSizeKiB": {
            "allOf": [
              {
                "$ref": "#/$defs/IntegerRecordSizeKiB"
              },
              {
                "description": "Specifies the suggested block size for a volume in a ZFS dataset, in kibibytes (KiB). Valid values are 4, 8, 16, 32, 64, 128, 256, 512, or 1024 KiB. The default is 128 KiB. We recommend using the default setting for the majority of use cases. Generally, workloads that write in fixed small or large record sizes may benefit from setting a custom record size, like database workloads (small record size) or media streaming workloads (large record size). For additional guidance on when to set a custom record size, see <a href=\"https://docs.aws.amazon.com/fsx/latest/OpenZFSGuide/performance.html#record-size-performance\"> ZFS Record size</a> in the <i>Amazon FSx for OpenZFS User Guide</i>."
              }
            ]
          },
          "DataCompressionType": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSDataCompressionType"
              },
              {
                "description": "<p>Specifies the method used to compress the data on the volume. The compression type is <code>NONE</code> by default.</p> <ul> <li> <p> <code>NONE</code> - Doesn't compress the data on the volume. <code>NONE</code> is the default.</p> </li> <li> <p> <code>ZSTD</code> - Compresses the data in the volume using the Zstandard (ZSTD) compression algorithm. ZSTD compression provides a higher level of data compression and higher read throughput performance than LZ4 compression.</p> </li> <li> <p> <code>LZ4</code> - Compresses the data in the volume using the LZ4 compression algorithm. LZ4 compression provides a lower level of compression and higher write throughput performance than ZSTD compression.</p> </li> </ul> <p>For more information about volume compression types and the performance of your Amazon FSx for OpenZFS file system, see <a href=\"https://docs.aws.amazon.com/fsx/latest/OpenZFSGuide/performance.html#performance-tips-zfs\"> Tips for maximizing performance</a> File system and volume settings in the <i>Amazon FSx for OpenZFS User Guide</i>.</p>"
              }
            ]
          },
          "CopyTagsToSnapshots": {
            "allOf": [
              {
                "$ref": "#/$defs/Flag"
              },
              {
                "description": "A Boolean value indicating whether tags for the volume should be copied to snapshots. This value defaults to <code>false</code>. If it's set to <code>true</code>, all tags for the volume are copied to snapshots where the user doesn't specify tags. If this value is <code>true</code>, and you specify one or more tags, only the specified tags are copied to snapshots. If you specify one or more tags when creating the snapshot, no tags are copied from the volume, regardless of this value."
              }
            ]
          },
          "OriginSnapshot": {
            "allOf": [
              {
                "$ref": "#/$defs/CreateOpenZFSOriginSnapshotConfiguration"
              },
              {
                "description": "The configuration object that specifies the snapshot to use as the origin of the data for the volume."
              }
            ]
          },
          "ReadOnly": {
            "allOf": [
              {
                "$ref": "#/$defs/ReadOnly"
              },
              {
                "description": "A Boolean value indicating whether the volume is read-only."
              }
            ]
          },
          "NfsExports": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSNfsExports"
              },
              {
                "description": "The configuration object for mounting a Network File System (NFS) file system."
              }
            ]
          },
          "UserAndGroupQuotas": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSUserAndGroupQuotas"
              },
              {
                "description": "An object specifying how much storage users or groups can use on the volume."
              }
            ]
          }
        },
        "description": "Specifies the configuration of the Amazon FSx for OpenZFS volume that you are creating."
      },
      "VolumeId": {
        "type": "string",
        "pattern": "^(fsvol-[0-9a-f]{17,})$",
        "minLength": 23,
        "maxLength": 23
      },
      "IntegerNoMaxFromNegativeOne": {
        "type": "integer",
        "minimum": -1,
        "maximum": 2147483647
      },
      "IntegerRecordSizeKiB": {
        "type": "integer",
        "minimum": 4,
        "maximum": 1024
      },
      "OpenZFSDataCompressionType": {
        "type": "string",
        "enum": [
          "NONE",
          "ZSTD",
          "LZ4"
        ]
      },
      "CreateOpenZFSOriginSnapshotConfiguration": {
        "type": "object",
        "required": [
          "SnapshotARN",
          "CopyStrategy"
        ],
        "properties": {
          "SnapshotARN": {
            "$ref": "#/$defs/ResourceARN"
          },
          "CopyStrategy": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSCopyStrategy"
              },
              {
                "description": "<p>The strategy used when copying data from the snapshot to the new volume. </p> <ul> <li> <p> <code>CLONE</code> - The new volume references the data in the origin snapshot. Cloning a snapshot is faster than copying data from the snapshot to a new volume and doesn't consume disk throughput. However, the origin snapshot can't be deleted if there is a volume using its copied data. </p> </li> <li> <p> <code>FULL_COPY</code> - Copies all data from the snapshot to the new volume. </p> </li> </ul>"
              }
            ]
          }
        },
        "description": "The snapshot configuration to use when creating an OpenZFS volume from a snapshot. "
      },
      "ResourceARN": {
        "type": "string",
        "pattern": "^arn:(?=[^:]+:fsx:[^:]+:\\d{12}:)((|(?=[a-z0-9-.]{1,63})(?!\\d{1,3}(\\.\\d{1,3}){3})(?![^:]*-{2})(?![^:]*-\\.)(?![^:]*\\.-)[a-z0-9].*(?<!-)):){4}(?!/).{0,1024}$",
        "description": "The Amazon Resource Name (ARN) for a given resource. ARNs uniquely identify Amazon Web Services resources. We require an ARN when you need to specify a resource unambiguously across all of Amazon Web Services. For more information, see <a href=\"https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html\">Amazon Resource Names (ARNs)</a> in the <i>Amazon Web Services General Reference</i>.",
        "minLength": 8,
        "maxLength": 512
      },
      "OpenZFSCopyStrategy": {
        "type": "string",
        "enum": [
          "CLONE",
          "FULL_COPY"
        ]
      },
      "ReadOnly": {
        "type": "boolean"
      },
      "OpenZFSNfsExports": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/OpenZFSNfsExport"
        },
        "maxItems": 1
      },
      "OpenZFSNfsExport": {
        "type": "object",
        "required": [
          "ClientConfigurations"
        ],
        "properties": {
          "ClientConfigurations": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSClientConfigurations"
              },
              {
                "description": "A list of configuration objects that contain the client and options for mounting the OpenZFS file system. "
              }
            ]
          }
        },
        "description": "The Network File System (NFS) configurations for mounting an Amazon FSx for OpenZFS file system. "
      },
      "OpenZFSClientConfigurations": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/OpenZFSClientConfiguration"
        },
        "maxItems": 25
      },
      "OpenZFSClientConfiguration": {
        "type": "object",
        "required": [
          "Clients",
          "Options"
        ],
        "properties": {
          "Clients": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSClients"
              },
              {
                "description": "A value that specifies who can mount the file system. You can provide a wildcard character (<code>*</code>), an IP address (<code>0.0.0.0</code>), or a CIDR address (<code>192.0.2.0/24</code>). By default, Amazon FSx uses the wildcard character when specifying the client. "
              }
            ]
          },
          "Options": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSNfsExportOptions"
              },
              {
                "description": "<p>The options to use when mounting the file system. For a list of options that you can use with Network File System (NFS), see the <a href=\"https://linux.die.net/man/5/exports\">exports(5) - Linux man page</a>. When choosing your options, consider the following:</p> <ul> <li> <p> <code>crossmnt</code> is used by default. If you don't specify <code>crossmnt</code> when changing the client configuration, you won't be able to see or access snapshots in your file system's snapshot directory.</p> </li> <li> <p> <code>sync</code> is used by default. If you instead specify <code>async</code>, the system acknowledges writes before writing to disk. If the system crashes before the writes are finished, you lose the unwritten data. </p> </li> </ul>"
              }
            ]
          }
        },
        "description": "Specifies who can mount an OpenZFS file system and the options available while mounting the file system."
      },
      "OpenZFSClients": {
        "type": "string",
        "pattern": "^[ -~]{1,128}$",
        "minLength": 1,
        "maxLength": 128
      },
      "OpenZFSNfsExportOptions": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/OpenZFSNfsExportOption"
        },
        "minItems": 1,
        "maxItems": 20
      },
      "OpenZFSNfsExportOption": {
        "type": "string",
        "pattern": "^[ -~]{1,128}$",
        "minLength": 1,
        "maxLength": 128
      },
      "OpenZFSUserAndGroupQuotas": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/OpenZFSUserOrGroupQuota"
        },
        "maxItems": 500
      },
      "OpenZFSUserOrGroupQuota": {
        "type": "object",
        "required": [
          "Type",
          "Id",
          "StorageCapacityQuotaGiB"
        ],
        "properties": {
          "Type": {
            "allOf": [
              {
                "$ref": "#/$defs/OpenZFSQuotaType"
              },
              {
                "description": "A value that specifies whether the quota applies to a user or group."
              }
            ]
          },
          "Id": {
            "allOf": [
              {
                "$ref": "#/$defs/IntegerNoMax"
              },
              {
                "description": "The ID of the user or group."
              }
            ]
          },
          "StorageCapacityQuotaGiB": {
            "allOf": [
              {
                "$ref": "#/$defs/IntegerNoMax"
              },
              {
                "description": "The amount of storage that the user or group can use in gibibytes (GiB)."
              }
            ]
          }
        },
        "description": "The configuration for how much storage a user or group can use on the volume. "
      },
      "OpenZFSQuotaType": {
        "type": "string",
        "enum": [
          "USER",
          "GROUP"
        ]
      },
      "IntegerNoMax": {
        "type": "integer",
        "minimum": 0,
        "maximum": 2147483647
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://fsx.us-east-1.amazonaws.com/#X-Amz-Target=AWSSimbaAPIService_v20180301.CreateVolume"
    },
    "headers": {
      "X-Amz-Target": {
        "$": "X-Amz-Target"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**Volume**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "487": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
