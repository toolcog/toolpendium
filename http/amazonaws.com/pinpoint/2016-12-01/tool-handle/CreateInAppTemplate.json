{
  "name": "CreateInAppTemplate",
  "description": "Creates a new message template for messages using the in-app message channel.",
  "parameters": {
    "type": "object",
    "properties": {
      "template-name": {
        "type": "string",
        "description": "The name of the message template. A template name must start with an alphanumeric character and can contain a maximum of 128 characters. The characters can be alphanumeric characters, underscores (_), or hyphens (-). Template names are case sensitive."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "InAppTemplateRequest"
        ],
        "properties": {
          "InAppTemplateRequest": {
            "description": "InApp Template Request.",
            "type": "object",
            "properties": {
              "Content": {
                "allOf": [
                  {
                    "$ref": "#/$defs/ListOfInAppMessageContent"
                  },
                  {
                    "description": "The content of the message, can include up to 5 modals. Each modal must contain a message, a header, and background color. ImageUrl and buttons are optional."
                  }
                ]
              },
              "CustomConfig": {
                "allOf": [
                  {
                    "$ref": "#/$defs/MapOf__string"
                  },
                  {
                    "description": "Custom config to be sent to client."
                  }
                ]
              },
              "Layout": {
                "allOf": [
                  {
                    "$ref": "#/$defs/Layout"
                  },
                  {
                    "description": "The layout of the message."
                  }
                ]
              },
              "tags": {
                "allOf": [
                  {
                    "$ref": "#/$defs/MapOf__string"
                  },
                  {
                    "description": "<note><p>As of <b>22-05-2023</b> tags has been deprecated for update operations. After this date any value in tags is not processed and an error code is not returned. To manage tags we recommend using either <a href=\"https://docs.aws.amazon.com/pinpoint/latest/apireference/tags-resource-arn.html\">Tags</a> in the <i>API Reference for Amazon Pinpoint</i>, <a href=\"https://docs.aws.amazon.com/cli/latest/reference/resourcegroupstaggingapi/index.html\">resourcegroupstaggingapi</a> commands in the <i>AWS Command Line Interface Documentation</i> or <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/resourcegroupstaggingapi/package-summary.html\">resourcegroupstaggingapi</a> in the <i>AWS SDK</i>.</p></note> <p>(Deprecated) A string-to-string map of key-value pairs that defines the tags to associate with the message template. Each tag consists of a required tag key and an associated tag value.</p>"
                  }
                ]
              },
              "TemplateDescription": {
                "allOf": [
                  {
                    "$ref": "#/$defs/__string"
                  },
                  {
                    "description": "The description of the template."
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "template-name",
      "body"
    ],
    "$defs": {
      "ListOfInAppMessageContent": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/InAppMessageContent"
        }
      },
      "InAppMessageContent": {
        "type": "object",
        "properties": {
          "BackgroundColor": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "The background color for the message."
              }
            ]
          },
          "BodyConfig": {
            "allOf": [
              {
                "$ref": "#/$defs/InAppMessageBodyConfig"
              },
              {
                "description": "The configuration for the message body."
              }
            ]
          },
          "HeaderConfig": {
            "allOf": [
              {
                "$ref": "#/$defs/InAppMessageHeaderConfig"
              },
              {
                "description": "The configuration for the message header."
              }
            ]
          },
          "ImageUrl": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "The image url for the background of message."
              }
            ]
          },
          "PrimaryBtn": {
            "allOf": [
              {
                "$ref": "#/$defs/InAppMessageButton"
              },
              {
                "description": "The first button inside the message."
              }
            ]
          },
          "SecondaryBtn": {
            "allOf": [
              {
                "$ref": "#/$defs/InAppMessageButton"
              },
              {
                "description": "The second button inside message."
              }
            ]
          }
        },
        "description": "The configuration for the message content."
      },
      "__string": {
        "type": "string"
      },
      "InAppMessageBodyConfig": {
        "type": "object",
        "required": [
          "Alignment",
          "TextColor",
          "Body"
        ],
        "properties": {
          "Alignment": {
            "allOf": [
              {
                "$ref": "#/$defs/Alignment"
              },
              {
                "description": "The alignment of the text. Valid values: LEFT, CENTER, RIGHT."
              }
            ]
          },
          "Body": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "Message Body."
              }
            ]
          },
          "TextColor": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "The text color."
              }
            ]
          }
        },
        "description": "Text config for Message Body."
      },
      "Alignment": {
        "type": "string",
        "enum": [
          "LEFT",
          "CENTER",
          "RIGHT"
        ]
      },
      "InAppMessageHeaderConfig": {
        "type": "object",
        "required": [
          "Alignment",
          "Header",
          "TextColor"
        ],
        "properties": {
          "Alignment": {
            "allOf": [
              {
                "$ref": "#/$defs/Alignment"
              },
              {
                "description": "The alignment of the text. Valid values: LEFT, CENTER, RIGHT."
              }
            ]
          },
          "Header": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "Message Header."
              }
            ]
          },
          "TextColor": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "The text color."
              }
            ]
          }
        },
        "description": "Text config for Message Header."
      },
      "InAppMessageButton": {
        "type": "object",
        "properties": {
          "Android": {
            "allOf": [
              {
                "$ref": "#/$defs/OverrideButtonConfiguration"
              },
              {
                "description": "Default button content."
              }
            ]
          },
          "DefaultConfig": {
            "allOf": [
              {
                "$ref": "#/$defs/DefaultButtonConfiguration"
              },
              {
                "description": "Default button content."
              }
            ]
          },
          "IOS": {
            "allOf": [
              {
                "$ref": "#/$defs/OverrideButtonConfiguration"
              },
              {
                "description": "Default button content."
              }
            ]
          },
          "Web": {
            "allOf": [
              {
                "$ref": "#/$defs/OverrideButtonConfiguration"
              },
              {
                "description": "Default button content."
              }
            ]
          }
        },
        "description": "Button Config for an in-app message."
      },
      "OverrideButtonConfiguration": {
        "type": "object",
        "required": [
          "ButtonAction"
        ],
        "properties": {
          "ButtonAction": {
            "allOf": [
              {
                "$ref": "#/$defs/ButtonAction"
              },
              {
                "description": "Action triggered by the button."
              }
            ]
          },
          "Link": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "Button destination."
              }
            ]
          }
        },
        "description": "Override button configuration."
      },
      "ButtonAction": {
        "type": "string",
        "enum": [
          "LINK",
          "DEEP_LINK",
          "CLOSE"
        ]
      },
      "DefaultButtonConfiguration": {
        "type": "object",
        "required": [
          "ButtonAction",
          "Text"
        ],
        "properties": {
          "BackgroundColor": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "The background color of the button."
              }
            ]
          },
          "BorderRadius": {
            "allOf": [
              {
                "$ref": "#/$defs/__integer"
              },
              {
                "description": "The border radius of the button."
              }
            ]
          },
          "ButtonAction": {
            "allOf": [
              {
                "$ref": "#/$defs/ButtonAction"
              },
              {
                "description": "Action triggered by the button."
              }
            ]
          },
          "Link": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "Button destination."
              }
            ]
          },
          "Text": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "Button text."
              }
            ]
          },
          "TextColor": {
            "allOf": [
              {
                "$ref": "#/$defs/__string"
              },
              {
                "description": "The text color of the button."
              }
            ]
          }
        },
        "description": "Default button configuration."
      },
      "__integer": {
        "type": "integer"
      },
      "MapOf__string": {
        "type": "object",
        "additionalProperties": {
          "$ref": "#/$defs/__string"
        }
      },
      "Layout": {
        "type": "string",
        "enum": [
          "BOTTOM_BANNER",
          "TOP_BANNER",
          "OVERLAYS",
          "MOBILE_FEED",
          "MIDDLE_BANNER",
          "CAROUSEL"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://pinpoint.us-east-1.amazonaws.com/v1/templates/{template-name}/inapp"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**TemplateCreateMessageBody**: Provides information about a request to create a message template.",
              {
                "$ul": [
                  "**Arn**",
                  "**Message**",
                  "**RequestID**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
