{
  "name": "PutEvents",
  "description": "The PutEvents operation records one or more events. You can have up to 1,500 unique custom events per app, any combination of up to 40 attributes and metrics per custom event, and any number of attribute or metric values.",
  "parameters": {
    "type": "object",
    "properties": {
      "x-amz-Client-Context": {
        "type": "string",
        "description": "The client context including the client ID, app title, app version and package name."
      },
      "x-amz-Client-Context-Encoding": {
        "type": "string",
        "description": "The encoding used for the client context."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "required": [
          "events"
        ],
        "properties": {
          "events": {
            "description": "An array of Event JSON objects",
            "type": "array",
            "items": {
              "$ref": "#/$defs/Event"
            }
          }
        }
      }
    },
    "required": [
      "x-amz-Client-Context",
      "body"
    ],
    "$defs": {
      "Event": {
        "type": "object",
        "required": [
          "eventType",
          "timestamp"
        ],
        "properties": {
          "eventType": {
            "allOf": [
              {
                "$ref": "#/$defs/String50Chars"
              },
              {
                "description": "A name signifying an event that occurred in your app. This is used for grouping and aggregating like events together for reporting purposes."
              }
            ]
          },
          "timestamp": {
            "allOf": [
              {
                "$ref": "#/$defs/ISO8601Timestamp"
              },
              {
                "description": "The time the event occurred in ISO 8601 standard date time format. For example, 2014-06-30T19:07:47.885Z"
              }
            ]
          },
          "session": {
            "allOf": [
              {
                "$ref": "#/$defs/Session"
              },
              {
                "description": "The session the event occured within. "
              }
            ]
          },
          "version": {
            "allOf": [
              {
                "$ref": "#/$defs/String10Chars"
              },
              {
                "description": "The version of the event."
              }
            ]
          },
          "attributes": {
            "allOf": [
              {
                "$ref": "#/$defs/MapOfStringToString"
              },
              {
                "description": "<p>A collection of key-value pairs that give additional context to the event. The key-value pairs are specified by the developer.</p> <p>This collection can be empty or the attribute object can be omitted.</p>"
              }
            ]
          },
          "metrics": {
            "allOf": [
              {
                "$ref": "#/$defs/MapOfStringToNumber"
              },
              {
                "description": "<p>A collection of key-value pairs that gives additional, measurable context to the event. The key-value pairs are specified by the developer.</p> <p>This collection can be empty or the attribute object can be omitted.</p>"
              }
            ]
          }
        },
        "description": "A JSON object representing a batch of unique event occurrences in your app."
      },
      "String50Chars": {
        "type": "string",
        "minLength": 1,
        "maxLength": 50
      },
      "ISO8601Timestamp": {
        "type": "string"
      },
      "Session": {
        "type": "object",
        "properties": {
          "id": {
            "allOf": [
              {
                "$ref": "#/$defs/String50Chars"
              },
              {
                "description": "A unique identifier for the session"
              }
            ]
          },
          "duration": {
            "allOf": [
              {
                "$ref": "#/$defs/Long"
              },
              {
                "description": "The duration of the session."
              }
            ]
          },
          "startTimestamp": {
            "allOf": [
              {
                "$ref": "#/$defs/ISO8601Timestamp"
              },
              {
                "description": "The time the event started in ISO 8601 standard date time format. For example, 2014-06-30T19:07:47.885Z"
              }
            ]
          },
          "stopTimestamp": {
            "allOf": [
              {
                "$ref": "#/$defs/ISO8601Timestamp"
              },
              {
                "description": "The time the event terminated in ISO 8601 standard date time format. For example, 2014-06-30T19:07:47.885Z"
              }
            ]
          }
        },
        "description": "Describes the session. Session information is required on ALL events."
      },
      "Long": {
        "type": "integer"
      },
      "String10Chars": {
        "type": "string",
        "minLength": 1,
        "maxLength": 10
      },
      "MapOfStringToString": {
        "type": "object",
        "minProperties": 0,
        "maxProperties": 50,
        "additionalProperties": {
          "$ref": "#/$defs/String0to1000Chars"
        }
      },
      "String0to1000Chars": {
        "type": "string",
        "minLength": 0,
        "maxLength": 1000
      },
      "MapOfStringToNumber": {
        "type": "object",
        "minProperties": 0,
        "maxProperties": 50,
        "additionalProperties": {
          "$ref": "#/$defs/Double"
        }
      },
      "Double": {
        "type": "number",
        "format": "double"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://mobileanalytics.us-east-1.amazonaws.com/2014-06-05/events#x-amz-Client-Context"
    },
    "headers": {
      "x-amz-Client-Context": {
        "$": "x-amz-Client-Context"
      },
      "x-amz-Client-Context-Encoding": {
        "$": "x-amz-Client-Context-Encoding"
      },
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "An exception object returned when a request fails.",
        "**Key properties:**",
        {
          "$ul": [
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
