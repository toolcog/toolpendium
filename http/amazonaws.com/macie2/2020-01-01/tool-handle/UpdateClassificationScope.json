{
  "name": "UpdateClassificationScope",
  "description": "Updates the classification scope settings for an account.",
  "parameters": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "description": "The unique identifier for the Amazon Macie resource that the request applies to."
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "properties": {
          "s3": {
            "description": "Specifies changes to the list of S3 buckets that are excluded from automated sensitive data discovery for an Amazon Macie account.",
            "type": "object",
            "properties": {
              "excludes": {
                "allOf": [
                  {
                    "$ref": "#/$defs/S3ClassificationScopeExclusionUpdate"
                  },
                  {
                    "description": "The names of the S3 buckets to add or remove from the list."
                  }
                ]
              }
            }
          }
        }
      }
    },
    "required": [
      "id",
      "body"
    ],
    "$defs": {
      "S3ClassificationScopeExclusionUpdate": {
        "type": "object",
        "required": [
          "bucketNames",
          "operation"
        ],
        "properties": {
          "bucketNames": {
            "allOf": [
              {
                "$ref": "#/$defs/__listOfS3BucketName"
              },
              {
                "description": "Depending on the value specified for the update operation (ClassificationScopeUpdateOperation), an array of strings that: lists the names of buckets to add or remove from the list, or specifies a new set of bucket names that overwrites all existing names in the list. Each string must be the full name of an S3 bucket. Values are case sensitive."
              }
            ]
          },
          "operation": {
            "allOf": [
              {
                "$ref": "#/$defs/ClassificationScopeUpdateOperation"
              },
              {
                "description": "<p>Specifies how to apply the changes to the exclusion list. Valid values are:</p> <ul><li><p>ADD - Append the specified bucket names to the current list.</p></li> <li><p>REMOVE - Remove the specified bucket names from the current list.</p></li> <li><p>REPLACE - Overwrite the current list with the specified list of bucket names. If you specify this value, Amazon Macie removes all existing names from the list and adds all the specified names to the list.</p></li></ul>"
              }
            ]
          }
        },
        "description": "Specifies S3 buckets to add or remove from the exclusion list defined by the classification scope for an Amazon Macie account."
      },
      "__listOfS3BucketName": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/S3BucketName"
        }
      },
      "S3BucketName": {
        "type": "string",
        "pattern": "^[A-Za-z0-9.\\-_]{3,255}$",
        "description": "The name of an S3 bucket."
      },
      "ClassificationScopeUpdateOperation": {
        "type": "string",
        "enum": [
          "ADD",
          "REPLACE",
          "REMOVE"
        ],
        "description": "Specifies how to apply changes to the S3 bucket exclusion list defined by the classification scope for an Amazon Macie account. Valid values are:"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "http://macie2.us-east-1.amazonaws.com/classification-scopes/{id}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
