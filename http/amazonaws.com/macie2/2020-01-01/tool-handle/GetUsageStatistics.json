{
  "name": "GetUsageStatistics",
  "description": "Retrieves (queries) quotas and aggregated usage data for one or more accounts.",
  "parameters": {
    "type": "object",
    "properties": {
      "maxResults": {
        "type": "string",
        "description": "Pagination limit"
      },
      "nextToken": {
        "type": "string",
        "description": "Pagination token"
      },
      "X-Amz-Content-Sha256": {
        "type": "string"
      },
      "X-Amz-Date": {
        "type": "string"
      },
      "X-Amz-Algorithm": {
        "type": "string"
      },
      "X-Amz-Credential": {
        "type": "string"
      },
      "X-Amz-Security-Token": {
        "type": "string"
      },
      "X-Amz-Signature": {
        "type": "string"
      },
      "X-Amz-SignedHeaders": {
        "type": "string"
      },
      "body": {
        "type": "object",
        "properties": {
          "filterBy": {
            "description": "An array of objects, one for each condition to use to filter the query results. If you specify more than one condition, Amazon Macie uses an AND operator to join the conditions.",
            "type": "array",
            "items": {
              "$ref": "#/$defs/UsageStatisticsFilter"
            }
          },
          "maxResults": {
            "description": "The maximum number of items to include in each page of the response.",
            "type": "integer"
          },
          "nextToken": {
            "description": "The nextToken string that specifies which page of results to return in a paginated response.",
            "type": "string"
          },
          "sortBy": {
            "description": "Specifies criteria for sorting the results of a query for Amazon Macie account quotas and usage data.",
            "type": "object",
            "properties": {
              "key": {
                "allOf": [
                  {
                    "$ref": "#/$defs/UsageStatisticsSortKey"
                  },
                  {
                    "description": "The field to sort the results by."
                  }
                ]
              },
              "orderBy": {
                "allOf": [
                  {
                    "$ref": "#/$defs/OrderBy"
                  },
                  {
                    "description": "The sort order to apply to the results, based on the value for the field specified by the key property. Valid values are: ASC, sort the results in ascending order; and, DESC, sort the results in descending order."
                  }
                ]
              }
            }
          },
          "timeRange": {
            "description": "An inclusive time period that Amazon Macie usage data applies to. Possible values are:",
            "type": "string",
            "enum": [
              "MONTH_TO_DATE",
              "PAST_30_DAYS"
            ]
          }
        }
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "UsageStatisticsFilter": {
        "type": "object",
        "properties": {
          "comparator": {
            "allOf": [
              {
                "$ref": "#/$defs/UsageStatisticsFilterComparator"
              },
              {
                "description": "The operator to use in the condition. If the value for the key property is accountId, this value must be CONTAINS. If the value for the key property is any other supported field, this value can be EQ, GT, GTE, LT, LTE, or NE."
              }
            ]
          },
          "key": {
            "allOf": [
              {
                "$ref": "#/$defs/UsageStatisticsFilterKey"
              },
              {
                "description": "The field to use in the condition."
              }
            ]
          },
          "values": {
            "allOf": [
              {
                "$ref": "#/$defs/__listOf__string"
              },
              {
                "description": "<p>An array that lists values to use in the condition, based on the value for the field specified by the key property. If the value for the key property is accountId, this array can specify multiple values. Otherwise, this array can specify only one value.</p> <p>Valid values for each supported field are:</p> <ul><li><p>accountId - The unique identifier for an Amazon Web Services account.</p></li> <li><p>freeTrialStartDate - The date and time, in UTC and extended ISO 8601 format, when the Amazon Macie free trial started for an account.</p></li> <li><p>serviceLimit - A Boolean (true or false) value that indicates whether an account has reached its monthly quota.</p></li> <li><p>total - A string that represents the current estimated cost for an account.</p></li></ul>"
              }
            ]
          }
        },
        "description": "Specifies a condition for filtering the results of a query for quota and usage data for one or more Amazon Macie accounts."
      },
      "UsageStatisticsFilterComparator": {
        "type": "string",
        "enum": [
          "GT",
          "GTE",
          "LT",
          "LTE",
          "EQ",
          "NE",
          "CONTAINS"
        ],
        "description": "The operator to use in a condition that filters the results of a query for Amazon Macie account quotas and usage data. Valid values are:"
      },
      "UsageStatisticsFilterKey": {
        "type": "string",
        "enum": [
          "accountId",
          "serviceLimit",
          "freeTrialStartDate",
          "total"
        ],
        "description": "The field to use in a condition that filters the results of a query for Amazon Macie account quotas and usage data. Valid values are:"
      },
      "__listOf__string": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/__string"
        }
      },
      "__string": {
        "type": "string"
      },
      "UsageStatisticsSortKey": {
        "type": "string",
        "enum": [
          "accountId",
          "total",
          "serviceLimitValue",
          "freeTrialStartDate"
        ],
        "description": "The field to use to sort the results of a query for Amazon Macie account quotas and usage data. Valid values are:"
      },
      "OrderBy": {
        "type": "string",
        "enum": [
          "ASC",
          "DESC"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://macie2.us-east-1.amazonaws.com/usage/statistics{?maxResults,nextToken}"
    },
    "headers": {
      "X-Amz-Content-Sha256": {
        "$": "X-Amz-Content-Sha256"
      },
      "X-Amz-Date": {
        "$": "X-Amz-Date"
      },
      "X-Amz-Algorithm": {
        "$": "X-Amz-Algorithm"
      },
      "X-Amz-Credential": {
        "$": "X-Amz-Credential"
      },
      "X-Amz-Security-Token": {
        "$": "X-Amz-Security-Token"
      },
      "X-Amz-Signature": {
        "$": "X-Amz-Signature"
      },
      "X-Amz-SignedHeaders": {
        "$": "X-Amz-SignedHeaders"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**nextToken**",
            "**records**",
            "**timeRange**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "480": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "481": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "482": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "483": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "484": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "485": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "486": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    }
  }
}
