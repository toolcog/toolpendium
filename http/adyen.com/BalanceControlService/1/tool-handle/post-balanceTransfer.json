{
  "name": "post-balanceTransfer",
  "description": "Starts a balance transfer request between merchant accounts. The following conditions must be met before you can successfully transfer balances:\n\n* The source and destination merchant accounts must be under the same company account and legal entity.\n\n* The source merchant account must have sufficient funds.\n\n* The source and destination merchant accounts must have at least one common processing currency.\n\nWhen sending multiple API requests with the same source and destination merchant accounts, send the requests sequentially and *not* in parallel. Some requests may not be processed if the requests are sent in parallel.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/BalanceTransferRequest"
      }
    },
    "$defs": {
      "BalanceTransferRequest": {
        "properties": {
          "amount": {
            "$ref": "#/$defs/Amount"
          },
          "description": {
            "description": "A human-readable description for the transfer. You can use alphanumeric characters and hyphens. We recommend sending a maximum of 140 characters, otherwise the description may be truncated.",
            "maxLength": 140,
            "type": "string"
          },
          "fromMerchant": {
            "description": "The unique identifier of the source merchant account from which funds are deducted.",
            "type": "string"
          },
          "reference": {
            "description": "A reference for the balance transfer. If you don't provide this in the request, Adyen generates a unique reference.\nMaximum length: 80 characters.",
            "maxLength": 80,
            "type": "string"
          },
          "toMerchant": {
            "description": "The unique identifier of the destination merchant account from which funds are transferred.",
            "type": "string"
          },
          "type": {
            "description": "The type of balance transfer. Possible values: **tax**, **fee**, **terminalSale**, **credit**, **debit**, and **adjustment**.",
            "enum": [
              "tax",
              "fee",
              "terminalSale",
              "credit",
              "debit",
              "adjustment"
            ],
            "type": "string"
          }
        },
        "required": [
          "amount",
          "fromMerchant",
          "toMerchant",
          "type"
        ],
        "type": "object"
      },
      "Amount": {
        "properties": {
          "currency": {
            "description": "The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
            "maxLength": 3,
            "minLength": 3,
            "type": "string"
          },
          "value": {
            "description": "The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes).",
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "value",
          "currency"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://pal-test.adyen.com/pal/servlet/BalanceControl/v1/balanceTransfer"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**amount**",
              {
                "$ul": [
                  "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                  "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                ]
              }
            ],
            "**createdAt**: The date when the balance transfer was requested.",
            "**description**: A human-readable description for the transfer. You can use alphanumeric characters and hyphens. We recommend sending a maximum of 140 characters, otherwise the description may be truncated.",
            "**fromMerchant**: The unique identifier of the source merchant account from which funds are deducted.",
            "**pspReference**: Adyen's 16-character string reference associated with the balance transfer.",
            "**reference**: A reference for the balance transfer. If you don't provide this in the request, Adyen generates a unique reference.",
            "**status**: The status of the balance transfer. Possible values: **transferred**, **failed**, **error**, and **notEnoughBalance**.",
            "**toMerchant**: The unique identifier of the destination merchant account from which funds are transferred.",
            "**type**: The type of balance transfer. Possible values: **tax**, **fee**, **terminalSale**, **credit**, **debit**, and **adjustment**."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
