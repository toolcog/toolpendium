{
  "name": "post-payout",
  "description": "With this call, you can pay out to your customers, and funds will be made available within 30 minutes on the cardholder's bank account (this is dependent on whether the issuer supports this functionality). Instant card payouts are only supported for Visa and Mastercard cards.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/PayoutRequest"
      }
    },
    "$defs": {
      "PayoutRequest": {
        "properties": {
          "amount": {
            "$ref": "#/$defs/Amount"
          },
          "billingAddress": {
            "$ref": "#/$defs/Address"
          },
          "card": {
            "$ref": "#/$defs/Card"
          },
          "fraudOffset": {
            "description": "An integer value that is added to the normal fraud score. The value can be either positive or negative.",
            "format": "int32",
            "type": "integer"
          },
          "fundSource": {
            "$ref": "#/$defs/FundSource"
          },
          "merchantAccount": {
            "description": "The merchant account identifier, with which you want to process the transaction.",
            "type": "string"
          },
          "recurring": {
            "$ref": "#/$defs/Recurring"
          },
          "reference": {
            "description": "The reference to uniquely identify a payment. This reference is used in all communication with you about the payment status. We recommend using a unique value per payment; however, it is not a requirement.\nIf you need to provide multiple references for a transaction, separate them with hyphens (\"-\").\nMaximum length: 80 characters.",
            "type": "string"
          },
          "selectedRecurringDetailReference": {
            "description": "The `recurringDetailReference` you want to use for this payment. The value `LATEST` can be used to select the most recently stored recurring detail.",
            "type": "string"
          },
          "shopperEmail": {
            "description": "The shopper's email address. We recommend that you provide this data, as it is used in velocity fraud checks.\n> For 3D Secure 2 transactions, schemes require `shopperEmail` for all browser-based and mobile implementations.",
            "type": "string"
          },
          "shopperInteraction": {
            "description": "Specifies the sales channel, through which the shopper gives their card details, and whether the shopper is a returning customer.\nFor the web service API, Adyen assumes Ecommerce shopper interaction by default.\n\nThis field has the following possible values:\n* `Ecommerce` - Online transactions where the cardholder is present (online). For better authorisation rates, we recommend sending the card security code (CSC) along with the request.\n* `ContAuth` - Card on file and/or subscription transactions, where the cardholder is known to the merchant (returning customer). If the shopper is present (online), you can supply also the CSC to improve authorisation (one-click payment).\n* `Moto` - Mail-order and telephone-order transactions where the shopper is in contact with the merchant via email or telephone.\n* `POS` - Point-of-sale transactions where the shopper is physically present to make a payment using a secure payment terminal.",
            "enum": [
              "Ecommerce",
              "ContAuth",
              "Moto",
              "POS"
            ],
            "type": "string"
          },
          "shopperName": {
            "$ref": "#/$defs/Name"
          },
          "shopperReference": {
            "description": "Required for recurring payments. \nYour reference to uniquely identify this shopper, for example user ID or account ID. Minimum length: 3 characters.\n> Your reference must not include personally identifiable information (PII), for example name or email address.",
            "type": "string"
          },
          "telephoneNumber": {
            "description": "The shopper's telephone number.",
            "type": "string",
            "x-addedInVersion": "7"
          }
        },
        "required": [
          "merchantAccount",
          "reference",
          "amount"
        ],
        "type": "object"
      },
      "Amount": {
        "properties": {
          "currency": {
            "description": "The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
            "maxLength": 3,
            "minLength": 3,
            "type": "string"
          },
          "value": {
            "description": "The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes).",
            "format": "int64",
            "type": "integer"
          }
        },
        "required": [
          "value",
          "currency"
        ],
        "type": "object"
      },
      "Address": {
        "properties": {
          "city": {
            "description": "The name of the city. Maximum length: 3000 characters.",
            "maxLength": 3000,
            "type": "string"
          },
          "country": {
            "description": "The two-character ISO-3166-1 alpha-2 country code. For example, **US**.\n> If you don't know the country or are not collecting the country from the shopper, provide `country` as `ZZ`.",
            "type": "string"
          },
          "houseNumberOrName": {
            "description": "The number or name of the house. Maximum length: 3000 characters.",
            "maxLength": 3000,
            "type": "string"
          },
          "postalCode": {
            "description": "A maximum of five digits for an address in the US, or a maximum of ten characters for an address in all other countries.",
            "type": "string"
          },
          "stateOrProvince": {
            "description": "The two-character ISO 3166-2 state or province code. For example, **CA** in the US or **ON** in Canada.\n> Required for the US and Canada.",
            "type": "string"
          },
          "street": {
            "description": "The name of the street. Maximum length: 3000 characters.\n> The house number should not be included in this field; it should be separately provided via `houseNumberOrName`.",
            "maxLength": 3000,
            "type": "string"
          }
        },
        "required": [
          "street",
          "houseNumberOrName",
          "city",
          "postalCode",
          "country"
        ],
        "type": "object"
      },
      "Card": {
        "properties": {
          "cvc": {
            "description": "The [card verification code](https://docs.adyen.com/payments-fundamentals/payment-glossary#card-security-code-cvc-cvv-cid) (1-20 characters). Depending on the card brand, it is known also as:\n* CVV2/CVC2 – length: 3 digits\n* CID – length: 4 digits\n> If you are using [Client-Side Encryption](https://docs.adyen.com/classic-integration/cse-integration-ecommerce), the CVC code is present in the encrypted data. You must never post the card details to the server.\n> This field must be always present in a [one-click payment request](https://docs.adyen.com/classic-integration/recurring-payments).\n> When this value is returned in a response, it is always empty because it is not stored.",
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "expiryMonth": {
            "description": "The card expiry month.\nFormat: 2 digits, zero-padded for single digits. For example:\n* 03 = March\n* 11 = November",
            "maxLength": 2,
            "minLength": 1,
            "type": "string"
          },
          "expiryYear": {
            "description": "The card expiry year.\nFormat: 4 digits. For example: 2020",
            "maxLength": 4,
            "minLength": 4,
            "type": "string"
          },
          "holderName": {
            "description": "The name of the cardholder, as printed on the card.",
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "issueNumber": {
            "description": "The issue number of the card (for some UK debit cards only).",
            "maxLength": 2,
            "minLength": 1,
            "type": "string"
          },
          "number": {
            "description": "The card number (4-19 characters). Do not use any separators.\nWhen this value is returned in a response, only the last 4 digits of the card number are returned.",
            "maxLength": 19,
            "minLength": 4,
            "type": "string"
          },
          "startMonth": {
            "description": "The month component of the start date (for some UK debit cards only).",
            "maxLength": 2,
            "minLength": 1,
            "type": "string"
          },
          "startYear": {
            "description": "The year component of the start date (for some UK debit cards only).",
            "maxLength": 4,
            "minLength": 4,
            "type": "string"
          }
        },
        "type": "object"
      },
      "FundSource": {
        "properties": {
          "additionalData": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "A map of name-value pairs for passing additional or industry-specific data.",
            "type": "object"
          },
          "billingAddress": {
            "$ref": "#/$defs/Address"
          },
          "card": {
            "$ref": "#/$defs/Card"
          },
          "shopperEmail": {
            "description": "Email address of the person.",
            "type": "string"
          },
          "shopperName": {
            "$ref": "#/$defs/Name"
          },
          "telephoneNumber": {
            "description": "Phone number of the person",
            "type": "string"
          }
        },
        "type": "object"
      },
      "Name": {
        "properties": {
          "firstName": {
            "description": "The first name.",
            "type": "string"
          },
          "lastName": {
            "description": "The last name.",
            "type": "string"
          }
        },
        "required": [
          "firstName",
          "lastName"
        ],
        "type": "object"
      },
      "Recurring": {
        "properties": {
          "contract": {
            "description": "The type of recurring contract to be used.\nPossible values:\n* `ONECLICK` – Payment details can be used to initiate a one-click payment, where the shopper enters the [card security code (CVC/CVV)](https://docs.adyen.com/payments-fundamentals/payment-glossary#card-security-code-cvc-cvv-cid).\n* `RECURRING` – Payment details can be used without the card security code to initiate [card-not-present transactions](https://docs.adyen.com/payments-fundamentals/payment-glossary#card-not-present-cnp).\n* `ONECLICK,RECURRING` – Payment details can be used regardless of whether the shopper is on your site or not.\n* `PAYOUT` – Payment details can be used to [make a payout](https://docs.adyen.com/online-payments/online-payouts).",
            "enum": [
              "ONECLICK",
              "RECURRING",
              "PAYOUT"
            ],
            "type": "string"
          },
          "recurringDetailName": {
            "description": "A descriptive name for this detail.",
            "type": "string"
          },
          "recurringExpiry": {
            "description": "Date after which no further authorisations shall be performed. Only for 3D Secure 2.",
            "format": "date-time",
            "type": "string",
            "x-addedInVersion": "40"
          },
          "recurringFrequency": {
            "description": "Minimum number of days between authorisations. Only for 3D Secure 2.",
            "type": "string",
            "x-addedInVersion": "40"
          },
          "tokenService": {
            "description": "The name of the token service.",
            "enum": [
              "VISATOKENSERVICE",
              "MCTOKENSERVICE",
              "AMEXTOKENSERVICE",
              "TOKEN_SHARING"
            ],
            "type": "string",
            "x-addedInVersion": "25"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://pal-test.adyen.com/pal/servlet/Payout/v67/payout"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalData**: Contains additional information about the payment. Some data fields are included only if you select them first: Go to **Customer Area** > **Developers** > **Additional data**.",
            "**authCode**: Authorisation code:",
            [
              "**dccAmount**",
              {
                "$ul": [
                  "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                  "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                ]
              }
            ],
            "**dccSignature**: Cryptographic signature used to verify `dccQuote`.",
            [
              "**fraudResult**",
              {
                "$ul": [
                  "**accountScore**: The total fraud score generated by the risk checks.",
                  "**results**: The result of the individual risk checks."
                ]
              }
            ],
            "**issuerUrl**: The URL to direct the shopper to.",
            "**md**: The payment session.",
            "**paRequest**: The 3D request data for the issuer.",
            "**pspReference**: Adyen's 16-character reference associated with the transaction/request. This value is globally unique; quote it when communicating with us about this request.",
            "**refusalReason**: If the payment's authorisation is refused or an error occurs during authorisation, this field holds Adyen's mapped reason for the refusal or a description of the error. When a transaction fails, the authorisation response includes `resultCode` and `refusalReason` values.",
            "**resultCode**: The result of the payment. For more information, see [Result codes](https://docs.adyen.com/online-payments/payment-result-codes)."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalData**: Contains additional information about the payment. Some data fields are included only if you select them first. Go to **Customer Area** > **Developers** > **Additional data**.",
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalData**: Contains additional information about the payment. Some data fields are included only if you select them first. Go to **Customer Area** > **Developers** > **Additional data**.",
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalData**: Contains additional information about the payment. Some data fields are included only if you select them first. Go to **Customer Area** > **Developers** > **Additional data**.",
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalData**: Contains additional information about the payment. Some data fields are included only if you select them first. Go to **Customer Area** > **Developers** > **Additional data**.",
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**additionalData**: Contains additional information about the payment. Some data fields are included only if you select them first. Go to **Customer Area** > **Developers** > **Additional data**.",
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
