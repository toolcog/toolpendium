{
  "name": "post-transferInstruments",
  "description": "Creates a transfer instrument. \n\nA transfer instrument is a bank account that a legal entity owns. Adyen performs verification checks on the transfer instrument as required by payment industry regulations. We inform you of the verification results through webhooks or API responses.\n\nWhen the transfer instrument passes the verification checks, you can start sending funds from the balance platform to the transfer instrument (such as payouts).",
  "parameters": {
    "type": "object",
    "properties": {
      "x-requested-verification-code": {
        "type": "string",
        "description": "Use a suberror code as your requested verification code. You can include one code at a time in your request header. Requested verification codes can only be used in your test environment."
      },
      "body": {
        "$ref": "#/$defs/TransferInstrumentInfo"
      }
    },
    "$defs": {
      "TransferInstrumentInfo": {
        "properties": {
          "bankAccount": {
            "$ref": "#/$defs/BankAccountInfo"
          },
          "legalEntityId": {
            "description": "The unique identifier of the [legal entity](https://docs.adyen.com/api-explorer/legalentity/latest/post/legalEntities#responses-200-id) that owns the transfer instrument.",
            "type": "string"
          },
          "type": {
            "description": "The type of transfer instrument.\n\nPossible value: **bankAccount**.",
            "enum": [
              "bankAccount",
              "recurringDetail"
            ],
            "type": "string"
          }
        },
        "required": [
          "legalEntityId",
          "type",
          "bankAccount"
        ],
        "type": "object"
      },
      "BankAccountInfo": {
        "properties": {
          "accountIdentification": {
            "description": "Identification of the bank account.",
            "oneOf": [
              {
                "$ref": "#/$defs/AULocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/CALocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/CZLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/DKLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/HKLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/HULocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/IbanAccountIdentification"
              },
              {
                "$ref": "#/$defs/NOLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/NZLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/NumberAndBicAccountIdentification"
              },
              {
                "$ref": "#/$defs/PLLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/SELocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/SGLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/UKLocalAccountIdentification"
              },
              {
                "$ref": "#/$defs/USLocalAccountIdentification"
              }
            ],
            "x-addedInVersion": "3"
          },
          "accountType": {
            "deprecated": true,
            "description": "The type of bank account.",
            "type": "string",
            "x-deprecatedInVersion": "2"
          },
          "bankName": {
            "description": "The name of the banking institution where the bank account is held.",
            "type": "string"
          },
          "countryCode": {
            "description": "The two-character [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code where the bank account is registered. For example, **NL**.",
            "type": "string"
          },
          "trustedSource": {
            "description": "Identifies if the bank account was created through [instant bank verification](https://docs.adyen.com/release-notes/platforms-and-financial-products#releaseNote=2023-05-08-hosted-onboarding).",
            "readOnly": true,
            "type": "boolean"
          }
        },
        "type": "object"
      },
      "AULocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The bank account number, without separators or whitespace.",
            "maxLength": 9,
            "minLength": 5,
            "type": "string"
          },
          "bsbCode": {
            "description": "The 6-digit [Bank State Branch (BSB) code](https://en.wikipedia.org/wiki/Bank_state_branch), without separators or whitespace.",
            "maxLength": 6,
            "minLength": 6,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "auLocal",
            "description": "**auLocal**",
            "enum": [
              "auLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "bsbCode"
        ],
        "type": "object"
      },
      "CALocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 5- to 12-digit bank account number, without separators or whitespace.",
            "maxLength": 12,
            "minLength": 5,
            "type": "string"
          },
          "accountType": {
            "default": "checking",
            "description": "The bank account type.\n\nPossible values: **checking** or **savings**. Defaults to **checking**.",
            "enum": [
              "checking",
              "savings"
            ],
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "institutionNumber": {
            "description": "The 3-digit institution number, without separators or whitespace.",
            "maxLength": 3,
            "minLength": 3,
            "type": "string"
          },
          "transitNumber": {
            "description": "The 5-digit transit number, without separators or whitespace.",
            "maxLength": 5,
            "minLength": 5,
            "type": "string"
          },
          "type": {
            "default": "caLocal",
            "description": "**caLocal**",
            "enum": [
              "caLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "institutionNumber",
          "transitNumber"
        ],
        "type": "object"
      },
      "CZLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 2- to 16-digit bank account number (Číslo účtu) in the following format:\n\n- The optional prefix (předčíslí).\n\n- The required second part (základní část) which must be at least two non-zero digits.\n\nExamples:\n\n- **19-123457** (with prefix)\n\n- **123457** (without prefix)\n\n- **000019-0000123457** (with prefix, normalized)\n\n- **000000-0000123457** (without prefix, normalized)",
            "maxLength": 17,
            "minLength": 2,
            "type": "string"
          },
          "bankCode": {
            "description": "The 4-digit bank code (Kód banky), without separators or whitespace.",
            "maxLength": 4,
            "minLength": 4,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "czLocal",
            "description": "**czLocal**",
            "enum": [
              "czLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "bankCode"
        ],
        "type": "object"
      },
      "DKLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 4-10 digits bank account number (Kontonummer) (without separators or whitespace).",
            "maxLength": 10,
            "minLength": 4,
            "type": "string"
          },
          "bankCode": {
            "description": "The 4-digit bank code (Registreringsnummer) (without separators or whitespace).",
            "maxLength": 4,
            "minLength": 4,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "dkLocal",
            "description": "**dkLocal**",
            "enum": [
              "dkLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "bankCode"
        ],
        "type": "object"
      },
      "HKLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 9- to 15-character bank account number (alphanumeric), without separators or whitespace. Starts with the 3-digit branch code.",
            "maxLength": 15,
            "minLength": 9,
            "type": "string"
          },
          "clearingCode": {
            "description": "The 3-digit clearing code, without separators or whitespace.",
            "maxLength": 3,
            "minLength": 3,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "hkLocal",
            "description": "**hkLocal**",
            "enum": [
              "hkLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "clearingCode"
        ],
        "type": "object"
      },
      "HULocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 24-digit bank account number, without separators or whitespace.",
            "maxLength": 24,
            "minLength": 24,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "huLocal",
            "description": "**huLocal**",
            "enum": [
              "huLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber"
        ],
        "type": "object"
      },
      "IbanAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "iban": {
            "description": "The international bank account number as defined in the [ISO-13616](https://www.iso.org/standard/81090.html) standard.",
            "type": "string"
          },
          "type": {
            "default": "iban",
            "description": "**iban**",
            "enum": [
              "iban"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "iban"
        ],
        "type": "object"
      },
      "NOLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 11-digit bank account number, without separators or whitespace.",
            "maxLength": 11,
            "minLength": 11,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "noLocal",
            "description": "**noLocal**",
            "enum": [
              "noLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber"
        ],
        "type": "object"
      },
      "NZLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 15-16 digit bank account number. The first 2 digits are the bank number, the next 4 digits are the branch number, the next 7 digits are the account number, and the final 2-3 digits are the suffix.",
            "maxLength": 16,
            "minLength": 15,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "nzLocal",
            "description": "**nzLocal**",
            "enum": [
              "nzLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber"
        ],
        "type": "object"
      },
      "NumberAndBicAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The bank account number, without separators or whitespace. The length and format depends on the bank or country.",
            "maxLength": 34,
            "type": "string"
          },
          "additionalBankIdentification": {
            "$ref": "#/$defs/AdditionalBankIdentification"
          },
          "bic": {
            "description": "The bank's 8- or 11-character BIC or SWIFT code.",
            "maxLength": 11,
            "minLength": 8,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "numberAndBic",
            "description": "**numberAndBic**",
            "enum": [
              "numberAndBic"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "bic"
        ],
        "type": "object"
      },
      "AdditionalBankIdentification": {
        "properties": {
          "code": {
            "description": "The value of the additional bank identification.",
            "type": "string"
          },
          "type": {
            "description": "The type of additional bank identification, depending on the country.\n\nPossible values:\n\n * **gbSortCode**: The 6-digit [UK sort code](https://en.wikipedia.org/wiki/Sort_code), without separators or spaces\n * **usRoutingNumber**: The 9-digit [routing number](https://en.wikipedia.org/wiki/ABA_routing_transit_number), without separators or spaces.",
            "enum": [
              "gbSortCode",
              "usRoutingNumber"
            ],
            "type": "string"
          }
        },
        "type": "object"
      },
      "PLLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 26-digit bank account number ([Numer rachunku](https://pl.wikipedia.org/wiki/Numer_Rachunku_Bankowego)), without separators or whitespace.",
            "maxLength": 26,
            "minLength": 26,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "plLocal",
            "description": "**plLocal**",
            "enum": [
              "plLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber"
        ],
        "type": "object"
      },
      "SELocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 7- to 10-digit bank account number ([Bankkontonummer](https://sv.wikipedia.org/wiki/Bankkonto)), without the clearing number, separators, or whitespace.",
            "maxLength": 10,
            "minLength": 7,
            "type": "string"
          },
          "clearingNumber": {
            "description": "The 4- to 5-digit clearing number ([Clearingnummer](https://sv.wikipedia.org/wiki/Clearingnummer)), without separators or whitespace.",
            "maxLength": 5,
            "minLength": 4,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "seLocal",
            "description": "**seLocal**",
            "enum": [
              "seLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "clearingNumber"
        ],
        "type": "object"
      },
      "SGLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 4- to 19-digit bank account number, without separators or whitespace.",
            "maxLength": 19,
            "minLength": 4,
            "type": "string"
          },
          "bic": {
            "description": "The bank's 8- or 11-character BIC or SWIFT code.",
            "maxLength": 11,
            "minLength": 8,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "default": "sgLocal",
            "description": "**sgLocal**",
            "enum": [
              "sgLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "accountNumber",
          "bic"
        ],
        "type": "object"
      },
      "UKLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The 8-digit bank account number, without separators or whitespace.",
            "maxLength": 8,
            "minLength": 8,
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "sortCode": {
            "description": "The 6-digit [sort code](https://en.wikipedia.org/wiki/Sort_code), without separators or whitespace.",
            "maxLength": 6,
            "minLength": 6,
            "type": "string"
          },
          "type": {
            "default": "ukLocal",
            "description": "**ukLocal**",
            "enum": [
              "ukLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "sortCode"
        ],
        "type": "object"
      },
      "USLocalAccountIdentification": {
        "additionalProperties": false,
        "properties": {
          "accountNumber": {
            "description": "The bank account number, without separators or whitespace.",
            "maxLength": 18,
            "minLength": 2,
            "type": "string"
          },
          "accountType": {
            "default": "checking",
            "description": "The bank account type.\n\nPossible values: **checking** or **savings**. Defaults to **checking**.",
            "enum": [
              "checking",
              "savings"
            ],
            "type": "string"
          },
          "formFactor": {
            "default": "physical",
            "description": "The form factor of the account.\n\nPossible values: **physical**, **virtual**. Default value: **physical**.",
            "type": [
              "string",
              "null"
            ]
          },
          "routingNumber": {
            "description": "The 9-digit [routing number](https://en.wikipedia.org/wiki/ABA_routing_transit_number), without separators or whitespace.",
            "maxLength": 9,
            "minLength": 9,
            "type": "string"
          },
          "type": {
            "default": "usLocal",
            "description": "**usLocal**",
            "enum": [
              "usLocal"
            ],
            "type": "string"
          }
        },
        "required": [
          "type",
          "accountNumber",
          "routingNumber"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://kyc-test.adyen.com/lem/v3/transferInstruments"
    },
    "headers": {
      "x-requested-verification-code": {
        "$": "x-requested-verification-code"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**bankAccount**",
              {
                "$ul": [
                  "**accountIdentification**: Identification of the bank account.",
                  "**accountType**: The type of bank account.",
                  "**bankName**: The name of the banking institution where the bank account is held.",
                  "**countryCode**: The two-character [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) country code where the bank account is registered. For example, **NL**.",
                  "**trustedSource**: Identifies if the bank account was created through [instant bank verification](https://docs.adyen.com/release-notes/platforms-and-financial-products#releaseNote=2023-05-08-hosted-onboarding)."
                ]
              }
            ],
            "**capabilities**: List of capabilities for this transfer instrument.",
            "**documentDetails**: List of documents uploaded for the transfer instrument.",
            "**id**: The unique identifier of the transfer instrument.",
            "**legalEntityId**: The unique identifier of the [legal entity](https://docs.adyen.com/api-explorer/legalentity/latest/post/legalEntities#responses-200-id) that owns the transfer instrument.",
            "**problems**: The verification errors related to capabilities for this transfer instrument.",
            "**type**: The type of transfer instrument."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
