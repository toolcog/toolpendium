{
  "name": "post-updateNotificationConfiguration",
  "description": "Updates an existing notification subscription configuration. If you are updating the event types, you must provide all event types, otherwise the previous event type configuration will be overwritten.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/UpdateNotificationConfigurationRequest"
      }
    },
    "$defs": {
      "UpdateNotificationConfigurationRequest": {
        "properties": {
          "configurationDetails": {
            "$ref": "#/$defs/NotificationConfigurationDetails"
          }
        },
        "required": [
          "configurationDetails"
        ],
        "type": "object"
      },
      "NotificationConfigurationDetails": {
        "properties": {
          "active": {
            "description": "Indicates whether the notification subscription is active.",
            "type": "boolean"
          },
          "apiVersion": {
            "description": "The version of the notification to which you are subscribing. To make sure that your integration can properly process the notification, subscribe to the same version as the API that you're using.",
            "format": "int32",
            "type": "integer"
          },
          "description": {
            "description": "A description of the notification subscription configuration.",
            "type": "string"
          },
          "eventConfigs": {
            "description": "Contains objects that define event types and their subscription settings.",
            "items": {
              "$ref": "#/$defs/NotificationEventConfigurationWrapper"
            },
            "type": "array"
          },
          "messageFormat": {
            "deprecated": true,
            "description": "The data format of the notification to be sent.\n>Permitted values: `JSON`, `SOAP`.",
            "enum": [
              "JSON",
              "SOAP"
            ],
            "type": "string"
          },
          "notificationId": {
            "description": "Adyen-generated ID for the entry, returned in the response when you create a notification configuration. Required when updating an existing configuration using [`/updateNotificationConfiguration`](https://docs.adyen.com/api-explorer/#/NotificationConfigurationService/latest/post/updateNotificationConfiguration).",
            "format": "int64",
            "type": "integer"
          },
          "notifyPassword": {
            "description": "The password to use when accessing the notifyURL with the specified username.",
            "type": "string"
          },
          "notifyURL": {
            "description": "The URL to which the notifications are to be sent.",
            "type": "string"
          },
          "notifyUsername": {
            "description": "The username to use when accessing the notifyURL.",
            "type": "string"
          },
          "sendActionHeader": {
            "deprecated": true,
            "description": "Indicates whether an action header should be included.\n>Only applies to SOAP messages (as specified in messageFormat).",
            "type": "boolean"
          },
          "sslProtocol": {
            "description": "The SSL protocol employed by the endpoint.\n>Permitted values: `TLSv12`, `TLSv13`.",
            "enum": [
              "TLSv12",
              "TLSv13"
            ],
            "type": "string"
          }
        },
        "type": "object"
      },
      "NotificationEventConfigurationWrapper": {
        "properties": {
          "NotificationEventConfiguration": {
            "$ref": "#/$defs/NotificationEventConfiguration"
          }
        }
      },
      "NotificationEventConfiguration": {
        "properties": {
          "eventType": {
            "description": "The type of event.\n\nPossible values: **ACCOUNT_CLOSED**, **ACCOUNT_CREATED**, **ACCOUNT_FUNDS_BELOW_THRESHOLD**, **ACCOUNT_HOLDER_CREATED**, **ACCOUNT_HOLDER_LIMIT_REACHED**, **ACCOUNT_HOLDER_PAYOUT**, **ACCOUNT_HOLDER_STATUS_CHANGE**, **ACCOUNT_HOLDER_STORE_STATUS_CHANGE**, **ACCOUNT_HOLDER_UPCOMING_DEADLINE**, **ACCOUNT_HOLDER_UPDATED**, **ACCOUNT_HOLDER_VERIFICATION**, **ACCOUNT_UPDATED**, **BENEFICIARY_SETUP**, **COMPENSATE_NEGATIVE_BALANCE**, **DIRECT_DEBIT_INITIATED**, **PAYMENT_FAILURE**, **REFUND_FUNDS_TRANSFER**, **REPORT_AVAILABLE**, **SCHEDULED_REFUNDS**, **TRANSFER_FUNDS**.",
            "enum": [
              "ACCOUNT_CLOSED",
              "ACCOUNT_CREATED",
              "ACCOUNT_FUNDS_BELOW_THRESHOLD",
              "ACCOUNT_HOLDER_CREATED",
              "ACCOUNT_HOLDER_LIMIT_REACHED",
              "ACCOUNT_HOLDER_MIGRATED",
              "ACCOUNT_HOLDER_PAYOUT",
              "ACCOUNT_HOLDER_STATUS_CHANGE",
              "ACCOUNT_HOLDER_STORE_STATUS_CHANGE",
              "ACCOUNT_HOLDER_UPCOMING_DEADLINE",
              "ACCOUNT_HOLDER_UPDATED",
              "ACCOUNT_HOLDER_VERIFICATION",
              "ACCOUNT_UPDATED",
              "BENEFICIARY_SETUP",
              "COMPENSATE_NEGATIVE_BALANCE",
              "DIRECT_DEBIT_INITIATED",
              "FUNDS_MIGRATED",
              "PAYMENT_FAILURE",
              "PENDING_CREDIT",
              "REFUND_FUNDS_TRANSFER",
              "REPORT_AVAILABLE",
              "SCHEDULED_REFUNDS",
              "SCORE_SIGNAL_TRIGGERED",
              "TRANSFER_FUNDS",
              "TRANSFER_NOT_PAIDOUT_TRANSFERS"
            ],
            "type": "string"
          },
          "includeMode": {
            "description": "Indicates whether the specified `eventType` is sent to your webhook endpoint.\nPossible values:\n* **INCLUDE**: Send the specified `eventType`.\n* **EXCLUDE**: Send all event types except the specified `eventType` and other event types with the `includeMode` set to **EXCLUDE**.",
            "enum": [
              "EXCLUDE",
              "INCLUDE"
            ],
            "type": "string"
          }
        },
        "required": [
          "eventType",
          "includeMode"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://cal-test.adyen.com/cal/services/Notification/v3/updateNotificationConfiguration"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**configurationDetails**",
              {
                "$ul": [
                  "**active**: Indicates whether the notification subscription is active.",
                  "**apiVersion**: The version of the notification to which you are subscribing. To make sure that your integration can properly process the notification, subscribe to the same version as the API that you're using.",
                  "**description**: A description of the notification subscription configuration.",
                  "**eventConfigs**: Contains objects that define event types and their subscription settings.",
                  "**messageFormat**: The data format of the notification to be sent.",
                  "**notificationId**: Adyen-generated ID for the entry, returned in the response when you create a notification configuration. Required when updating an existing configuration using [`/updateNotificationConfiguration`](https://docs.adyen.com/api-explorer/#/NotificationConfigurationService/latest/post/updateNotificationConfiguration).",
                  "**notifyPassword**: The password to use when accessing the notifyURL with the specified username.",
                  "**notifyURL**: The URL to which the notifications are to be sent.",
                  "**notifyUsername**: The username to use when accessing the notifyURL.",
                  "**sendActionHeader**: Indicates whether an action header should be included.",
                  "**sslProtocol**: The SSL protocol employed by the endpoint."
                ]
              }
            ],
            "**pspReference**: The reference of a request. Can be used to uniquely identify the request.",
            "**resultCode**: The result code.",
            "**submittedAsync**: Indicates whether the request is processed asynchronously. Depending on the request's platform settings, the following scenarios may be applied:"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
