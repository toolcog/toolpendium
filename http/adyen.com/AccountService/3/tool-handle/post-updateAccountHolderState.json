{
  "name": "post-updateAccountHolderState",
  "description": "Disables or enables the processing or payout state of an account holder.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/UpdateAccountHolderStateRequest"
      }
    },
    "$defs": {
      "UpdateAccountHolderStateRequest": {
        "properties": {
          "accountHolderCode": {
            "description": "The code of the Account Holder on which to update the state.",
            "type": "string"
          },
          "disable": {
            "description": "If true, disable the requested state.  If false, enable the requested state.",
            "type": "boolean"
          },
          "reason": {
            "description": "The reason that the state is being updated.\n>Required if the state is being disabled.",
            "type": "string"
          },
          "stateType": {
            "description": "The state to be updated.\n>Permitted values are: `Processing`, `Payout`",
            "enum": [
              "LimitedPayout",
              "LimitedProcessing",
              "LimitlessPayout",
              "LimitlessProcessing",
              "Payout",
              "Processing"
            ],
            "type": "string"
          }
        },
        "required": [
          "accountHolderCode",
          "stateType",
          "disable"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://cal-test.adyen.com/cal/services/Account/v3/updateAccountHolderState"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**accountHolderCode**: The code of the Account Holder.",
            [
              "**accountHolderStatus**",
              {
                "$ul": [
                  "**events**: A list of events scheduled for the account holder.",
                  [
                    "**payoutState**",
                    {
                      "$ul": [
                        "**allowPayout**: Indicates whether payouts are allowed. This field is the overarching payout status, and is the aggregate of multiple conditions (e.g., KYC status, disabled flag, etc). If this field is false, no payouts will be permitted for any of the account holder's accounts. If this field is true, payouts will be permitted for any of the account holder's accounts.",
                        "**disableReason**: The reason why payouts (to all of the account holder's accounts) have been disabled (by the platform). If the `disabled` field is true, this field can be used to explain why.",
                        "**disabled**: Indicates whether payouts have been disabled (by the platform) for all of the account holder's accounts. A platform may enable and disable this field at their discretion. If this field is true, `allowPayout` will be false and no payouts will be permitted for any of the account holder's accounts. If this field is false, `allowPayout` may or may not be enabled, depending on other factors.",
                        [
                          "**payoutLimit**",
                          {
                            "$ul": [
                              "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                              "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                            ]
                          }
                        ],
                        "**tierNumber**: The payout tier that the account holder occupies."
                      ]
                    }
                  ],
                  [
                    "**processingState**",
                    {
                      "$ul": [
                        "**disableReason**: The reason why processing has been disabled.",
                        "**disabled**: Indicates whether the processing of payments is allowed.",
                        [
                          "**processedFrom**",
                          {
                            "$ul": [
                              "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                              "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                            ]
                          }
                        ],
                        [
                          "**processedTo**",
                          {
                            "$ul": [
                              "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                              "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                            ]
                          }
                        ],
                        "**tierNumber**: The processing tier that the account holder occupies."
                      ]
                    }
                  ],
                  "**status**: The status of the account holder.",
                  "**statusReason**: The reason why the status was assigned to the account holder."
                ]
              }
            ],
            "**pspReference**: The reference of a request. Can be used to uniquely identify the request.",
            "**resultCode**: The result code.",
            "**submittedAsync**: Indicates whether the request is processed asynchronously. Depending on the request's platform settings, the following scenarios may be applied:"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "202": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**accountHolderCode**: The code of the Account Holder.",
            [
              "**accountHolderStatus**",
              {
                "$ul": [
                  "**events**: A list of events scheduled for the account holder.",
                  [
                    "**payoutState**",
                    {
                      "$ul": [
                        "**allowPayout**: Indicates whether payouts are allowed. This field is the overarching payout status, and is the aggregate of multiple conditions (e.g., KYC status, disabled flag, etc). If this field is false, no payouts will be permitted for any of the account holder's accounts. If this field is true, payouts will be permitted for any of the account holder's accounts.",
                        "**disableReason**: The reason why payouts (to all of the account holder's accounts) have been disabled (by the platform). If the `disabled` field is true, this field can be used to explain why.",
                        "**disabled**: Indicates whether payouts have been disabled (by the platform) for all of the account holder's accounts. A platform may enable and disable this field at their discretion. If this field is true, `allowPayout` will be false and no payouts will be permitted for any of the account holder's accounts. If this field is false, `allowPayout` may or may not be enabled, depending on other factors.",
                        [
                          "**payoutLimit**",
                          {
                            "$ul": [
                              "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                              "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                            ]
                          }
                        ],
                        "**tierNumber**: The payout tier that the account holder occupies."
                      ]
                    }
                  ],
                  [
                    "**processingState**",
                    {
                      "$ul": [
                        "**disableReason**: The reason why processing has been disabled.",
                        "**disabled**: Indicates whether the processing of payments is allowed.",
                        [
                          "**processedFrom**",
                          {
                            "$ul": [
                              "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                              "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                            ]
                          }
                        ],
                        [
                          "**processedTo**",
                          {
                            "$ul": [
                              "**currency**: The three-character [ISO currency code](https://docs.adyen.com/development-resources/currency-codes).",
                              "**value**: The amount of the transaction, in [minor units](https://docs.adyen.com/development-resources/currency-codes)."
                            ]
                          }
                        ],
                        "**tierNumber**: The processing tier that the account holder occupies."
                      ]
                    }
                  ],
                  "**status**: The status of the account holder.",
                  "**statusReason**: The reason why the status was assigned to the account holder."
                ]
              }
            ],
            "**pspReference**: The reference of a request. Can be used to uniquely identify the request.",
            "**resultCode**: The result code.",
            "**submittedAsync**: Indicates whether the request is processed asynchronously. Depending on the request's platform settings, the following scenarios may be applied:"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The error code mapped to the error message.",
            "**errorType**: The category of the error.",
            "**message**: A short explanation of the issue.",
            "**pspReference**: The PSP reference of the payment.",
            "**status**: The HTTP response status."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
