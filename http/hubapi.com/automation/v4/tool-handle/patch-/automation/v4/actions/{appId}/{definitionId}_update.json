{
  "name": "patch-_automation_v4_actions__appId___definitionId__update",
  "description": "Patch an existing extension definition",
  "parameters": {
    "type": "object",
    "properties": {
      "definitionId": {
        "type": "string"
      },
      "appId": {
        "format": "int32",
        "type": "integer"
      },
      "body": {
        "$ref": "#/$defs/PublicActionDefinitionPatch"
      }
    },
    "required": [
      "definitionId",
      "appId",
      "body"
    ],
    "$defs": {
      "PublicActionDefinitionPatch": {
        "properties": {
          "actionUrl": {
            "type": "string"
          },
          "executionRules": {
            "items": {
              "$ref": "#/$defs/PublicExecutionTranslationRule"
            },
            "type": "array"
          },
          "inputFieldDependencies": {
            "items": {
              "oneOf": [
                {
                  "$ref": "#/$defs/PublicSingleFieldDependency"
                },
                {
                  "$ref": "#/$defs/PublicConditionalSingleFieldDependency"
                }
              ]
            },
            "type": "array"
          },
          "inputFields": {
            "items": {
              "$ref": "#/$defs/InputFieldDefinition"
            },
            "type": "array"
          },
          "labels": {
            "additionalProperties": {
              "$ref": "#/$defs/PublicActionLabels"
            },
            "type": "object"
          },
          "objectRequestOptions": {
            "$ref": "#/$defs/PublicObjectRequestOptions"
          },
          "objectTypes": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "outputFields": {
            "items": {
              "$ref": "#/$defs/OutputFieldDefinition"
            },
            "type": "array"
          },
          "published": {
            "type": "boolean"
          }
        },
        "type": "object"
      },
      "PublicExecutionTranslationRule": {
        "properties": {
          "conditions": {
            "additionalProperties": {
              "properties": {},
              "type": "object"
            },
            "type": "object"
          },
          "labelName": {
            "type": "string"
          }
        },
        "required": [
          "conditions",
          "labelName"
        ],
        "type": "object"
      },
      "PublicSingleFieldDependency": {
        "properties": {
          "controllingFieldName": {
            "type": "string"
          },
          "dependencyType": {
            "default": "SINGLE_FIELD",
            "enum": [
              "SINGLE_FIELD"
            ],
            "type": "string"
          },
          "dependentFieldNames": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "controllingFieldName",
          "dependencyType",
          "dependentFieldNames"
        ],
        "title": "SINGLE_FIELD",
        "type": "object"
      },
      "PublicConditionalSingleFieldDependency": {
        "properties": {
          "controllingFieldName": {
            "type": "string"
          },
          "controllingFieldValue": {
            "type": "string"
          },
          "dependencyType": {
            "default": "CONDITIONAL_SINGLE_FIELD",
            "enum": [
              "CONDITIONAL_SINGLE_FIELD"
            ],
            "type": "string"
          },
          "dependentFieldNames": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "controllingFieldName",
          "controllingFieldValue",
          "dependencyType",
          "dependentFieldNames"
        ],
        "title": "CONDITIONAL_SINGLE_FIELD",
        "type": "object"
      },
      "InputFieldDefinition": {
        "properties": {
          "automationFieldType": {
            "type": "string"
          },
          "isRequired": {
            "type": "boolean"
          },
          "supportedValueTypes": {
            "items": {
              "enum": [
                "STATIC_VALUE",
                "OBJECT_PROPERTY",
                "FIELD_DATA",
                "FETCHED_OBJECT_PROPERTY",
                "ENROLLMENT_EVENT_PROPERTY"
              ],
              "type": "string"
            },
            "type": "array"
          },
          "typeDefinition": {
            "$ref": "#/$defs/FieldTypeDefinition"
          }
        },
        "required": [
          "isRequired",
          "typeDefinition"
        ],
        "type": "object"
      },
      "FieldTypeDefinition": {
        "properties": {
          "description": {
            "type": "string"
          },
          "externalOptions": {
            "type": "boolean"
          },
          "externalOptionsReferenceType": {
            "type": "string"
          },
          "fieldType": {
            "enum": [
              "booleancheckbox",
              "checkbox",
              "date",
              "file",
              "number",
              "phonenumber",
              "radio",
              "select",
              "text",
              "textarea",
              "calculation_equation",
              "calculation_rollup",
              "calculation_score",
              "calculation_read_time",
              "unknown",
              "html"
            ],
            "type": "string"
          },
          "helpText": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "options": {
            "items": {
              "$ref": "#/$defs/Option"
            },
            "type": "array"
          },
          "optionsUrl": {
            "type": "string"
          },
          "referencedObjectType": {
            "enum": [
              "CONTACT",
              "COMPANY",
              "DEAL",
              "ENGAGEMENT",
              "TICKET",
              "OWNER",
              "PRODUCT",
              "LINE_ITEM",
              "BET_DELIVERABLE_SERVICE",
              "CONTENT",
              "CONVERSATION",
              "BET_ALERT",
              "PORTAL",
              "QUOTE",
              "FORM_SUBMISSION_INBOUNDDB",
              "QUOTA",
              "UNSUBSCRIBE",
              "COMMUNICATION",
              "FEEDBACK_SUBMISSION",
              "ATTRIBUTION",
              "SALESFORCE_SYNC_ERROR",
              "RESTORABLE_CRM_OBJECT",
              "HUB",
              "LANDING_PAGE",
              "PRODUCT_OR_FOLDER",
              "TASK",
              "FORM",
              "MARKETING_EMAIL",
              "AD_ACCOUNT",
              "AD_CAMPAIGN",
              "AD_GROUP",
              "AD",
              "KEYWORD",
              "CAMPAIGN",
              "SOCIAL_CHANNEL",
              "SOCIAL_POST",
              "SITE_PAGE",
              "BLOG_POST",
              "IMPORT",
              "EXPORT",
              "CTA",
              "TASK_TEMPLATE",
              "AUTOMATION_PLATFORM_FLOW",
              "OBJECT_LIST",
              "NOTE",
              "MEETING_EVENT",
              "CALL",
              "EMAIL",
              "PUBLISHING_TASK",
              "CONVERSATION_SESSION",
              "CONTACT_CREATE_ATTRIBUTION",
              "INVOICE",
              "MARKETING_EVENT",
              "CONVERSATION_INBOX",
              "CHATFLOW",
              "MEDIA_BRIDGE",
              "SEQUENCE",
              "SEQUENCE_STEP",
              "FORECAST",
              "SNIPPET",
              "TEMPLATE",
              "DEAL_CREATE_ATTRIBUTION",
              "QUOTE_TEMPLATE",
              "QUOTE_MODULE",
              "QUOTE_MODULE_FIELD",
              "QUOTE_FIELD",
              "SEQUENCE_ENROLLMENT",
              "SUBSCRIPTION",
              "ACCEPTANCE_TEST",
              "SOCIAL_BROADCAST",
              "DEAL_SPLIT",
              "DEAL_REGISTRATION",
              "GOAL_TARGET",
              "GOAL_TARGET_GROUP",
              "PORTAL_OBJECT_SYNC_MESSAGE",
              "FILE_MANAGER_FILE",
              "FILE_MANAGER_FOLDER",
              "SEQUENCE_STEP_ENROLLMENT",
              "APPROVAL",
              "APPROVAL_STEP",
              "CTA_VARIANT",
              "SALES_DOCUMENT",
              "DISCOUNT",
              "FEE",
              "TAX",
              "MARKETING_CALENDAR",
              "PERMISSIONS_TESTING",
              "PRIVACY_SCANNER_COOKIE",
              "DATA_SYNC_STATE",
              "WEB_INTERACTIVE",
              "PLAYBOOK",
              "FOLDER",
              "PLAYBOOK_QUESTION",
              "PLAYBOOK_SUBMISSION",
              "PLAYBOOK_SUBMISSION_ANSWER",
              "COMMERCE_PAYMENT",
              "GSC_PROPERTY",
              "SOX_PROTECTED_DUMMY_TYPE",
              "BLOG_LISTING_PAGE",
              "QUARANTINED_SUBMISSION",
              "PAYMENT_SCHEDULE",
              "PAYMENT_SCHEDULE_INSTALLMENT",
              "MARKETING_CAMPAIGN_UTM",
              "DISCOUNT_TEMPLATE",
              "DISCOUNT_CODE",
              "FEEDBACK_SURVEY",
              "CMS_URL",
              "SALES_TASK",
              "SALES_WORKLOAD",
              "USER",
              "POSTAL_MAIL",
              "SCHEMAS_BACKEND_TEST",
              "PAYMENT_LINK",
              "SUBMISSION_TAG",
              "CAMPAIGN_STEP",
              "SCHEDULING_PAGE",
              "SOX_PROTECTED_TEST_TYPE",
              "ORDER",
              "MARKETING_SMS",
              "PARTNER_ACCOUNT",
              "CAMPAIGN_TEMPLATE",
              "CAMPAIGN_TEMPLATE_STEP",
              "PLAYLIST",
              "CLIP",
              "CAMPAIGN_BUDGET_ITEM",
              "CAMPAIGN_SPEND_ITEM",
              "MIC",
              "CONTENT_AUDIT",
              "CONTENT_AUDIT_PAGE",
              "PLAYLIST_FOLDER",
              "LEAD",
              "ABANDONED_CART",
              "EXTERNAL_WEB_URL",
              "VIEW",
              "VIEW_BLOCK",
              "ROSTER",
              "CART",
              "AUTOMATION_PLATFORM_FLOW_ACTION",
              "SOCIAL_PROFILE",
              "PARTNER_CLIENT",
              "ROSTER_MEMBER",
              "MARKETING_EVENT_ATTENDANCE",
              "ALL_PAGES",
              "AI_FORECAST",
              "CRM_PIPELINES_DUMMY_TYPE",
              "KNOWLEDGE_ARTICLE",
              "PROPERTY_INFO",
              "DATA_PRIVACY_CONSENT",
              "GOAL_TEMPLATE",
              "SCORE_CONFIGURATION",
              "AUDIENCE",
              "PARTNER_CLIENT_REVENUE",
              "AUTOMATION_JOURNEY",
              "UNKNOWN"
            ],
            "type": "string"
          },
          "type": {
            "enum": [
              "string",
              "number",
              "bool",
              "datetime",
              "enumeration",
              "date",
              "phone_number",
              "currency_number",
              "json",
              "object_coordinates"
            ],
            "type": "string"
          }
        },
        "required": [
          "externalOptions",
          "name",
          "options",
          "type"
        ],
        "type": "object"
      },
      "Option": {
        "properties": {
          "description": {
            "type": "string"
          },
          "displayOrder": {
            "format": "int32",
            "type": "integer"
          },
          "doubleData": {
            "type": "number"
          },
          "hidden": {
            "type": "boolean"
          },
          "label": {
            "type": "string"
          },
          "readOnly": {
            "type": "boolean"
          },
          "value": {
            "type": "string"
          }
        },
        "required": [
          "description",
          "displayOrder",
          "doubleData",
          "hidden",
          "label",
          "readOnly",
          "value"
        ],
        "type": "object"
      },
      "PublicActionLabels": {
        "properties": {
          "actionCardContent": {
            "type": "string"
          },
          "actionDescription": {
            "type": "string"
          },
          "actionName": {
            "type": "string"
          },
          "appDisplayName": {
            "type": "string"
          },
          "executionRules": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "inputFieldDescriptions": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "inputFieldLabels": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          },
          "inputFieldOptionLabels": {
            "additionalProperties": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "type": "object"
          },
          "outputFieldLabels": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object"
          }
        },
        "required": [
          "actionName"
        ],
        "type": "object"
      },
      "PublicObjectRequestOptions": {
        "properties": {
          "properties": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "required": [
          "properties"
        ],
        "type": "object"
      },
      "OutputFieldDefinition": {
        "properties": {
          "typeDefinition": {
            "$ref": "#/$defs/FieldTypeDefinition"
          }
        },
        "required": [
          "typeDefinition"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "https://api.hubapi.com/automation/v4/actions/{appId}/{definitionId}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**actionUrl**",
            "**archivedAt**",
            "**executionRules**",
            "**functions**",
            "**id**",
            "**inputFieldDependencies**",
            "**inputFields**",
            "**labels**",
            [
              "**objectRequestOptions**",
              {
                "$ul": [
                  "**properties**"
                ]
              }
            ],
            "**objectTypes**",
            "**outputFields**",
            "**published**",
            "**revisionId**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**category**: The error category",
            "**context**: Context about the error condition",
            "**correlationId**: A unique identifier for the request. Include this value with any error reports or support tickets",
            "**errors**: further information about the error",
            "**links**: A map of link names to associated URIs containing documentation about the error or recommended remediation steps",
            "**message**: A human readable message describing the error along with remediation steps where appropriate",
            "**subCategory**: A specific category that contains more specific detail about the error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
