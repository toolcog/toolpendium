{
  "name": "GET_SubscriptionsByKeyAndVersion",
  "description": "This REST API reference describes how to retrieve detailed information about a specified subscription in a specified version. When you create a subscription amendment, you create a new version of the subscription. You can use this method to retrieve information about a subscription in any version.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "Zuora-Track-Id": {
        "maxLength": 64,
        "type": "string",
        "description": "A custom identifier for tracing the API call. If you set a value for this header, Zuora returns the same value in the response headers. This header enables you to associate your system process identifiers with Zuora API calls, to assist with troubleshooting in the event of an issue.\n\nThe value of this field must use the US-ASCII character set and must not include any of the following characters: colon (`:`), semicolon (`;`), double quote (`\"`), and quote (`'`).\n"
      },
      "Zuora-Entity-Ids": {
        "type": "string",
        "description": "An entity ID. If you have [Zuora Multi-entity](https://knowledgecenter.zuora.com/BB_Introducing_Z_Business/Multi-entity) enabled and the OAuth token is valid for more than one entity, you must use this header to specify which entity to perform the operation in. If the OAuth token is only valid for a single entity, or you do not have Zuora Multi-entity enabled, you do not need to set this header.\n"
      },
      "subscription-key": {
        "type": "string",
        "description": "Subscription number. For example, A-S00000135.\n"
      },
      "version": {
        "type": "string",
        "description": "Subscription version. For example, 1.\n"
      },
      "charge-detail": {
        "type": "string",
        "description": "\nThe segmented rate plan charges. When an amendment results in a change to a charge, Zuora creates a segmented rate plan charge. Use this field to track segment charges.\n\nPossible values are:\n\n * __last-segment__: (Default) The last rate plan charge on the subscription. The last rate plan charge is the last one in the order of time on the subscription rather than the most recent changed charge on the subscription.\n * __current-segment__: The segmented charge that is active on today’s date (effectiveStartDate <= today’s date < effectiveEndDate).\n \n * __all-segments__: All the segmented charges. The `chargeSegments` field is returned in the response. The `chargeSegments` field contains an array of the charge information for all the charge segments.\n\n * __specific-segment&as-of-date=date__: The segmented charge that is active on a date you specified (effectiveStartDate <= specific date < effectiveEndDate). The format of the date is yyyy-mm-dd.\n"
      }
    },
    "required": [
      "subscription-key",
      "version"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://rest.zuora.com/v1/subscriptions/{subscription-key}/versions/{version}{?charge-detail}"
    },
    "headers": {
      "Zuora-Track-Id": {
        "$": "Zuora-Track-Id"
      },
      "Zuora-Entity-Ids": {
        "$": "Zuora-Entity-Ids"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "subscriptionFieldsQT"
        },
        "Container for Subscription fields provided by Zuora Quotes.\n",
        "**Key properties:**",
        {
          "$ul": [
            "**accountId**: The ID of the account associated with this subscription.",
            "**accountName**: The name of the account associated with this subscription.",
            "**accountNumber**: The number of the account associated with this subscription.",
            "**autoRenew**: If `true`, the subscription automatically renews at the end of the term. Default is `false`.",
            "**contractEffectiveDate**: Effective contract date for this subscription, as yyyy-mm-dd.",
            "**contractedMrr**: Monthly recurring revenue of the subscription.",
            "**currentTerm**: The length of the period for the current subscription term.",
            "**currentTermPeriodType**: The period type for the current subscription term.",
            "**customerAcceptanceDate**: The date on which the services or products within a subscription have been accepted by the customer, as yyyy-mm-dd.",
            "**id**: Subscription ID.",
            "**initialTerm**: The length of the period for the first subscription term.",
            "**initialTermPeriodType**: The period type for the first subscription term.",
            "**invoiceOwnerAccountId**: ",
            "**invoiceOwnerAccountName**: ",
            "**invoiceOwnerAccountNumber**: ",
            "**invoiceSeparately**: Separates a single subscription from other subscriptions and creates an invoice for the subscription. ",
            "**notes**: A string of up to 65,535 characters.",
            "**orderNumber**: The order number of the order in which the changes on the subscription are made. ",
            "**ratePlans**: Container for rate plans.",
            "**renewalSetting**: Specifies whether a termed subscription will remain `TERMED` or change to `EVERGREEN` when it is renewed. ",
            "**renewalTerm**: The length of the period for the subscription renewal term.",
            "**renewalTermPeriodType**: The period type for the subscription renewal term.",
            "**revision**: An auto-generated decimal value uniquely tagged with a subscription. The value always contains one decimal place, for example, the revision of a new subscription is 1.0. If a further version of the subscription is created, the revision value will be increased by 1. Also, the revision value is always incremental regardless of deletion of subscription versions.",
            "**serviceActivationDate**: The date on which the services or products within a subscription have been activated and access has been provided to the customer, as yyyy-mm-dd",
            "**status**: Subscription status; possible values are:",
            "**subscriptionEndDate**: The date when the subscription term ends, where the subscription ends at midnight the day before.",
            "**subscriptionNumber**: Subscription number.",
            "**subscriptionStartDate**: Date the subscription becomes effective.",
            "**success**: Returns `true` if the request was processed successfully.",
            "**termEndDate**: Date the subscription term ends. If the subscription is evergreen, this is null or is the cancellation date (if one has been set).",
            "**termStartDate**: Date the subscription term begins. If this is a renewal subscription, this date is different from the subscription start date.",
            "**termType**: Possible values are: `TERMED`, `EVERGREEN`.",
            "**totalContractedValue**: Total contracted value of the subscription.",
            "**CpqBundleJsonId__QT**: The Bundle product structures from Zuora Quotes if you utilize Bundling in Salesforce. Do not change the value in this field.",
            "**OpportunityCloseDate__QT**: The closing date of the Opportunity. This field is used in Zuora data sources to report on Subscription metrics. If the subscription originated from Zuora Quotes, the value is populated with the value from Zuora Quotes.",
            "**OpportunityName__QT**: The unique identifier of the Opportunity. This field is used in Zuora data sources to report on Subscription metrics. If the subscription originated from Zuora Quotes, the value is populated with the value from Zuora Quotes.",
            "**QuoteBusinessType__QT**: The specific identifier for the type of business transaction the Quote represents such as New, Upsell, Downsell, Renewal or Churn. This field is used in Zuora data sources to report on Subscription metrics. If the subscription originated from Zuora Quotes, the value is populated with the value from Zuora Quotes.",
            "**QuoteNumber__QT**: The unique identifier of the Quote. This field is used in Zuora data sources to report on Subscription metrics. If the subscription originated from Zuora Quotes, the value is populated with the value from Zuora Quotes.",
            "**QuoteType__QT**: The Quote type that represents the subscription lifecycle stage such as New, Amendment, Renew or Cancel. This field is used in Zuora data sources to report on Subscription metrics. If the subscription originated from Zuora Quotes, the value is populated with the value from Zuora Quotes.",
            "**IntegrationId__NS**: ID of the corresponding object in NetSuite. Only available if you have installed the [Zuora Connector for NetSuite](https://www.zuora.com/connect/app/?appId=265).",
            "**IntegrationStatus__NS**: Status of the subscription's synchronization with NetSuite. Only available if you have installed the [Zuora Connector for NetSuite](https://www.zuora.com/connect/app/?appId=265).",
            "**Project__NS**: The NetSuite project that the subscription was created from. Only available if you have installed the [Zuora Connector for NetSuite](https://www.zuora.com/connect/app/?appId=265).",
            "**SalesOrder__NS**: The NetSuite sales order than the subscription was created from. Only available if you have installed the [Zuora Connector for NetSuite](https://www.zuora.com/connect/app/?appId=265).",
            "**SyncDate__NS**: Date when the subscription was synchronized with NetSuite. Only available if you have installed the [Zuora Connector for NetSuite](https://www.zuora.com/connect/app/?appId=265)."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
