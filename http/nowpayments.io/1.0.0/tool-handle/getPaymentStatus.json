{
  "name": "getPaymentStatus",
  "description": "Get the actual information about the payment. You need to provide the ID of the payment in the request.\n\nNOTE! You should make the get payment status request with the same API key that you used in the create payment request.\nHere is the list of avalable statuses:\n- waiting - waiting for the customer to send the payment. The initial status of each payment.\n- confirming - the transaction is being processed on the blockchain. Appears when NOWPayments detect the funds from the user on the blockchain.\n- confirmed -  the process is confirmed by the blockchain. Customerâ€™s funds have accumulated enough confirmations.\n- sending - the funds are being sent to your personal wallet. We are in the process of sending the funds to you.\n- partially_paid -  it shows that the customer sent the less than the actual price. Appears when the funds have arrived in your wallet.\n- finished - the funds have reached your personal address and the payment is finished.\n- failed -  the payment wasn't completed due to the error of some kind.\n- refunded -  the funds were refunded back to the user.\n- expired - the user didn't send the funds to the specified address in the 24 hour time window.\n\nAdditional info:\n- outcome_amount - this parameter shows the amount that will be (or is already) received on your Outcome Wallet once the transaction is settled.\n- outcome_currency - this parameter shows the currency in which the transaction will be settled.\n- invoice_id - this parameter shows invoice ID from which the payment was created",
  "parameters": {
    "type": "object",
    "properties": {
      "x-api-key": {
        "example": "{{your_api_key}}",
        "type": "string"
      },
      "payment_id": {
        "type": "string"
      }
    },
    "required": [
      "payment_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://api.nowpayments.io/v1/payment/{payment_id}"
    },
    "headers": {
      "x-api-key": {
        "$": "x-api-key"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**actually_paid**",
            "**created_at**",
            "**order_description**",
            "**order_id**",
            "**outcome_amount**",
            "**outcome_currency**",
            "**pay_address**",
            "**pay_amount**",
            "**pay_currency**",
            "**payment_id**",
            "**payment_status**",
            "**price_amount**",
            "**price_currency**",
            "**purchase_id**",
            "**updated_at**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
