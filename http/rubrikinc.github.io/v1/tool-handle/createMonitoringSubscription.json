{
  "name": "createMonitoringSubscription",
  "description": "Creates an email subscription to the job monitoring page, which provides information on jobs based on their type (active, in progress, canceled, scheduled, or succeeded). Users can choose which job states to include in the subscription. The email summarizes the job counts by type in the body, and includes the option to include CSV attachments for every job state selected.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/components/schemas/MonitoringEmailSubscriptionRequest",
        "description": "All information required to create a job-monitoring email subscription."
      }
    },
    "required": [
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "/api/v1/job_monitoring/subscription"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**attachments**: Attachment files to send with the subscription.",
            "**emailAddresses**: Email addresses to send monitoring subscriptions to.",
            "**jobStates**: User-selected job states.",
            [
              "**timeAttributes**",
              {
                "$ul": [
                  "**dailyScheduleHour**: Hour of the day to send the scheduled email, if the user picks a daily schedule. 0 = 12AM, 23 = 11PM.",
                  "**dayOfMonth**: Day of the month to send the scheduled email, if the user picks a monthly schedule.",
                  "**daysOfWeek**: Day of the week, represented by numbers, to send the scheduled email, if the user picks a weekly schedule. 0 = Sunday, 1 = Monday, 2 = Tuesday, 3 = Wednesday, 4 = Thursday, 5 = Friday, 6 = Saturday.",
                  "**monthlyScheduleHour**: Hour of the user-specified day to send the scheduled email, if the user picks a monthly schedule. 0 = 12AM, 23 = 11PM.",
                  "**weeklyScheduleHour**: Hour of the user-specified day to send the scheduled email, if the user picks a weekly schedule. 0 = 12AM, 23 = 11PM."
                ]
              }
            ],
            "**id**: ID assigned to an email subscription object.",
            [
              "**owner**",
              {
                "$ul": [
                  "**userId**: User ID of the email subscription object owner.",
                  "**username**: Username of the email subscription object owner."
                ]
              }
            ],
            "**status**: Status of email subscription."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
