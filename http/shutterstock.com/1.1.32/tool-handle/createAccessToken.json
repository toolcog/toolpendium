{
  "name": "createAccessToken",
  "description": "This endpoint returns an access token for the specified user and with the specified scopes. The token does not expire until the user changes their password. The body parameters must be encoded as form data.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "properties": {
          "client_id": {
            "description": "Client ID (Consumer Key) of your application",
            "type": "string"
          },
          "client_secret": {
            "description": "Client Secret (Consumer Secret) of your application",
            "type": "string"
          },
          "code": {
            "description": "Response code from the /oauth/authorize flow; required if grant_type=authorization_code",
            "type": "string"
          },
          "expires": {
            "default": false,
            "description": "Whether or not the token expires, expiring tokens come with a refresh_token to renew the access_token",
            "type": "boolean"
          },
          "grant_type": {
            "description": "Grant type: authorization_code generates user tokens, client_credentials generates short-lived client grants",
            "enum": [
              "authorization_code",
              "client_credentials",
              "refresh_token"
            ],
            "type": "string"
          },
          "realm": {
            "default": "customer",
            "description": "User type to be authorized (usually 'customer')",
            "enum": [
              "customer",
              "contributor"
            ],
            "type": "string"
          },
          "refresh_token": {
            "description": "Pass this along with grant_type=refresh_token to get a fresh access token",
            "type": "string"
          }
        },
        "required": [
          "client_id",
          "grant_type"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.shutterstock.com/v2/oauth/access_token"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Access token response to client apps",
        "**Key properties:**",
        {
          "$ul": [
            "**access_token**: Access token that can be used for future requests",
            "**expires_in**: Number of seconds before token expires, only present for expiring tokens",
            "**refresh_token**: A refresh token that can be used to renew the access_token when it expires, only present for expiring tokens",
            "**token_type**: Type of token (default: Bearer)",
            "**user_token**: Metadata about the access_token, only present for expiring tokens"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
