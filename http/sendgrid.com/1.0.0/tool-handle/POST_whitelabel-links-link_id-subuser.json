{
  "name": "POST_whitelabel-links-link_id-subuser",
  "description": "**This endpoint allows you to associate a branded link with a subuser account.**\n\nLink branding can be associated with subusers from the parent account. This functionality allows subusers to send mail using their parent's link branding. To associate link branding, the parent account must first create a branded link and validate it. The parent may then associate that branded link with a subuser via the API or the [Subuser Management page of the Twilio SendGrid App](https://app.sendgrid.com/settings/subusers).",
  "parameters": {
    "type": "object",
    "properties": {
      "link_id": {
        "type": "integer",
        "description": "The ID of the branded link you want to associate."
      },
      "body": {
        "example": {
          "username": "jane@example.com"
        },
        "properties": {
          "username": {
            "description": "The username of the subuser account that you want to associate the branded link with.",
            "type": "string"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "link_id"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://api.sendgrid.com/v3/whitelabel/links/{link_id}/subuser"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Link Branding 200 Response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**default**: Indicates if this is the default link branding.",
            [
              "**dns**: The DNS records generated for this link branding.",
              {
                "$ul": [
                  [
                    "**domain_cname**: The DNS record generated to point to your link branding subdomain.",
                    {
                      "$ul": [
                        "**data**: The domain that the DNS record points to.",
                        "**host**: The domain that this link branding will use for the links in your email.",
                        "**type**: The type of DNS record that was generated.",
                        "**valid**: Indicates if the DNS record is valid."
                      ]
                    }
                  ],
                  [
                    "**owner_cname**: The DNS record generated to verify who created the link branding.",
                    {
                      "$ul": [
                        "**data**: The domain that the DNS record points to.",
                        "**host**: Used to verify the link branding. The subdomain of this domain is the ID of the user who created the link branding.",
                        "**type**: The type of DNS record generated.",
                        "**valid**: Indicates if the DNS record is valid."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**domain**: The root domain of the branded link.",
            "**id**: The ID of the branded link.",
            "**legacy**: Indicates if this link branding was created using the legacy whitelabel tool. If it is a legacy whitelabel, it will still function, but you'll need to create new link branding if you need to update it.",
            "**subdomain**: The subdomain used to generate the DNS records for this link branding. This subdomain must be different from the subdomain used for your authenticated domain.",
            "**user_id**: The ID of the user that this link branding is associated with.",
            "**username**: The username of the account that this link branding is associated with.",
            "**valid**: Indicates if this link branding is valid."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
