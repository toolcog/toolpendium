{
  "name": "PATCH_user-webhooks-event-settings",
  "description": "**This endpoint allows you to update your current event webhook settings.**\n\nIf an event type is marked as `true`, then the event webhook will include information about that event.\n\nSendGridâ€™s Event Webhook will notify a URL of your choice via HTTP POST with information about events that occur as SendGrid processes your email.\n\nCommon uses of this data are to remove unsubscribes, react to spam reports, determine unengaged recipients, identify bounced email addresses, or create advanced analytics of your email program.",
  "parameters": {
    "type": "object",
    "properties": {
      "on-behalf-of": {
        "default": "The subuser's username. This header generates the API call as if the subuser account was making the call.",
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/event-webhook-update-oauth-request"
      }
    },
    "$defs": {
      "event-webhook-update-oauth-request": {
        "properties": {
          "bounce": {
            "description": "Receiving server could not or would not accept message.",
            "type": "boolean"
          },
          "click": {
            "description": "Recipient clicked on a link within the message. You need to enable Click Tracking for getting this type of event.",
            "type": "boolean"
          },
          "deferred": {
            "description": "Recipient's email server temporarily rejected message.",
            "type": "boolean"
          },
          "delivered": {
            "description": "Message has been successfully delivered to the receiving server.",
            "type": "boolean"
          },
          "dropped": {
            "description": "You may see the following drop reasons: Invalid SMTPAPI header, Spam Content (if spam checker app enabled), Unsubscribed Address, Bounced Address, Spam Reporting Address, Invalid, Recipient List over Package Quota",
            "type": "boolean"
          },
          "enabled": {
            "description": "Indicates if the event webhook is enabled.",
            "type": "boolean"
          },
          "group_resubscribe": {
            "description": "Recipient resubscribes to specific group by updating preferences. You need to enable Subscription Tracking for getting this type of event.",
            "type": "boolean"
          },
          "group_unsubscribe": {
            "description": "Recipient unsubscribe from specific group, by either direct link or updating preferences. You need to enable Subscription Tracking for getting this type of event.",
            "type": "boolean"
          },
          "oauth_client_id": {
            "description": "The client ID Twilio SendGrid sends to your OAuth server or service provider to generate an OAuth access token. When passing data in this field, you must also include the oauth_token_url field.",
            "type": "string"
          },
          "oauth_client_secret": {
            "description": "This secret is needed only once to create an access token. SendGrid will store this secret, allowing you to update your Client ID and Token URL without passing the secret to SendGrid again.  When passing data in this field, you must also include the oauth_client_id and oauth_token_url fields.",
            "type": "string"
          },
          "oauth_token_url": {
            "description": "The URL where Twilio SendGrid sends the Client ID and Client Secret to generate an access token. This should be your OAuth server or service provider. When passing data in this field, you must also include the oauth_client_id field.",
            "type": "string"
          },
          "open": {
            "description": "Recipient has opened the HTML message. You need to enable Open Tracking for getting this type of event.",
            "type": "boolean"
          },
          "processed": {
            "description": "Message has been received and is ready to be delivered.",
            "type": "boolean"
          },
          "spam_report": {
            "description": "Recipient marked a message as spam.",
            "type": "boolean"
          },
          "unsubscribe": {
            "description": "Recipient clicked on message's subscription management link. You need to enable Subscription Tracking for getting this type of event.",
            "type": "boolean"
          },
          "url": {
            "description": "The URL that you want the event webhook to POST to.",
            "type": "string"
          }
        },
        "required": [
          "enabled",
          "url",
          "group_resubscribe",
          "delivered",
          "group_unsubscribe",
          "spam_report",
          "bounce",
          "deferred",
          "unsubscribe",
          "processed",
          "open",
          "click",
          "dropped"
        ],
        "title": "Webhooks: Event Webhook Update with OAuth Request",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "http://api.sendgrid.com/v3/user/webhooks/event/settings"
    },
    "headers": {
      "on-behalf-of": {
        "$": "on-behalf-of"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Webhooks: Event Webhook Response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**bounce**: Receiving server could not or would not accept message.",
            "**click**: Recipient clicked on a link within the message. You need to enable Click Tracking for getting this type of event.",
            "**deferred**: Recipient's email server temporarily rejected message.",
            "**delivered**: Message has been successfully delivered to the receiving server.",
            "**dropped**: You may see the following drop reasons: Invalid SMTPAPI header, Spam Content (if spam checker app enabled), Unsubscribed Address, Bounced Address, Spam Reporting Address, Invalid, Recipient List over Package Quota",
            "**enabled**: Indicates if the event webhook is enabled.",
            "**group_resubscribe**: Recipient resubscribes to specific group by updating preferences. You need to enable Subscription Tracking for getting this type of event.",
            "**group_unsubscribe**: Recipient unsubscribe from specific group, by either direct link or updating preferences. You need to enable Subscription Tracking for getting this type of event.",
            "**oauth_client_id**: The client ID Twilio SendGrid sends to your OAuth server or service provider to generate an OAuth access token.",
            "**oauth_token_url**: The URL where Twilio SendGrid sends the Client ID and Client Secret to generate an access token. This should be your OAuth server or service provider.",
            "**open**: Recipient has opened the HTML message. You need to enable Open Tracking for getting this type of event.",
            "**processed**: Message has been received and is ready to be delivered.",
            "**spam_report**: Recipient marked a message as spam.",
            "**unsubscribe**: Recipient clicked on message's subscription management link. You need to enable Subscription Tracking for getting this type of event.",
            "**url**: The URL that you want the event webhook to POST to."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
