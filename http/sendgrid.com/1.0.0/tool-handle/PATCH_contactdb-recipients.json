{
  "name": "PATCH_contactdb-recipients",
  "description": "**This endpoint allows you to update one or more recipients.**\n\nThe body of an API call to this endpoint must include an array of one or more recipient objects.\n\nIt is of note that you can add custom field data as parameters on recipient objects. We have provided an example using some of the default custom fields SendGrid provides.",
  "parameters": {
    "type": "object",
    "properties": {
      "on-behalf-of": {
        "default": "The subuser's username. This header generates the API call as if the subuser account was making the call.",
        "type": "string"
      },
      "body": {
        "example": [
          {
            "email": "jones@example.com",
            "first_name": "Guy",
            "last_name": "Jones"
          }
        ],
        "items": {
          "properties": {
            "email": {
              "format": "email",
              "type": "string"
            },
            "first_name": {
              "description": "The first name of the recipient. This is one of the default custom fields.",
              "type": "string"
            },
            "last_name": {
              "description": "The last name of the recipient. This is one of the default custom fields.",
              "type": "string"
            }
          },
          "required": [
            "email"
          ],
          "type": "object"
        },
        "type": "array"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "http://api.sendgrid.com/v3/contactdb/recipients"
    },
    "headers": {
      "on-behalf-of": {
        "$": "on-behalf-of"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ContactDB: Recipient response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error_count**: The number of errors found while adding recipients. (default: 0)",
            "**error_indices**: The indices of the recipient(s) sent that caused the error.  (default: )",
            "**errors**",
            "**new_count**: The count of new recipients added to the contactdb. (default: 0)",
            "**persisted_recipients**: The recipient IDs of the recipients that already existed from this request. (default: )",
            "**updated_count**: The recipients who were updated from this request. (default: 0)"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Global Error Response Schema"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**",
            "**id**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Global Error Response Schema"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**",
            "**id**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
