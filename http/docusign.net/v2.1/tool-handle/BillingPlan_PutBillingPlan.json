{
  "name": "BillingPlan_PutBillingPlan",
  "description": "Updates the billing plan information, billing address, and credit card information for the specified account.",
  "parameters": {
    "type": "object",
    "properties": {
      "accountId": {
        "type": "string",
        "description": "The external account number (int) or account ID GUID."
      },
      "preview_billing_plan": {
        "type": "string",
        "description": "When **true,** updates the account using a preview billing plan."
      },
      "body": {
        "$ref": "#/$defs/billingPlanInformation"
      }
    },
    "required": [
      "accountId"
    ],
    "$defs": {
      "billingPlanInformation": {
        "description": "This object contains details about a billing plan.",
        "properties": {
          "appStoreReceipt": {
            "$ref": "#/$defs/appStoreReceipt"
          },
          "billingAddress": {
            "$ref": "#/$defs/accountAddress"
          },
          "creditCardInformation": {
            "$ref": "#/$defs/creditCardInformation"
          },
          "directDebitProcessorInformation": {
            "$ref": "#/$defs/directDebitProcessorInformation"
          },
          "downgradeReason": {
            "description": "(Optional) The user's reason for downgrading their billing plan.",
            "type": "string"
          },
          "enablePreAuth": {
            "description": "",
            "type": "string"
          },
          "enableSupport": {
            "description": "When **true,** customer support is provided as part of the account plan.",
            "type": "string"
          },
          "includedSeats": {
            "description": "The number of seats (users) included in the plan.",
            "type": "string"
          },
          "incrementalSeats": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "paymentMethod": {
            "description": "The payment method used for the billing plan. Valid values are:\n\n- `NotSupported`\n- `CreditCard`\n- `PurchaseOrder`\n- `Premium`\n- `Freemium`\n- `FreeTrial`\n- `AppStore`\n- `DigitalExternal`\n- `DirectDebit`",
            "type": "string"
          },
          "paymentProcessor": {
            "description": "",
            "type": "string"
          },
          "paymentProcessorInformation": {
            "$ref": "#/$defs/paymentProcessorInformation"
          },
          "planInformation": {
            "$ref": "#/$defs/planInformation"
          },
          "processPayment": {
            "description": "",
            "type": "string"
          },
          "referralInformation": {
            "$ref": "#/$defs/referralInformation"
          },
          "renewalStatus": {
            "description": "The renewal status of the account. Possible values are:\n\n- `auto`: The account automatically renews. \n- `queued_for_close`: The account will be closed at the billingPeriodEndDate. \n- queued_for_downgrade`: The account will be downgraded at the `billingPeriodEndDate`.",
            "type": "string"
          },
          "saleDiscountAmount": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountFixedAmount": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountPercent": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountPeriods": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountSeatPriceOverride": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "taxExemptId": {
            "description": "",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "billingPlanInformation",
        "x-ms-summary": "This object contains details about a billing plan."
      },
      "appStoreReceipt": {
        "description": "Contains information about an APP store receipt.",
        "properties": {
          "downgradeProductId": {
            "description": "",
            "type": "string"
          },
          "isDowngradeCancellation": {
            "description": "",
            "type": "string"
          },
          "productId": {
            "description": "The Product ID from the AppStore.",
            "type": "string"
          },
          "receiptData": {
            "description": "Reserved: TBD",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "appStoreReceipt",
        "x-ms-summary": "Contains information about an APP store receipt."
      },
      "accountAddress": {
        "description": "Contains information about the address associated with the account.",
        "properties": {
          "address1": {
            "description": "The first line of the address. Maximum length: 100 characters.",
            "type": "string"
          },
          "address2": {
            "description": "The second line of the address. Maximum length: 100 characters.",
            "type": "string"
          },
          "city": {
            "description": "The city associated with the address. Maximum length: 40 characters.",
            "type": "string"
          },
          "country": {
            "description": "The country associated with the address. Maximum length: 50 characters.",
            "type": "string"
          },
          "email": {
            "description": "The email address associated with the account.",
            "type": "string"
          },
          "fax": {
            "description": "The fax number associated with the account.",
            "type": "string"
          },
          "firstName": {
            "description": "The first name of the user associated with the account. Maximum Length: 50 characters.",
            "type": "string"
          },
          "lastName": {
            "description": "The last name of the user associated with the account.",
            "type": "string"
          },
          "phone": {
            "description": "The phone number associated with the account.",
            "type": "string"
          },
          "postalCode": {
            "description": "The postal code associated with the address. Maximum length: 20 characters.",
            "type": "string"
          },
          "state": {
            "description": "The state or province associated with the address. Maximum length: 40 characters.",
            "type": "string"
          },
          "supportedCountries": {
            "description": "An array of supported countries associated with the account.",
            "items": {
              "$ref": "#/$defs/country"
            },
            "type": "array"
          }
        },
        "type": "object",
        "x-ds-definition-name": "accountAddress",
        "x-ms-summary": "Contains information about the address associated with the account."
      },
      "country": {
        "description": "",
        "properties": {
          "isoCode": {
            "description": "",
            "type": "string"
          },
          "name": {
            "description": "",
            "type": "string"
          },
          "provinceValidated": {
            "description": "",
            "type": "string"
          },
          "provinces": {
            "description": "",
            "items": {
              "$ref": "#/$defs/province"
            },
            "type": "array"
          }
        },
        "type": "object",
        "x-ds-definition-name": "country",
        "x-ms-summary": ""
      },
      "province": {
        "description": "",
        "properties": {
          "isoCode": {
            "description": "",
            "type": "string"
          },
          "name": {
            "description": "",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "province",
        "x-ms-summary": ""
      },
      "creditCardInformation": {
        "description": "This object contains information about a credit card that is associated with an account.",
        "properties": {
          "address": {
            "$ref": "#/$defs/addressInformation"
          },
          "cardLastDigits": {
            "description": "",
            "type": "string"
          },
          "cardNumber": {
            "description": "The credit card number.",
            "type": "string"
          },
          "cardType": {
            "description": "The type of credit card. Valid values are: \n\n- `visa` \n- `mastercard` \n- `amex`",
            "type": "string"
          },
          "cvNumber": {
            "description": "The 3 or 4-digit card verification value (CVV) number associated with the credit card. CVV numbers are also referred to as card security codes (CSCs).",
            "type": "string"
          },
          "expirationMonth": {
            "description": "The month that the credit card expires, expressed as a number from 1 to 12.",
            "type": "string"
          },
          "expirationYear": {
            "description": "The year in which the credit card expires, in 4-digit format.",
            "type": "string"
          },
          "nameOnCard": {
            "description": "The exact name as it appears on the credit card.",
            "type": "string"
          },
          "tokenizedCard": {
            "description": "",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "creditCardInformation",
        "x-ms-summary": "This object contains information about a credit card that is associated with an account."
      },
      "addressInformation": {
        "description": "Contains address information.",
        "properties": {
          "address1": {
            "description": "The first line of the user's address.\nMaximum length: 100 characters.",
            "type": "string"
          },
          "address2": {
            "description": "The second line of the user's address.\nMaximum length: 100 characters.",
            "type": "string"
          },
          "city": {
            "description": "The user's city. Maximum length: 40 characters.",
            "type": "string"
          },
          "country": {
            "description": "The user's country. Maximum length: 50 characters.",
            "type": "string"
          },
          "fax": {
            "description": "A fax number associated with the address, if one is available.",
            "type": "string"
          },
          "phone": {
            "description": "A phone number associated with the address.",
            "type": "string"
          },
          "postalCode": {
            "description": "The user's postal code. Maximum length: 20 characters.",
            "type": "string"
          },
          "stateOrProvince": {
            "description": "The user's state or province. Maximum length: 40 characters.",
            "type": "string"
          },
          "zipPlus4": {
            "description": "",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "addressInformation",
        "x-ms-summary": "Contains address information."
      },
      "directDebitProcessorInformation": {
        "description": "Contains information about a bank that processes a customer's direct debit payments.",
        "properties": {
          "bankBranchCode": {
            "description": "The branch code of the bank used for direct debit.\n\nMaximum Length: 10 characters.",
            "type": "string"
          },
          "bankCheckDigit": {
            "description": "The check digit or digits in the international bank account number. These digits are used to confirm the validity of the account.\n\nMaximum Length: 4 characters.",
            "type": "string"
          },
          "bankCode": {
            "description": "The code or number that identifies the bank. This is also known as the sort code.\n\nExample: `200000`\n\nMaximum Length: 18 characters.",
            "type": "string"
          },
          "bankName": {
            "description": "The name of the direct debit bank.\n\nMaximum Length: 80 characters.",
            "type": "string"
          },
          "bankTransferAccountName": {
            "description": "The name on the direct debit bank account. This field is required for POST and PUT requests.\n\nMaximum Length: 60 characters.",
            "type": "string"
          },
          "bankTransferAccountNumber": {
            "description": "The customer's bank account number. This value will be obfuscated. This field is required for POST and PUT requests.\n\nMaximum Length: 30 characters.",
            "type": "string"
          },
          "bankTransferType": {
            "description": "Specifies the type of direct debit transfer. The value of this field is dependent on the user's country. This field is required for POST and PUT requests. Possible values are:\n\n- `DirectDebitUK`\n- `DirectEntryAU`\n- `SEPA`",
            "type": "string"
          },
          "country": {
            "description": "The user's country. The system populates this value automatically.\n\n",
            "type": "string"
          },
          "email": {
            "description": "The email address of the user who is associated with the payment method. This field is required for POST and PUT requests.\n\nMaximum Length: 80 characters.",
            "type": "string"
          },
          "firstName": {
            "description": "The user's first name. This field is required for POST and PUT requests.\n\nMaximum Length: 30 characters.",
            "type": "string"
          },
          "iBAN": {
            "description": "The International Bank Account Number (IBAN). \n\nExample: `DE89370400440532013000`\n\nFor more information, see [PeopleSoft's guide to Setting Up Banks](https://docs.oracle.com/cd/E16365_01/fscm91pbr0/eng/psbooks/fsbk/chapter.htm?File=fsbk/htm/fsbk03.htm).\n\n**Note:** This number will be obfuscated.",
            "type": "string"
          },
          "lastName": {
            "description": "The user's last name. This field is required for POST and PUT requests.\n\nMaximum Length: 70 characters.",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "directDebitProcessorInformation",
        "x-ms-summary": "Contains information about a bank that processes a customer's direct debit payments."
      },
      "paymentProcessorInformation": {
        "description": "",
        "properties": {
          "address": {
            "$ref": "#/$defs/addressInformation"
          },
          "billingAgreementId": {
            "description": "The ID of the billing agreement.",
            "type": "string"
          },
          "email": {
            "description": "The email address associated with the payment processor.",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "paymentProcessorInformation",
        "x-ms-summary": ""
      },
      "planInformation": {
        "description": "An object used to identify the features and attributes of the account being created.",
        "properties": {
          "addOns": {
            "description": "Reserved for DocuSign.",
            "items": {
              "$ref": "#/$defs/addOn"
            },
            "type": "array"
          },
          "currencyCode": {
            "description": "Specifies the ISO currency code for the account.",
            "type": "string"
          },
          "freeTrialDaysOverride": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "planFeatureSets": {
            "description": "Reserved for DocuSign.",
            "items": {
              "$ref": "#/$defs/featureSet"
            },
            "type": "array"
          },
          "planId": {
            "description": "DocuSign's ID for the account plan.",
            "type": "string"
          },
          "recipientDomains": {
            "description": "",
            "items": {
              "$ref": "#/$defs/recipientDomain"
            },
            "type": "array"
          }
        },
        "type": "object",
        "x-ds-definition-name": "planInformation",
        "x-ms-summary": "An object used to identify the features and attributes of the account being created."
      },
      "addOn": {
        "description": "Contains information about add ons.",
        "properties": {
          "active": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "addOnId": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "id": {
            "description": "A unique ID for the Salesforce object.",
            "type": "string"
          },
          "name": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "addOn",
        "x-ms-summary": "Contains information about add ons."
      },
      "featureSet": {
        "description": "This object provides details about a feature set, or add-on product that is associated with an account. It is reserved for DocuSign internal use only.",
        "properties": {
          "currencyFeatureSetPrices": {
            "description": "Reserved for DocuSign.",
            "items": {
              "$ref": "#/$defs/currencyFeatureSetPrice"
            },
            "type": "array"
          },
          "envelopeFee": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "featureSetId": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "fixedFee": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "is21CFRPart11": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "isActive": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "isEnabled": {
            "description": "When **true,** the feature set is actively enabled as part of the plan.",
            "type": "string"
          },
          "name": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "seatFee": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "featureSet",
        "x-ms-summary": "This object provides details about a feature set, or add-on product that is associated with an account. It is reserved for DocuSign internal use only."
      },
      "currencyFeatureSetPrice": {
        "description": "Information about the price and currency associated with the feature set. Reserved for internal DocuSign use only.",
        "properties": {
          "currencyCode": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "currencySymbol": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "envelopeFee": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "fixedFee": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "seatFee": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "currencyFeatureSetPrice",
        "x-ms-summary": "Information about the price and currency associated with the feature set. Reserved for internal DocuSign use only."
      },
      "recipientDomain": {
        "description": "",
        "properties": {
          "active": {
            "description": "",
            "type": "string"
          },
          "domainCode": {
            "description": "",
            "type": "string"
          },
          "domainName": {
            "description": "",
            "type": "string"
          },
          "recipientDomainId": {
            "description": "",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "recipientDomain",
        "x-ms-summary": ""
      },
      "referralInformation": {
        "description": "A complex type that contains the following information for entering referral and discount information. The following items are included in the referral information (all string content): enableSupport, includedSeats, saleDiscountPercent, saleDiscountAmount, saleDiscountFixedAmount, saleDiscountPeriods, saleDiscountSeatPriceOverride, planStartMonth, referralCode, referrerName, advertisementId, publisherId, shopperId, promoCode, groupMemberId, idType, and industry\n\n**Note:** saleDiscountPercent, saleDiscountAmount, saleDiscountFixedAmount, saleDiscountPeriods, and saleDiscountSeatPriceOverride are reserved for DocuSign use only.",
        "properties": {
          "advertisementId": {
            "description": "A complex type that contains the following information for entering referral and discount information. The following items are included in the referral information (all string content): enableSupport, includedSeats, saleDiscountPercent, saleDiscountAmount, saleDiscountFixedAmount, saleDiscountPeriods, saleDiscountSeatPriceOverride, planStartMonth, referralCode, referrerName, advertisementId, publisherId, shopperId, promoCode, groupMemberId, idType, and industry.\n\n**Note:** saleDiscountPercent, saleDiscountAmount, saleDiscountFixedAmount, saleDiscountPeriods, and saleDiscountSeatPriceOverride are reserved for DocuSign use only.\n",
            "type": "string"
          },
          "enableSupport": {
            "description": "When **true,** customer support is provided as part of the account plan.",
            "type": "string"
          },
          "externalOrgId": {
            "description": "An optional external ID for the referral.",
            "type": "string"
          },
          "groupMemberId": {
            "description": "",
            "type": "string"
          },
          "idType": {
            "description": "",
            "type": "string"
          },
          "includedSeats": {
            "description": "The number of seats (users) included in the plan.",
            "type": "string"
          },
          "industry": {
            "description": "The name of the industry associated with the referral. \n\nExample: `Accounting`",
            "type": "string"
          },
          "planStartMonth": {
            "description": "",
            "type": "string"
          },
          "promoCode": {
            "description": "",
            "type": "string"
          },
          "publisherId": {
            "description": "",
            "type": "string"
          },
          "referralCode": {
            "description": "",
            "type": "string"
          },
          "referrerName": {
            "description": "The name of the referrer.",
            "type": "string"
          },
          "saleDiscountAmount": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountFixedAmount": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountPercent": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountPeriods": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "saleDiscountSeatPriceOverride": {
            "description": "Reserved for DocuSign.",
            "type": "string"
          },
          "shopperId": {
            "description": "",
            "type": "string"
          }
        },
        "type": "object",
        "x-ds-definition-name": "referralInformation",
        "x-ms-summary": "A complex type that contains the following information for entering referral and discount information. The following items are included in the referral information (all string content): enableSupport, includedSeats, saleDiscountPercent, saleDiscountAmount, saleDiscountFixedAmount, saleDiscountPeriods, saleDiscountSeatPriceOverride, planStartMonth, referralCode, referrerName, advertisementId, publisherId, shopperId, promoCode, groupMemberId, idType, and industry\n\n**Note:** saleDiscountPercent, saleDiscountAmount, saleDiscountFixedAmount, saleDiscountPeriods, and saleDiscountSeatPriceOverride are reserved for DocuSign use only."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://www.docusign.net/restapi/v2.1/accounts/{accountId}/billing_plan{?preview_billing_plan}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Defines a billing plan update response object.",
        "**Key properties:**",
        {
          "$ul": [
            "**accountPaymentMethod**: The type of payment method used for the account. Valid values are:",
            [
              "**billingPlanPreview**: Information used to provide a preview of a billing plan.",
              {
                "$ul": [
                  "**currencyCode**: Specifies the ISO currency code for the account.",
                  [
                    "**invoice**: Contains information about a billing invoice.",
                    {
                      "$ul": [
                        "**amount**: The total amount of the purchase.",
                        "**balance**: Reserved: TBD",
                        "**dueDate**: Reserved: TBD",
                        "**invoiceId**: Reserved: TBD",
                        "**invoiceItems**: Reserved: TBD",
                        "**invoiceNumber**: Reserved: TBD",
                        "**invoiceUri**: Contains a URI for an endpoint that you can use to retrieve invoice information.",
                        "**nonTaxableAmount**: ",
                        "**pdfAvailable**: ",
                        "**taxableAmount**: "
                      ]
                    }
                  ],
                  "**isProrated**: When **true,** the billing plan is prorated.",
                  "**subtotalAmount**: ",
                  "**taxAmount**: ",
                  "**totalAmount**: "
                ]
              }
            ],
            "**currencyCode**: Specifies the ISO currency code for the account.",
            "**includedSeats**: The number of seats (users) included in the plan.",
            "**paymentCycle**: The payment cycle associated with the plan. Valid values: ",
            "**paymentMethod**: The payment method used for the billing plan. Valid values are:",
            "**planId**: DocuSign's ID for the account plan.",
            "**planName**: The name of the billing plan used for the account."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "This object describes errors that occur. It is only valid for responses and ignored in requests.",
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The code associated with the error condition.",
            "**message**: A brief message describing the error condition."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
