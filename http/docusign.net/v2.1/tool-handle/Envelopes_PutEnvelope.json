{
  "name": "Envelopes_PutEnvelope",
  "description": "This method enables you to make changes to an envelope.\nYou can use it to:\n\n* [Send a draft envelope](#sending-a-draft-envelope)\n* [Void an in-process envelope](#voiding-an-in-process-envelope)\n* [Modify a draft envelope](#modifying-envelope-email-information)\n* [Purge documents and envelope metadata from the DocuSign platform](#purging-documents-from-docusign)\n\nAlthough the request body for this method\nis a complete envelope definition,\nyou only need to provide\nthe properties that\nyou're updating.\n\n## Sending a draft envelope\n\nTo send a draft envelope, include the following code in the request body:\n\n```json\n{\n  \"status\": \"sent\"\n}\n```\n\nYou can attach a workflow before sending the envelope:\n\n```json\n{\n  \"status\": \"sent\",\n  \"workflow\": {\n    \"workflowSteps\": [\n      {\n        \"action\": \"pause_before\",\n        \"description\": \"pause_before routing order 2\",\n        \"itemId\": 2,\n        \"triggerOnItem\": \"routing_order\"\n      }\n    ]\n  }\n}\n```\n\n## Working with workflows\n\nTo unpause a workflow, the request body should include this:\n\n```json\n{\n  \"workflow\": {\n    \"workflowStatus\": \"in_progress\"\n  }\n}\n```\n\n## Voiding an in-process envelope\n\nTo void an in-process envelope, include the following code in the request body:\n\n```json\n{\n  \"status\": \"voided\",\n  \"voidedReason\": \"The reason for voiding the envelope\"\n}\n```\n\n## Modifying envelope email information\n\nTo change the email subject and message of a draft envelope,\ninclude the following code in the request body:\n\n```json\n{\n  \"emailSubject\": \"new email subject\",\n  \"emailBlurb\": \"new email message\"\n}\n```\n\n## Purging documents from docusign\n\nTo place only the documents\nin the purge queue,\nleaving any\ncorresponding attachments\nand tabs in the DocuSign platform,\nset the `purgeState` property\nto `documents_queued`.\n\n```json\n{\n  \"envelopeId\": \"222e6847-xxxx-xxxx-xxxx-72a3c9c16fca\",\n  \"purgeState\": \"documents_queued\"\n}\n```\n\nTo place documents,\nattachments,\nand tabs\nin the purge queue,\nset the `purgeState` property\nto `documents_and_metadata_queued`.\n\n```json\n{\n  \"envelopeId\": \"222e6847-xxxx-xxxx-xxxx-72a3c9c16fca\",\n  \"purgeState\": \"documents_and_metadata_queued\"\n}\n```\n\nTo place documents,\nattachments,\nand tabs\nin the purge queue\nand to redact personal information,\nset the `purgeState` property\nto `documents_and_metadata_and_redact_queued`.\n\n```json\n{\n  \"envelopeId\": \"222e6847-xxxx-xxxx-xxxx-72a3c9c16fca\",\n  \"purgeState\": \"documents_and_metadata_and_redact_queued\"\n}\n```\n\nYou can purge documents\nonly from completed envelopes\nthat are not marked as the authoritative copy.\nThe user requesting the purge\nmust have permission to purge documents\nand\nmust be the sender or be acting on behalf of the sender.\n\nWhen the purge request is initiated\nthe items to be purged\nare placed in the purge queue\nfor deletion in 14 days.\nThe sender\nand\nall recipients with DocuSign accounts\nassociated with the envelope\nget an email notification\nthe documents will be deleted in 14 days.\nThe notification contains a link\nto the documents.\nA second email notification\nis sent 7 days later.\nAt the end of the 14-day period\nthe documents are deleted from the system.\nRecipients without DocuSign accounts\ndo not receive email notifications.\n\nIf your account has a Document Retention policy,\nenvelope documents\nare automatically placed\nin the purge queue,\nand notification emails are sent\nat the end of the retention period.\nSetting a Document Retention policy is the same as setting a\nschedule for purging documents.\n\n## Removing documents from the purge queue\n\nTo remove documents from the purge queue, include the following code in the request body:\n\n```json\n{\n  \"envelopeId\": \"222e6847-xxxx-xxxx-xxxx-72a3c9c16fca\",\n  \"purgeState\": \"documents_dequeued\"\n}\n```\n\n### Related topics\n\n- [Void an envelope](https://www.docusign.com/blog/dsdev-common-api-tasks-void-an-envelope) ([Common API Tasks](https://www.docusign.com/blog/tags/common-api-tasks))\n- [Purging documents (eSignature Concepts)](/docs/esign-rest-api/esign101/concepts/documents/purging/)\n- [Purging documents in an envelope (blog post)](https://www.docusign.com/blog/developers/purging-documents-envelope)\n- [How to unpause a signature workflow](/docs/esign-rest-api/how-to/unpause-workflow/)\n",
  "parameters": {
    "type": "object",
    "properties": {
      "accountId": {
        "type": "string",
        "description": "The external account number (int) or account ID GUID."
      },
      "envelopeId": {
        "type": "string",
        "description": "The envelope's GUID. \n\nExample: `93be49ab-xxxx-xxxx-xxxx-f752070d71ec`\n"
      },
      "advanced_update": {
        "type": "string",
        "description": "When **true,** allows the caller to update recipients, tabs, custom fields, notification, email settings and other envelope attributes."
      },
      "resend_envelope": {
        "type": "string",
        "description": "When **true,**\nsends the specified envelope again."
      },
      "body": {
        "$ref": "#/components/schemas/envelope",
        "description": "A container used to send documents to recipients. The envelope carries information about the sender and timestamps to indicate the progress of the delivery procedure. It can contain collections of Documents, Tabs and Recipients."
      }
    },
    "required": [
      "accountId",
      "envelopeId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://www.docusign.net/restapi/v2.1/accounts/{accountId}/envelopes/{envelopeId}{?advanced_update,resend_envelope}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**bulkEnvelopeStatus**: ",
              {
                "$ul": [
                  "**batchId**: Specifies an identifier which can be used to retrieve a more detailed status of individual bulk recipient batches.",
                  "**batchSize**: The number of items returned in this response.",
                  "**bulkEnvelopes**: A list of bulk envelope objects.",
                  "**bulkEnvelopesBatchUri**: URI at which you can retrieve the batch envelopes.",
                  "**endPosition**: The last index position in the result set. ",
                  "**failed**: The number of entries with a status of failed. ",
                  "**nextUri**: The URI for the next chunk of records based on the search request. It is `null` if this is the last set of results for the search. ",
                  "**previousUri**: The URI for the prior chunk of records based on the search request. It is `null` if this is the first set of results for the search. ",
                  "**queued**: The number of entries with a status of queued. ",
                  "**resultSetSize**: The number of results in this response. Because you can filter which entries are included in the response, this value is always less than or equal to the `totalSetSize`.",
                  "**sent**: The number of entries with a status of sent.",
                  "**startPosition**: The starting index position of the current result set.",
                  "**submittedDate**: The date on which the bulk envelope was created.",
                  "**totalSetSize**: The total number of items in the result set. This value is always greater than or equal to the value of `resultSetSize`."
                ]
              }
            ],
            "**envelopeId**: The envelope ID of the envelope status that failed to post.",
            [
              "**errorDetails**: This object describes errors that occur. It is only valid for responses and ignored in requests.",
              {
                "$ul": [
                  "**errorCode**: The code associated with the error condition.",
                  "**message**: A brief message describing the error condition."
                ]
              }
            ],
            "**listCustomFieldUpdateResults**: ",
            [
              "**lockInformation**: Envelope locks let you lock an envelope to prevent any changes while you are updating an envelope.",
              {
                "$ul": [
                  [
                    "**errorDetails**: This object describes errors that occur. It is only valid for responses and ignored in requests.",
                    {
                      "$ul": [
                        "**errorCode**: The code associated with the error condition.",
                        "**message**: A brief message describing the error condition."
                      ]
                    }
                  ],
                  "**lockDurationInSeconds**: ",
                  "**lockToken**: A unique identifier provided to the owner of the lock. You must use this token with subsequent calls to prove ownership of the lock.",
                  "**lockType**: The type of lock.  Currently `edit` is the only supported type.",
                  "**lockedByApp**: The human-readable name of the application that is locking the envelope or template. This value displays to the user in error messages when lock conflicts occur.",
                  [
                    "**lockedByUser**: ",
                    {
                      "$ul": [
                        "**accountId**: The account ID associated with the envelope.",
                        "**accountName**: The name on the account.",
                        "**activationAccessCode**: Access code provided to the user to activate the account.",
                        "**email**: The user's email address.",
                        [
                          "**errorDetails**: This object describes errors that occur. It is only valid for responses and ignored in requests.",
                          {
                            "$ul": [
                              "**errorCode**: The code associated with the error condition.",
                              "**message**: A brief message describing the error condition."
                            ]
                          }
                        ],
                        "**ipAddress**: ",
                        "**loginStatus**: When **true,** indicates that the user is logged in. This is a read-only property.",
                        "**membershipId**: The user's membership ID.",
                        "**sendActivationEmail**: This field is no longer supported for most accounts. To create an eSignature user without sending an activation email, use the Admin API by following [these steps](/docs/admin-api/how-to/create-active-user/).",
                        "**uri**: A URI containing the user ID.",
                        "**userId**: The ID of the user to access.",
                        "**userName**: The name of the user.",
                        "**userStatus**: Status of the user's account. One of:",
                        "**userType**: The type of user, for example `CompanyUser`."
                      ]
                    }
                  ],
                  "**lockedUntilDateTime**: The date and time that the lock expires.",
                  "**useScratchPad**: When **true,** a scratchpad is used to edit information."
                ]
              }
            ],
            "**purgeState**: Shows the current purge state for the envelope. Valid values:",
            "**recipientUpdateResults**: An array of `recipientUpdateResults` objects that contain details about the recipients.",
            [
              "**tabUpdateResults**: All of the tabs associated with a recipient. Each property is a list of a type of tab.",
              {
                "$ul": [
                  "**approveTabs**: A list of",
                  "**checkboxTabs**: A list of",
                  "**commentThreadTabs**: An array of tabs that represents a collection of comments in a comment thread. For example, if a recipient has questions about the content of a document, they can add a comment to the document and control who else can see the comment. This value can't be set.",
                  "**commissionCountyTabs**: A list of",
                  "**commissionExpirationTabs**: A list of",
                  "**commissionNumberTabs**: A list of",
                  "**commissionStateTabs**: A list of",
                  "**companyTabs**: A list of",
                  "**dateSignedTabs**: A list of",
                  "**dateTabs**: A list of",
                  "**declineTabs**: A list of",
                  "**drawTabs**: A list of Draw Tabs.",
                  "**emailAddressTabs**: A list of",
                  "**emailTabs**: A list of",
                  "**envelopeIdTabs**: A list of",
                  "**firstNameTabs**: A list of",
                  "**formulaTabs**: A list of [Formula tabs][formulaTab].",
                  "**fullNameTabs**: A list of",
                  "**initialHereTabs**: A list of",
                  "**lastNameTabs**: A list of",
                  "**listTabs**: An array of List tabs.",
                  "**notarizeTabs**: A list of  [Notarize tabs][notarize].",
                  "**notarySealTabs**: A list of Notary Seal tabs.",
                  "**noteTabs**: A list of",
                  "**numberTabs**: A list of",
                  "**numericalTabs**: ",
                  "**phoneNumberTabs**: A list of",
                  "**polyLineOverlayTabs**: This type of tab enables the recipient to strike through document text. This value can't be set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ",
                  [
                    "**prefillTabs**: Prefill tabs are tabs",
                    {
                      "$ul": [
                        "**checkboxTabs**: A list of",
                        "**dateTabs**: A list of",
                        "**emailTabs**: A list of",
                        "**numberTabs**: A list of",
                        "**radioGroupTabs**: A list of [Radio Group tabs][radioGroup].",
                        "**senderCompanyTabs**: ",
                        "**senderNameTabs**: ",
                        "**ssnTabs**: A list of",
                        "**tabGroups**: An array of `tabGroup` items.",
                        "**textTabs**: A list of",
                        "**zipTabs**: A list of"
                      ]
                    }
                  ],
                  "**radioGroupTabs**: A list of [Radio Group tabs][radioGroup].",
                  "**signHereTabs**: A list of",
                  "**signerAttachmentTabs**: A list of",
                  "**smartSectionTabs**: A list of [Smart Section](https://www.docusign.com/blog/dsdev-deep-dive-responsive-smart-sections) tabs.",
                  "**ssnTabs**: A list of",
                  "**tabGroups**: An array of `tabGroup` items.",
                  "**textTabs**: A list of",
                  "**titleTabs**: A list of",
                  "**viewTabs**: A list of",
                  "**zipTabs**: A list of"
                ]
              }
            ],
            "**textCustomFieldUpdateResults**: "
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "This object describes errors that occur. It is only valid for responses and ignored in requests.",
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The code associated with the error condition.",
            "**message**: A brief message describing the error condition."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
