{
  "name": "Documents_GetDocument",
  "description": "Retrieves a single document or all documents from an envelope.\n\nTo retrieve a single document, provide the ID of the document in the `documentId` path parameter.\nAlternatively, by setting the `documentId` parameter to special keyword values,\nyou can retrieve all the documents (as a combined PDF, portfolio PDF, or ZIP archive)\nor just the certificate of completion. See the `documentId` description for how to retrieve each format.\n\n\nThe response body of this method\nis a file. If you request multiple documents,\nthe result is a ZIP archive\nthat contains all of the documents.\n\nIn all other cases, the response is a PDF\nfile or PDF portfolio.\n\n\nYou can get the file name and document ID from the response's `Content-Disposition` header:\n\n```\nContent-Disposition: file; filename=\"NDA.pdf\"; documentid=\"1\n```\n\nBy default, the response is the PDF file\nas a byte stream.\nFor example a request/response in `curl` looks like this:\n\n```\n$ curl --request GET 'https://demo.docusign.net/restapi/v2/accounts/0cdb3ff3-xxxx-xxxx-xxxx-e43af011006d/envelopes/ea4cc25b-xxxx-xxxx-xxxx-a67a0a2a4f6c/documents/1/' \\\n       --header 'Authorization: Bearer eyJ...bqg'\n\n\nHTTP/1.1 200 OK\nContent-Length: 167539\nContent-Type: application/pdf\n. . .\nContent-Disposition: file; filename=\"Lorem_Ipsum.pdf\"; documentid=\"1\"\nDate: Tue, 23 Aug 2022 01:13:15 GMT\n\n%PDF-1.4\n%˚¸˝˛\n6 0 obj\n<</Length 14>>stream\n. . .\n```\n\nBy using the `Content-Transfer-Encoding`\nheader in the request, you can obtain the PDF file\nencoded in base64. The same `curl` request with\nthe base64 header would look like this:\n\n```\n$ curl --request GET 'https://demo.docusign.net/restapi/v2/accounts/0cdb3ff3-xxxx-xxxx-xxxx-e43af011006d/envelopes/ea4cc25b-xxxx-xxxx-xxxx-a67a0a2a4f6c/documents/1/' \\\n       --header 'Authorization: Bearer eyJ...bqg' \\\n       --header 'Content-Transfer-Encoding: base64'\n\n\nHTTP/1.1 200 OK\nContent-Length: 223384\nContent-Type: application/pdf\n. . .\nContent-Disposition: file; filename=\"Lorem_Ipsum.pdf\"; documentid=\"1\"\nContent-Transfer-Encoding: base64\nDate: Tue, 23 Aug 2022 01:12:30 GMT\n\nJVBERi0xLjQKJfv8/f4KNiAwIG9iago8PC9MZW. . .==\n```\n\n\n(In an actual `curl` request you would use the `--output` switch to\nsave the byte stream into a file.)\n\n### Related topics\n\n- [How to download envelope documents](/docs/esign-rest-api/how-to/download-envelope-documents/)\n",
  "parameters": {
    "type": "object",
    "properties": {
      "accountId": {
        "type": "string",
        "description": "The external account number (int) or account ID GUID."
      },
      "documentId": {
        "type": "string",
        "description": "The ID of the document to retrieve. Alternatively, you can use one of the following special keywords:\n\n- `combined`: Retrieves all of the documents as a single PDF file.\n  When the query parameter `certificate` is **true,** the certificate of completion is included in the PDF file.\n  When the query parameter `certificate` is **false,** the certificate of completion is not included in the PDF file.\n- `archive`: Retrieves a ZIP archive that contains all of the PDF documents and the certificate of completion.\n- `certificate`: Retrieves only the certificate of completion as a PDF file.\n- `portfolio`: Retrieves the envelope documents as a [PDF portfolio](https://helpx.adobe.com/acrobat/using/overview-pdf-portfolios.html)."
      },
      "envelopeId": {
        "type": "string",
        "description": "The envelope's GUID. \n\nExample: `93be49ab-xxxx-xxxx-xxxx-f752070d71ec`\n"
      },
      "certificate": {
        "type": "string",
        "description": "Used only when the `documentId` parameter is the special keyword `combined`.\n\nWhen **true,** the certificate of completion is included in the combined PDF file.\nWhen **false,** (the default) the certificate of completion is not included in the combined PDF file.\n\n"
      },
      "documents_by_userid": {
        "type": "string",
        "description": "When **true,** allows recipients to get documents by their user id. For example, if a user is included in two different routing orders with different visibilities, using this parameter returns all of the documents from both routing orders."
      },
      "encoding": {
        "type": "string",
        "description": "Reserved for DocuSign."
      },
      "encrypt": {
        "type": "string",
        "description": "When **true,** the PDF bytes returned in the response are encrypted for all the key managers configured on your DocuSign account. You can decrypt the documents by using the Key Manager DecryptDocument API method. For more information about Key Manager, see the DocuSign Security Appliance Installation Guide that your organization received from DocuSign."
      },
      "language": {
        "type": "string",
        "description": "Specifies the language for the Certificate of Completion in the response. The supported languages are: Chinese Simplified (zh_CN), Chinese Traditional (zh_TW), Dutch (nl), English US (en), French (fr), German (de), Italian (it), Japanese (ja), Korean (ko), Portuguese (pt), Portuguese (Brazil) (pt_BR), Russian (ru), Spanish (es). "
      },
      "recipient_id": {
        "type": "string",
        "description": "Allows the sender to retrieve the documents as one of the recipients that they control. The `documents_by_userid` parameter must be set to **false** for this functionality to work."
      },
      "shared_user_id": {
        "type": "string",
        "description": "The ID of a shared user that you want to impersonate in order to\nretrieve their view of the list of documents. This parameter is\nused in the context of a shared inbox (i.e., when you share\nenvelopes from one user to another through the DocuSign Admin console)."
      },
      "show_changes": {
        "type": "string",
        "description": "When **true,** any changed fields for the returned PDF are highlighted in yellow and optional signatures or initials outlined in red. The account must have the **Highlight Data Changes** feature enabled."
      },
      "watermark": {
        "type": "string",
        "description": "When **true,** the account has the watermark feature enabled, and the envelope is not complete, then the watermark for the account is added to the PDF documents. This option can remove the watermark. "
      }
    },
    "required": [
      "accountId",
      "documentId",
      "envelopeId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://www.docusign.net/restapi/v2.1/accounts/{accountId}/envelopes/{envelopeId}/documents/{documentId}{?certificate,documents_by_userid,encoding,encrypt,language,recipient_id,shared_user_id,show_changes,watermark}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "This object describes errors that occur. It is only valid for responses and ignored in requests.",
        "**Key properties:**",
        {
          "$ul": [
            "**errorCode**: The code associated with the error condition.",
            "**message**: A brief message describing the error condition."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
