{
  "name": "playMediaOnQueue",
  "description": "playMedia",
  "parameters": {
    "type": "object",
    "properties": {
      "x-applecloudextension-session-id": {
        "maxLength": 128,
        "minLength": 1,
        "type": "string"
      },
      "x-applecloudextension-retry-count": {
        "format": "uint32",
        "minimum": 1,
        "type": "number"
      },
      "User-Agent": {
        "maxLength": 250,
        "pattern": "AppleCloudExtension/([0-9]+\\.[0-9]+\\.[0-9]+) *.*",
        "type": "string"
      },
      "Accept-Language": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/PlayMediaRequest"
      }
    },
    "required": [
      "x-applecloudextension-session-id",
      "User-Agent",
      "Accept-Language"
    ],
    "$defs": {
      "PlayMediaRequest": {
        "properties": {
          "constraints": {
            "$ref": "#/$defs/Constraints"
          },
          "userActivity": {
            "$ref": "#/$defs/UserActivity"
          },
          "version": {
            "pattern": "[0-9]+\\.[0-9]+\\.[0-9]+",
            "type": "string"
          }
        },
        "required": [
          "version",
          "userActivity",
          "constraints"
        ],
        "type": "object"
      },
      "Constraints": {
        "properties": {
          "allowExplicitContent": {
            "default": true,
            "type": "boolean"
          },
          "maximumQueueSegmentItemCount": {
            "default": 1000,
            "format": "uint32",
            "maximum": 1000,
            "minimum": 50,
            "type": "integer"
          },
          "updateUserTasteProfile": {
            "default": true,
            "type": "boolean"
          }
        },
        "type": "object"
      },
      "UserActivity": {
        "nullable": true,
        "properties": {
          "activityType": {
            "example": "com.mediastreamingservice.playmedia",
            "maxLength": 250,
            "type": "string"
          },
          "persistentIdentifier": {
            "maxLength": 250,
            "type": "string"
          },
          "title": {
            "maxLength": 250,
            "type": "string"
          },
          "userInfo": {
            "title": "UserActivityUserInfo",
            "type": "object"
          },
          "version": {
            "maxLength": 25,
            "pattern": "[0-9]+\\.[0-9]+\\.[0-9]+",
            "type": "string"
          }
        },
        "required": [
          "version",
          "activityType"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://cloudextension-testservice.local/api/queues/playMedia"
    },
    "headers": {
      "x-applecloudextension-session-id": {
        "$": "x-applecloudextension-session-id"
      },
      "x-applecloudextension-retry-count": {
        "$": "x-applecloudextension-retry-count"
      },
      "User-Agent": {
        "$": "User-Agent"
      },
      "Accept-Language": {
        "$": "Accept-Language"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**content**",
            "**contentItemsCount**",
            [
              "**controls**",
              {
                "$ul": [
                  [
                    "**default**",
                    {
                      "$ul": [
                        [
                          "**activity**",
                          {
                            "$ul": [
                              "**playElapsed**",
                              "**playElapsedInterval**",
                              "**playPaused** (default: 5)"
                            ]
                          }
                        ],
                        [
                          "**commands**",
                          {
                            "$ul": [
                              "**bookmarkTrack**",
                              "**dislikeTrack**",
                              "**likeTrack**",
                              "**nextTrack**",
                              "**preferSkipBackward**",
                              "**preferSkipForward**",
                              "**previousTrack**",
                              "**seekToPlaybackPosition**",
                              "**skipBackward**",
                              "**skipForward**"
                            ]
                          }
                        ],
                        "**scheme**"
                      ]
                    }
                  ]
                ]
              }
            ],
            "**identifier**",
            [
              "**insertPointer**",
              {
                "$ul": [
                  "**afterIdentifier**",
                  "**replace** (default: false)"
                ]
              }
            ],
            "**nextContentUrl**",
            [
              "**playPointer**",
              {
                "$ul": [
                  "**contentIdentifier**",
                  "**offsetInMillis**"
                ]
              }
            ],
            "**prerollSeconds**",
            "**previousContentUrl**",
            "**skipsRemaining**",
            "**version**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
