{
  "name": "teamsCreateMembership",
  "description": "Use this endpoint to invite a new member to join your team. If initiated from Client SDK, an email with a link to join the team will be sent to the new member's email address if the member doesn't exist in the project it will be created automatically. If initiated from server side SDKs, new member will automatically be added to the team.\n\nUse the 'URL' parameter to redirect the user from the invitation email back to your app. When the user is redirected, use the [Update Team Membership Status](/docs/client/teams#teamsUpdateMembershipStatus) endpoint to allow the user to accept the invitation to the team.  While calling from side SDKs the redirect url can be empty string.\n\nPlease note that in order to avoid a [Redirect Attacks](https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.md) the only valid redirect URL's are the once from domains you have set when added your platforms in the console interface.",
  "parameters": {
    "type": "object",
    "properties": {
      "teamId": {
        "type": "string",
        "x-example": "[TEAM_ID]",
        "description": "Team unique ID."
      },
      "body": {
        "properties": {
          "email": {
            "description": "New team member email.",
            "type": "string",
            "x-example": null
          },
          "name": {
            "description": "New team member name. Max length: 128 chars.",
            "type": "string",
            "x-example": null
          },
          "roles": {
            "description": "Array of strings. Use this param to set the user roles in the team. A role can be any string. Learn more about [roles and permissions](/docs/permissions). Max length for each role is 32 chars.",
            "items": {
              "type": "string"
            },
            "type": "array",
            "x-example": null
          },
          "url": {
            "description": "URL to redirect the user back to your app from the invitation email.  Only URLs from hostnames in your project platform list are allowed. This requirement helps to prevent an [open redirect](https://cheatsheetseries.owasp.org/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.html) attack against your project API.",
            "type": "string",
            "x-example": null
          }
        },
        "required": [
          "email",
          "roles",
          "url"
        ],
        "type": "object"
      }
    },
    "required": [
      "teamId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://appwrite.io/v1/teams/{teamId}/memberships"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Membership",
        "**Key properties:**",
        {
          "$ul": [
            "**$id**: Membership ID.",
            "**confirm**: User confirmation status, true if the user has joined the team or false otherwise.",
            "**email**: User email address.",
            "**invited**: Date, the user has been invited to join the team in Unix timestamp.",
            "**joined**: Date, the user has accepted the invitation to join the team in Unix timestamp.",
            "**name**: User name.",
            "**roles**: User list of roles",
            "**teamId**: Team ID.",
            "**userId**: User ID."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
