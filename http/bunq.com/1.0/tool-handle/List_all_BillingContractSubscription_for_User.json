{
  "name": "List_all_BillingContractSubscription_for_User",
  "description": "Get all subscription billing contract for the authenticated user.",
  "parameters": {
    "type": "object",
    "properties": {
      "userID": {
        "type": "integer",
        "description": ""
      },
      "Cache-Control": {
        "type": "string",
        "description": "The standard HTTP Cache-Control header is required for all signed requests."
      },
      "User-Agent": {
        "type": "string",
        "description": "The User-Agent header field should contain information about the user agent originating the request. There are no restrictions on the value of this header."
      },
      "X-Bunq-Language": {
        "type": "string",
        "description": "The X-Bunq-Language header must contain a preferred language indication. The value of this header is formatted as a ISO 639-1 language code plus a ISO 3166-1 alpha-2 country code, separated by an underscore. Currently only the languages en_US and nl_NL are supported. Anything else will default to en_US."
      },
      "X-Bunq-Region": {
        "type": "string",
        "description": "The X-Bunq-Region header must contain the region (country) of the client device. The value of this header is formatted as a ISO 639-1 language code plus a ISO 3166-1 alpha-2 country code, separated by an underscore."
      },
      "X-Bunq-Client-Request-Id": {
        "type": "string",
        "description": "This header must specify an ID with each request that is unique for the logged in user. There are no restrictions for the format of this ID. However, the server will respond with an error when the same ID is used again on the same DeviceServer."
      },
      "X-Bunq-Geolocation": {
        "type": "string",
        "description": "This header must specify the geolocation of the device. The format of this value is longitude latitude altitude radius country. The country is expected to be formatted of an ISO 3166-1 alpha-2 country code. When no geolocation is available or known the header must still be included but can be zero valued."
      },
      "X-Bunq-Client-Authentication": {
        "type": "string",
        "description": "The authentication token is used to authenticate the source of the API call. It is required by all API calls except for POST /v1/installation. It is important to note that the device and session calls are using the token from the response of the installation call, while all the other calls use the token from the response of the session-server call"
      }
    },
    "required": [
      "userID",
      "User-Agent",
      "X-Bunq-Client-Authentication"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://public-api.sandbox.bunq.com/v1/user/{userID}/billing-contract-subscription"
    },
    "headers": {
      "Cache-Control": {
        "$": "Cache-Control"
      },
      "User-Agent": {
        "$": "User-Agent"
      },
      "X-Bunq-Language": {
        "$": "X-Bunq-Language"
      },
      "X-Bunq-Region": {
        "$": "X-Bunq-Region"
      },
      "X-Bunq-Client-Request-Id": {
        "$": "X-Bunq-Client-Request-Id"
      },
      "X-Bunq-Geolocation": {
        "$": "X-Bunq-Geolocation"
      },
      "X-Bunq-Client-Authentication": {
        "$": "X-Bunq-Client-Authentication"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "List"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**contract_date_end**: The date until when the billing contract is valid.",
            "**contract_date_start**: The date from when the billing contract is valid.",
            "**contract_version**: The version of the billing contract.",
            "**created**: The timestamp when the billing contract was made.",
            "**id**: The id of the billing contract.",
            "**status**: The subscription status.",
            "**sub_status**: The subscription substatus.",
            "**subscription_type**: The subscription type of the user. Can be one of PERSON_SUPER_LIGHT_V1, PERSON_LIGHT_V1, PERSON_MORE_V1, PERSON_FREE_V1, PERSON_PREMIUM_V1, COMPANY_V1, or COMPANY_V2.",
            "**subscription_type_downgrade**: The subscription type the user will have after a subscription downgrade. Will be null if downgrading is not possible.",
            "**updated**: The timestamp when the billing contract was last updated."
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": "Item"
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**Error**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
