{
  "name": "READ_MastercardAction_for_User_MonetaryAccount",
  "description": "MasterCard transaction view.",
  "parameters": {
    "type": "object",
    "properties": {
      "userID": {
        "type": "integer",
        "description": ""
      },
      "monetary-accountID": {
        "type": "integer",
        "description": ""
      },
      "itemId": {
        "type": "integer",
        "description": ""
      },
      "Cache-Control": {
        "type": "string",
        "description": "The standard HTTP Cache-Control header is required for all signed requests."
      },
      "User-Agent": {
        "type": "string",
        "description": "The User-Agent header field should contain information about the user agent originating the request. There are no restrictions on the value of this header."
      },
      "X-Bunq-Language": {
        "type": "string",
        "description": "The X-Bunq-Language header must contain a preferred language indication. The value of this header is formatted as a ISO 639-1 language code plus a ISO 3166-1 alpha-2 country code, separated by an underscore. Currently only the languages en_US and nl_NL are supported. Anything else will default to en_US."
      },
      "X-Bunq-Region": {
        "type": "string",
        "description": "The X-Bunq-Region header must contain the region (country) of the client device. The value of this header is formatted as a ISO 639-1 language code plus a ISO 3166-1 alpha-2 country code, separated by an underscore."
      },
      "X-Bunq-Client-Request-Id": {
        "type": "string",
        "description": "This header must specify an ID with each request that is unique for the logged in user. There are no restrictions for the format of this ID. However, the server will respond with an error when the same ID is used again on the same DeviceServer."
      },
      "X-Bunq-Geolocation": {
        "type": "string",
        "description": "This header must specify the geolocation of the device. The format of this value is longitude latitude altitude radius country. The country is expected to be formatted of an ISO 3166-1 alpha-2 country code. When no geolocation is available or known the header must still be included but can be zero valued."
      },
      "X-Bunq-Client-Authentication": {
        "type": "string",
        "description": "The authentication token is used to authenticate the source of the API call. It is required by all API calls except for POST /v1/installation. It is important to note that the device and session calls are using the token from the response of the installation call, while all the other calls use the token from the response of the session-server call"
      }
    },
    "required": [
      "userID",
      "monetary-accountID",
      "itemId",
      "User-Agent",
      "X-Bunq-Client-Authentication"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://public-api.sandbox.bunq.com/v1/user/{userID}/monetary-account/{monetary-accountID}/mastercard-action/{itemId}"
    },
    "headers": {
      "Cache-Control": {
        "$": "Cache-Control"
      },
      "User-Agent": {
        "$": "User-Agent"
      },
      "X-Bunq-Language": {
        "$": "X-Bunq-Language"
      },
      "X-Bunq-Region": {
        "$": "X-Bunq-Region"
      },
      "X-Bunq-Client-Request-Id": {
        "$": "X-Bunq-Client-Request-Id"
      },
      "X-Bunq-Geolocation": {
        "$": "X-Bunq-Geolocation"
      },
      "X-Bunq-Client-Authentication": {
        "$": "X-Bunq-Client-Authentication"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**alias**",
              {
                "$ul": [
                  [
                    "**avatar**",
                    {
                      "$ul": [
                        "**anchor_uuid**: The public UUID of object this avatar is anchored to.",
                        "**image**: The actual image information of this avatar.",
                        "**style**: The style (if applicable) for this Avatar.",
                        "**uuid**: The public UUID of the avatar."
                      ]
                    }
                  ],
                  [
                    "**bunq_me**",
                    {
                      "$ul": [
                        "**name**: The alias name.",
                        "**service**: The pointer service. Only required for external counterparties.",
                        "**type**: The alias type, can be: EMAIL|PHONE_NUMBER|IBAN.",
                        "**value**: The alias value."
                      ]
                    }
                  ],
                  "**country**: The country of the user. Formatted as a ISO 3166-1 alpha-2 country code.",
                  "**display_name**: The name to display with this monetary account.",
                  "**iban**: The IBAN of the monetary account.",
                  "**is_light**: Whether or not the monetary account is light.",
                  [
                    "**label_user**",
                    {
                      "$ul": [
                        [
                          "**avatar**",
                          {
                            "$ul": [
                              "**anchor_uuid**: The public UUID of object this avatar is anchored to.",
                              "**image**: The actual image information of this avatar.",
                              "**style**: The style (if applicable) for this Avatar.",
                              "**uuid**: The public UUID of the avatar."
                            ]
                          }
                        ],
                        "**country**: The country of the user. 000 stands for \"unknown\"",
                        "**display_name**: The name to be displayed for this user, as it was given on the request.",
                        "**public_nick_name**: The current nickname of the user.",
                        "**uuid**: The public UUID of the label-user."
                      ]
                    }
                  ],
                  "**merchant_category_code**: The merchant category code.",
                  "**swift_account_number**: The account number used for a SWIFT payment. May or may not be an IBAN.",
                  "**swift_bic**: The BIC used for a SWIFT payment.",
                  "**transferwise_account_number**: The account number used for a Transferwise payment. May or may not be an IBAN.",
                  "**transferwise_bank_code**: The bank code used for a Transferwise payment. May or may not be a BIC."
                ]
              }
            ],
            "**all_mastercard_action_refund**: A reference to the Refunds if they exist.",
            [
              "**amount_billing**",
              {
                "$ul": [
                  "**currency**: The currency of the amount. It is an ISO 4217 formatted currency code.",
                  "**value**: The amount formatted to two decimal places."
                ]
              }
            ],
            [
              "**amount_converted**",
              {
                "$ul": [
                  "**currency**: The currency of the amount. It is an ISO 4217 formatted currency code.",
                  "**value**: The amount formatted to two decimal places."
                ]
              }
            ],
            [
              "**amount_fee**",
              {
                "$ul": [
                  "**currency**: The currency of the amount. It is an ISO 4217 formatted currency code.",
                  "**value**: The amount formatted to two decimal places."
                ]
              }
            ],
            [
              "**amount_local**",
              {
                "$ul": [
                  "**currency**: The currency of the amount. It is an ISO 4217 formatted currency code.",
                  "**value**: The amount formatted to two decimal places."
                ]
              }
            ],
            [
              "**amount_original_billing**",
              {
                "$ul": [
                  "**currency**: The currency of the amount. It is an ISO 4217 formatted currency code.",
                  "**value**: The amount formatted to two decimal places."
                ]
              }
            ],
            [
              "**amount_original_local**",
              {
                "$ul": [
                  "**currency**: The currency of the amount. It is an ISO 4217 formatted currency code.",
                  "**value**: The amount formatted to two decimal places."
                ]
              }
            ],
            "**applied_limit**: The type of the limit applied to validate if this MasterCardAction was within the spending limits. The returned string matches the limit types as defined in the card endpoint.",
            "**authorisation_status**: The status in the authorisation process.",
            "**authorisation_type**: The type of transaction that was delivered using the card.",
            "**card_authorisation_id_response**: The response code by which authorised transaction can be identified as authorised by bunq.",
            "**card_id**: The id of the card this action links to.",
            "**city**: The city where the message originates from as announced by the terminal.",
            "**clearing_expiry_time**: The time when the processing of the clearing is expired, refunding the authorisation.",
            "**clearing_status**: The clearing status of the authorisation. Can be 'PENDING', 'FIRST_PRESENTMENT_COMPLETE' or 'REFUND_LENIENCY'.",
            [
              "**counterparty_alias**",
              {
                "$ul": [
                  [
                    "**avatar**",
                    {
                      "$ul": [
                        "**anchor_uuid**: The public UUID of object this avatar is anchored to.",
                        "**image**: The actual image information of this avatar.",
                        "**style**: The style (if applicable) for this Avatar.",
                        "**uuid**: The public UUID of the avatar."
                      ]
                    }
                  ],
                  [
                    "**bunq_me**",
                    {
                      "$ul": [
                        "**name**: The alias name.",
                        "**service**: The pointer service. Only required for external counterparties.",
                        "**type**: The alias type, can be: EMAIL|PHONE_NUMBER|IBAN.",
                        "**value**: The alias value."
                      ]
                    }
                  ],
                  "**country**: The country of the user. Formatted as a ISO 3166-1 alpha-2 country code.",
                  "**display_name**: The name to display with this monetary account.",
                  "**iban**: The IBAN of the monetary account.",
                  "**is_light**: Whether or not the monetary account is light.",
                  [
                    "**label_user**",
                    {
                      "$ul": [
                        [
                          "**avatar**",
                          {
                            "$ul": [
                              "**anchor_uuid**: The public UUID of object this avatar is anchored to.",
                              "**image**: The actual image information of this avatar.",
                              "**style**: The style (if applicable) for this Avatar.",
                              "**uuid**: The public UUID of the avatar."
                            ]
                          }
                        ],
                        "**country**: The country of the user. 000 stands for \"unknown\"",
                        "**display_name**: The name to be displayed for this user, as it was given on the request.",
                        "**public_nick_name**: The current nickname of the user.",
                        "**uuid**: The public UUID of the label-user."
                      ]
                    }
                  ],
                  "**merchant_category_code**: The merchant category code.",
                  "**swift_account_number**: The account number used for a SWIFT payment. May or may not be an IBAN.",
                  "**swift_bic**: The BIC used for a SWIFT payment.",
                  "**transferwise_account_number**: The account number used for a Transferwise payment. May or may not be an IBAN.",
                  "**transferwise_bank_code**: The bank code used for a Transferwise payment. May or may not be a BIC."
                ]
              }
            ],
            "**decision**: Why the transaction was denied, if it was denied, or just ALLOWED.",
            "**decision_description**: Empty if allowed, otherwise a textual explanation of why it was denied.",
            "**decision_description_translated**: Empty if allowed, otherwise a textual explanation of why it was denied in user's language.",
            "**decision_together_url**: Empty if allowed or if no relevant Together topic exists, otherwise contains the URL for a Together topic with more information about the decision.",
            "**description**: The description for this transaction to display.",
            "**eligible_whitelist_id**: The whitelist id for this action or null.",
            "**id**: The id of the MastercardAction.",
            [
              "**label_card**",
              {
                "$ul": [
                  "**expiry_date**: The date this card will expire.",
                  [
                    "**label_user**",
                    {
                      "$ul": [
                        [
                          "**avatar**",
                          {
                            "$ul": [
                              "**anchor_uuid**: The public UUID of object this avatar is anchored to.",
                              "**image**: The actual image information of this avatar.",
                              "**style**: The style (if applicable) for this Avatar.",
                              "**uuid**: The public UUID of the avatar."
                            ]
                          }
                        ],
                        "**country**: The country of the user. 000 stands for \"unknown\"",
                        "**display_name**: The name to be displayed for this user, as it was given on the request.",
                        "**public_nick_name**: The current nickname of the user.",
                        "**uuid**: The public UUID of the label-user."
                      ]
                    }
                  ],
                  "**second_line**: The second line on the card.",
                  "**status**: The status of the card.",
                  "**type**: The type of the card.",
                  "**uuid**: The public UUID."
                ]
              }
            ],
            "**maturity_date**: The maturity date.",
            "**monetary_account_id**: The id of the monetary account this action links to.",
            "**pan_entry_mode_user**: The type of entry mode the user used. Can be 'ATM', 'ICC', 'MAGNETIC_STRIPE' or 'E_COMMERCE'.",
            "**payment_status**: The payment status of the transaction. For example PAYMENT_SUCCESSFUL, for a successful payment.",
            "**pos_card_holder_presence**: The Card Holder Presence type of the POS.",
            "**pos_card_presence**: The Card Presence type of the POS.",
            "**request_reference_split_the_bill**: The reference to the object used for split the bill. Can be RequestInquiry or RequestInquiryBatch",
            "**reservation_expiry_time**: If this is a reservation, the moment the reservation will expire.",
            "**secure_code_id**: The secure code id for this mastercard action or null.",
            "**settlement_status**: The setlement status in the authorisation process.",
            "**token_status**: If this is a tokenisation action, this shows the status of the token.",
            "**wallet_provider_id**: The ID of the wallet provider as defined by MasterCard. 420 = bunq Android app with Tap&Pay; 103 = Apple Pay."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**Error**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
