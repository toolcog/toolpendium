{
  "name": "Import_targets",
  "description": "",
  "parameters": {
    "type": "object",
    "properties": {
      "orgId": {
        "type": "string",
        "description": "The organization ID. The `API_KEY` must have admin access to this organization."
      },
      "integrationId": {
        "type": "string",
        "description": "The unique identifier for the configured integration. This can be found on the [Integration page in the Settings area](https://app.snyk.io/manage/integrations) for all integrations that have been configured."
      },
      "body": {
        "anyOf": [
          {
            "example": {
              "files": [
                {
                  "path": "example/package.json"
                }
              ],
              "target": {
                "branch": "main",
                "name": "goof",
                "owner": "org-security"
              }
            },
            "properties": {
              "exclusionGlobs": {
                "description": "a comma-separated list of up to 10 folder names to exclude from scanning (each folder name must not exceed 100 characters). If not specified, it will default to \"fixtures, tests, \\_\\_tests\\_\\_, node_modules\". If an empty string is provided - no folders will be excluded. This attribute is only respected with Open Source and Container scan targets.",
                "type": "string"
              },
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "branch": {
                    "description": "default branch of the repo (Please contact support if you want to import a non default repo branch)",
                    "type": "string"
                  },
                  "name": {
                    "description": "name of the repo",
                    "type": "string"
                  },
                  "owner": {
                    "description": "for Github: account owner of the repository; for Azure Repos, this is `Project ID`",
                    "type": "string"
                  }
                },
                "required": [
                  "owner",
                  "name",
                  "branch"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "files": [
                {
                  "path": "example/package.json"
                }
              ],
              "target": {
                "branch": "develop",
                "id": 11
              }
            },
            "properties": {
              "exclusionGlobs": {
                "description": "a comma-separated list of up to 10 folder names to exclude from scanning. If not specified, it will default to \"fixtures, tests, \\_\\_tests\\_\\_, node_modules\". If an empty string is provided - no folders will be excluded. This attribute is only respected with Open Source and Container scan targets.",
                "type": "string"
              },
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "branch": {
                    "description": "repo branch",
                    "type": "string"
                  },
                  "id": {
                    "description": "id of the repo",
                    "type": "number"
                  }
                },
                "required": [
                  "id",
                  "branch"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "files": [
                {
                  "path": "example/package.json"
                }
              ],
              "target": {
                "name": "goof",
                "owner": "org-security"
              }
            },
            "properties": {
              "exclusionGlobs": {
                "description": "a comma-separated list of up to 10 folder names to exclude from scanning (each folder name must not exceed 100 characters). If not specified, it will default to \"fixtures, tests, \\_\\_tests\\_\\_, node_modules\". If an empty string is provided - no folders will be excluded. This attribute is only respected with Open Source and Container scan targets.",
                "type": "string"
              },
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "name": {
                    "description": "name of the repo",
                    "type": "string"
                  },
                  "owner": {
                    "description": "this is the `Workspace ID`",
                    "type": "string"
                  }
                },
                "required": [
                  "owner",
                  "name"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "files": [
                {
                  "path": "example/package.json"
                }
              ],
              "target": {
                "projectKey": "SNYK_REPOS",
                "repoSlug": "test"
              }
            },
            "properties": {
              "exclusionGlobs": {
                "description": "a comma-separated list of up to 10 folder names to exclude from scanning. If not specified, it will default to \"fixtures, tests, \\_\\_tests\\_\\_, node_modules\". If an empty string is provided - no folders will be excluded. This attribute is only respected with Open Source and Container scan targets.",
                "type": "string"
              },
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "branch": {
                    "description": "target branch name",
                    "type": "string"
                  },
                  "name": {
                    "description": "custom name for the project",
                    "type": "string"
                  },
                  "projectKey": {
                    "description": "project key",
                    "type": "string"
                  },
                  "repoSlug": {
                    "description": "slug of the repo",
                    "type": "string"
                  }
                },
                "required": [
                  "projectKey",
                  "repoSlug"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "files": [
                {
                  "path": ""
                }
              ],
              "target": {
                "appId": "",
                "slugId": ""
              }
            },
            "properties": {
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "appId": {
                    "description": "ID of the app",
                    "type": "string"
                  },
                  "slugId": {
                    "description": "ID of the slug",
                    "type": "string"
                  }
                },
                "required": [
                  "appId",
                  "slugId"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "files": [
                {
                  "path": ""
                }
              ],
              "target": {
                "functionId": ""
              }
            },
            "properties": {
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "functionId": {
                    "description": "ID of the app",
                    "type": "string"
                  }
                },
                "required": [
                  "functionId"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "files": [
                {
                  "path": ""
                }
              ],
              "target": {
                "appId": ""
              }
            },
            "properties": {
              "files": {
                "description": "an array of file objects",
                "items": {},
                "type": "array"
              },
              "target": {
                "properties": {
                  "appId": {
                    "description": "ID of the app",
                    "type": "string"
                  }
                },
                "required": [
                  "appId"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "target": {
                "name": "organization/repository:tag"
              }
            },
            "properties": {
              "target": {
                "properties": {
                  "name": {
                    "description": "image name including tag prefixed by organization name",
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "target": {
                "name": "repository:tag"
              }
            },
            "properties": {
              "target": {
                "properties": {
                  "name": {
                    "description": "image name including tag",
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          {
            "example": {
              "target": {
                "name": "project/repository:tag"
              }
            },
            "properties": {
              "target": {
                "properties": {
                  "name": {
                    "description": "image name including tag prefixed by project id or project name",
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ],
                "type": "object"
              }
            },
            "type": "object"
          }
        ]
      }
    },
    "required": [
      "orgId",
      "integrationId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.snyk.io/v1/org/{orgId}/integrations/{integrationId}/import"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {}
}
