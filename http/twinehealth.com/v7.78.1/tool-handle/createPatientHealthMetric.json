{
  "name": "createPatientHealthMetric",
  "description": "Create one or more patient health metrics.\n\nExample for creating a patient health result with a patient specified using `meta.query` instead of `id`:\n\n```JSON\n  {\n    \"data\": {\n      \"type\": \"patient_health_metric\",\n       \"attributes\": {\n         \"code\": {\n           \"system\": \"LOINC\",\n           \"value\": \"13457-7\"\n         },\n         \"type\": \"ldl_cholesterol\",\n         \"occurred_at\": \"2017-03-14T11:00:57.000Z\",\n         \"value\": 121,\n         \"unit\": \"mg/dl\"\n      },\n      \"relationships\": {\n        \"patient\": {\n          \"data\": {\n            \"type\": \"patient\",\n            \"meta\": {\n              \"query\": {\n                \"identifier\": {\n                  \"system\": \"medical-record-number\",\n                  \"value\": \"121212\"\n                },\n                \"organization\": \"58c4554710123c5c40dbab81\"\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n```\n",
  "parameters": {
    "type": "object"
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.twinehealth.com/pub/patient_health_metric"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**data**",
              {
                "$ul": [
                  [
                    "**attributes**",
                    {
                      "$ul": [
                        [
                          "**code**",
                          {
                            "$ul": [
                              "**system**",
                              "**value**"
                            ]
                          }
                        ],
                        "**diastolic**",
                        "**occurred_at**",
                        "**systolic**",
                        "**type**",
                        "**unit**",
                        "**value**: Can be any value (number, boolean, string, object) depending on the metric type. Most values are of type number."
                      ]
                    }
                  ],
                  "**id**",
                  [
                    "**relationships**",
                    {
                      "$ul": [
                        [
                          "**patient**",
                          {
                            "$ul": [
                              [
                                "**data**",
                                {
                                  "$ul": [
                                    "**id**: Required if the `meta.query` is not defined.",
                                    [
                                      "**meta**: Allows the specification of a query for a patient rather than providing a patient id directly",
                                      {
                                        "$ul": [
                                          [
                                            "**query**: The query must return one and only one patient.",
                                            {
                                              "$ul": [
                                                "**groups**",
                                                [
                                                  "**identifier**",
                                                  {
                                                    "$ul": [
                                                      "**system**",
                                                      "**value**"
                                                    ]
                                                  }
                                                ],
                                                "**organization**"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ],
                                    "**type**"
                                  ]
                                }
                              ],
                              "**links**"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  "**type**"
                ]
              }
            ],
            [
              "**meta**",
              {
                "$ul": [
                  "**ignored**",
                  "**req_id**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**errors**",
              {
                "$ul": [
                  "**code**",
                  "**detail**",
                  [
                    "**source**",
                    {
                      "$ul": [
                        "**parameter**",
                        "**pointer**"
                      ]
                    }
                  ],
                  "**status**",
                  "**title**"
                ]
              }
            ],
            [
              "**meta**",
              {
                "$ul": [
                  "**ignored**",
                  "**req_id**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**errors**",
              {
                "$ul": [
                  "**code**",
                  "**detail**",
                  [
                    "**source**",
                    {
                      "$ul": [
                        "**parameter**",
                        "**pointer**"
                      ]
                    }
                  ],
                  "**status**",
                  "**title**"
                ]
              }
            ],
            [
              "**meta**",
              {
                "$ul": [
                  "**ignored**",
                  "**req_id**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "409": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**errors**",
              {
                "$ul": [
                  "**code**",
                  "**detail**",
                  [
                    "**source**",
                    {
                      "$ul": [
                        "**parameter**",
                        "**pointer**"
                      ]
                    }
                  ],
                  "**status**",
                  "**title**"
                ]
              }
            ],
            [
              "**meta**",
              {
                "$ul": [
                  "**ignored**",
                  "**req_id**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
