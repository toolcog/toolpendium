{
  "name": "UpdateAnnotation",
  "description": "Update an Annotation for a specific Call.",
  "parameters": {
    "type": "object",
    "properties": {
      "CallSid": {
        "maxLength": 34,
        "minLength": 34,
        "pattern": "^CA[0-9a-fA-F]{32}$",
        "type": "string",
        "description": "The unique string that Twilio created to identify this Call resource. It always starts with a CA."
      },
      "body": {
        "properties": {
          "AnsweredBy": {
            "$ref": "#/$defs/annotation_enum_answered_by"
          },
          "CallScore": {
            "description": "Specify the call score. This is of type integer. Use a range of 1-5 to indicate the call experience score, with the following mapping as a reference for rating the call [5: Excellent, 4: Good, 3 : Fair, 2 : Poor, 1: Bad].",
            "nullable": true,
            "type": "integer"
          },
          "Comment": {
            "description": "Specify any comments pertaining to the call. `comment` has a maximum character limit of 100. Twilio does not treat this field as PII, so no PII should be included in the `comment`.",
            "type": "string"
          },
          "ConnectivityIssue": {
            "$ref": "#/$defs/annotation_enum_connectivity_issue"
          },
          "Incident": {
            "description": "Associate this call with an incident or support ticket. The `incident` parameter is of type string with a maximum character limit of 100. Twilio does not treat this field as PII, so no PII should be included in `incident`.",
            "type": "string"
          },
          "QualityIssues": {
            "description": "Specify if the call had any subjective quality issues. Possible values, one or more of `no_quality_issue`, `low_volume`, `choppy_robotic`, `echo`, `dtmf`, `latency`, `owa`, `static_noise`. Use comma separated values to indicate multiple quality issues for the same call.",
            "type": "string"
          },
          "Spam": {
            "description": "A boolean flag to indicate if the call was a spam call. Use this to provide feedback on whether calls placed from your account were marked as spam, or if inbound calls received by your account were unwanted spam. Use `true` if the call was a spam call.",
            "type": "boolean"
          }
        },
        "title": "UpdateAnnotationRequest",
        "type": "object"
      }
    },
    "required": [
      "CallSid"
    ],
    "$defs": {
      "annotation_enum_answered_by": {
        "enum": [
          "unknown_answered_by",
          "human",
          "machine"
        ],
        "type": "string"
      },
      "annotation_enum_connectivity_issue": {
        "enum": [
          "unknown_connectivity_issue",
          "no_connectivity_issue",
          "invalid_number",
          "caller_id",
          "dropped_call",
          "number_reachability"
        ],
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://insights.twilio.com/v1/Voice/{CallSid}/Annotation"
    },
    "body": {
      "$": "body",
      "encode": "urlencoded"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**account_sid**: The unique SID identifier of the Account.",
            "**answered_by**",
            "**call_score**: Specifies the Call Score, if available. This is of type integer. Use a range of 1-5 to indicate the call experience score, with the following mapping as a reference for rating the call [5: Excellent, 4: Good, 3 : Fair, 2 : Poor, 1: Bad].",
            "**call_sid**: The unique SID identifier of the Call.",
            "**comment**: Specifies any comments pertaining to the call. Twilio does not treat this field as PII, so no PII should be included in comments.",
            "**connectivity_issue**",
            "**incident**: Incident or support ticket associated with this call. The `incident` property is of type string with a maximum character limit of 100. Twilio does not treat this field as PII, so no PII should be included in `incident`.",
            "**quality_issues**: Specifies if the call had any subjective quality issues. Possible values are one or more of `no_quality_issue`, `low_volume`, `choppy_robotic`, `echo`, `dtmf`, `latency`, `owa`, or `static_noise`.",
            "**spam**: Specifies if the call was a spam call. Use this to provide feedback on whether calls placed from your account were marked as spam, or if inbound calls received by your account were unwanted spam. Is of type Boolean: true, false. Use true if the call was a spam call.",
            "**url**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
