{
  "name": "CreateChallenge",
  "description": "Create a new Challenge for the Factor",
  "parameters": {
    "type": "object",
    "properties": {
      "ServiceSid": {
        "maxLength": 34,
        "minLength": 34,
        "pattern": "^VA[0-9a-fA-F]{32}$",
        "type": "string",
        "description": "The unique SID identifier of the Service."
      },
      "Identity": {
        "type": "string",
        "description": "Customer unique identity for the Entity owner of the Challenge. This identifier should be immutable, not PII, length between 8 and 64 characters, and generated by your external system, such as your user's UUID, GUID, or SID. It can only contain dash (-) separated alphanumeric characters."
      },
      "body": {
        "properties": {
          "AuthPayload": {
            "description": "Optional payload used to verify the Challenge upon creation. Only used with a Factor of type `totp` to carry the TOTP code that needs to be verified. For `TOTP` this value must be between 3 and 8 characters long.",
            "type": "string"
          },
          "Details.Fields": {
            "description": "A list of objects that describe the Fields included in the Challenge. Each object contains the label and value of the field, the label can be up to 36 characters in length and the value can be up to 128 characters in length. Used when `factor_type` is `push`. There can be up to 20 details fields.",
            "items": {},
            "type": "array"
          },
          "Details.Message": {
            "description": "Shown to the user when the push notification arrives. Required when `factor_type` is `push`. Can be up to 256 characters in length",
            "type": "string"
          },
          "ExpirationDate": {
            "description": "The date-time when this Challenge expires, given in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format. The default value is five (5) minutes after Challenge creation. The max value is sixty (60) minutes after creation.",
            "format": "date-time",
            "type": "string"
          },
          "FactorSid": {
            "description": "The unique SID identifier of the Factor.",
            "maxLength": 34,
            "minLength": 34,
            "pattern": "^YF[0-9a-fA-F]{32}$",
            "type": "string"
          },
          "HiddenDetails": {
            "description": "Details provided to give context about the Challenge. Not shown to the end user. It must be a stringified JSON with only strings values eg. `{\"ip\": \"172.168.1.234\"}`. Can be up to 1024 characters in length"
          }
        },
        "required": [
          "FactorSid"
        ],
        "title": "CreateChallengeRequest",
        "type": "object"
      }
    },
    "required": [
      "ServiceSid",
      "Identity"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://verify.twilio.com/v2/Services/{ServiceSid}/Entities/{Identity}/Challenges"
    },
    "body": {
      "$": "body",
      "encode": "urlencoded"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**account_sid**: The unique SID identifier of the Account.",
            "**date_created**: The date that this Challenge was created, given in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format.",
            "**date_responded**: The date that this Challenge was responded, given in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format.",
            "**date_updated**: The date that this Challenge was updated, given in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format.",
            "**details**: Details provided to give context about the Challenge. Intended to be shown to the end user.",
            "**entity_sid**: The unique SID identifier of the Entity.",
            "**expiration_date**: The date-time when this Challenge expires, given in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format. The default value is five (5) minutes after Challenge creation. The max value is sixty (60) minutes after creation.",
            "**factor_sid**: The unique SID identifier of the Factor.",
            "**factor_type**",
            "**hidden_details**: Details provided to give context about the Challenge. Intended to be hidden from the end user. It must be a stringified JSON with only strings values eg. `{\"ip\": \"172.168.1.234\"}`",
            "**identity**: Customer unique identity for the Entity owner of the Challenge. This identifier should be immutable, not PII, length between 8 and 64 characters, and generated by your external system, such as your user's UUID, GUID, or SID. It can only contain dash (-) separated alphanumeric characters.",
            "**links**: Contains a dictionary of URL links to nested resources of this Challenge.",
            "**metadata**: Custom metadata associated with the challenge. This is added by the Device/SDK directly to allow for the inclusion of device information. It must be a stringified JSON with only strings values eg. `{\"os\": \"Android\"}`. Can be up to 1024 characters in length.",
            "**responded_reason**",
            "**service_sid**: The unique SID identifier of the Service.",
            "**sid**: A 34 character string that uniquely identifies this Challenge.",
            "**status**",
            "**url**: The URL of this resource."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
