{
  "name": "CreateAccessToken",
  "description": "Create a new enrollment Access Token for the Entity",
  "parameters": {
    "type": "object",
    "properties": {
      "ServiceSid": {
        "maxLength": 34,
        "minLength": 34,
        "pattern": "^VA[0-9a-fA-F]{32}$",
        "type": "string",
        "description": "The unique SID identifier of the Service."
      },
      "body": {
        "properties": {
          "FactorFriendlyName": {
            "description": "The friendly name of the factor that is going to be created with this access token",
            "type": "string"
          },
          "FactorType": {
            "$ref": "#/$defs/access_token_enum_factor_types"
          },
          "Identity": {
            "description": "The unique external identifier for the Entity of the Service. This identifier should be immutable, not PII, and generated by your external system, such as your user's UUID, GUID, or SID.",
            "type": "string"
          },
          "Ttl": {
            "description": "How long, in seconds, the access token is valid. Can be an integer between 60 and 300. Default is 60.",
            "type": "integer"
          }
        },
        "required": [
          "Identity",
          "FactorType"
        ],
        "title": "CreateAccessTokenRequest",
        "type": "object"
      }
    },
    "required": [
      "ServiceSid"
    ],
    "$defs": {
      "access_token_enum_factor_types": {
        "enum": [
          "push"
        ],
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://verify.twilio.com/v2/Services/{ServiceSid}/AccessTokens"
    },
    "body": {
      "$": "body",
      "encode": "urlencoded"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**account_sid**: The unique SID identifier of the Account.",
            "**date_created**: The date that this access token was created, given in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format.",
            "**entity_identity**: The unique external identifier for the Entity of the Service.",
            "**factor_friendly_name**: A human readable description of this factor, up to 64 characters. For a push factor, this can be the device's name.",
            "**factor_type**",
            "**service_sid**: The unique SID identifier of the Verify Service.",
            "**sid**: A 34 character string that uniquely identifies this Access Token.",
            "**token**: The access token generated for enrollment, this is an encrypted json web token.",
            "**ttl**: How long, in seconds, the access token is valid. Max: 5 minutes",
            "**url**: The URL of this resource."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
