{
  "name": "CreateUsageTrigger",
  "description": "Create a new UsageTrigger",
  "parameters": {
    "type": "object",
    "properties": {
      "AccountSid": {
        "maxLength": 34,
        "minLength": 34,
        "pattern": "^AC[0-9a-fA-F]{32}$",
        "type": "string",
        "description": "The SID of the [Account](https://www.twilio.com/docs/iam/api/account) that will create the resource."
      },
      "body": {
        "properties": {
          "CallbackMethod": {
            "description": "The HTTP method we should use to call `callback_url`. Can be: `GET` or `POST` and the default is `POST`.",
            "enum": [
              "HEAD",
              "GET",
              "POST",
              "PATCH",
              "PUT",
              "DELETE"
            ],
            "format": "http-method",
            "type": "string"
          },
          "CallbackUrl": {
            "description": "The URL we should call using `callback_method` when the trigger fires.",
            "format": "uri",
            "type": "string"
          },
          "FriendlyName": {
            "description": "A descriptive string that you create to describe the resource. It can be up to 64 characters long.",
            "type": "string"
          },
          "Recurring": {
            "$ref": "#/$defs/usage_trigger_enum_recurring"
          },
          "TriggerBy": {
            "$ref": "#/$defs/usage_trigger_enum_trigger_field"
          },
          "TriggerValue": {
            "description": "The usage value at which the trigger should fire.  For convenience, you can use an offset value such as `+30` to specify a trigger_value that is 30 units more than the current usage value. Be sure to urlencode a `+` as `%2B`.",
            "type": "string"
          },
          "UsageCategory": {
            "$ref": "#/$defs/usage_trigger_enum_usage_category"
          }
        },
        "required": [
          "CallbackUrl",
          "TriggerValue",
          "UsageCategory"
        ],
        "title": "CreateUsageTriggerRequest",
        "type": "object"
      }
    },
    "required": [
      "AccountSid"
    ],
    "$defs": {
      "usage_trigger_enum_recurring": {
        "enum": [
          "daily",
          "monthly",
          "yearly",
          "alltime"
        ],
        "type": "string"
      },
      "usage_trigger_enum_trigger_field": {
        "enum": [
          "count",
          "usage",
          "price"
        ],
        "type": "string"
      },
      "usage_trigger_enum_usage_category": {
        "enum": [
          "a2p-registration-fees",
          "agent-conference",
          "amazon-polly",
          "answering-machine-detection",
          "authy-authentications",
          "authy-calls-outbound",
          "authy-monthly-fees",
          "authy-phone-intelligence",
          "authy-phone-verifications",
          "authy-sms-outbound",
          "call-progess-events",
          "calleridlookups",
          "calls",
          "calls-client",
          "calls-globalconference",
          "calls-inbound",
          "calls-inbound-local",
          "calls-inbound-mobile",
          "calls-inbound-tollfree",
          "calls-outbound",
          "calls-pay-verb-transactions",
          "calls-recordings",
          "calls-sip",
          "calls-sip-inbound",
          "calls-sip-outbound",
          "calls-transfers",
          "carrier-lookups",
          "conversations",
          "conversations-api-requests",
          "conversations-conversation-events",
          "conversations-endpoint-connectivity",
          "conversations-events",
          "conversations-participant-events",
          "conversations-participants",
          "cps",
          "flex-usage",
          "fraud-lookups",
          "group-rooms",
          "group-rooms-data-track",
          "group-rooms-encrypted-media-recorded",
          "group-rooms-media-downloaded",
          "group-rooms-media-recorded",
          "group-rooms-media-routed",
          "group-rooms-media-stored",
          "group-rooms-participant-minutes",
          "group-rooms-recorded-minutes",
          "imp-v1-usage",
          "lookups",
          "marketplace",
          "marketplace-algorithmia-named-entity-recognition",
          "marketplace-cadence-transcription",
          "marketplace-cadence-translation",
          "marketplace-capio-speech-to-text",
          "marketplace-convriza-ababa",
          "marketplace-deepgram-phrase-detector",
          "marketplace-digital-segment-business-info",
          "marketplace-facebook-offline-conversions",
          "marketplace-google-speech-to-text",
          "marketplace-ibm-watson-message-insights",
          "marketplace-ibm-watson-message-sentiment",
          "marketplace-ibm-watson-recording-analysis",
          "marketplace-ibm-watson-tone-analyzer",
          "marketplace-icehook-systems-scout",
          "marketplace-infogroup-dataaxle-bizinfo",
          "marketplace-keen-io-contact-center-analytics",
          "marketplace-marchex-cleancall",
          "marketplace-marchex-sentiment-analysis-for-sms",
          "marketplace-marketplace-nextcaller-social-id",
          "marketplace-mobile-commons-opt-out-classifier",
          "marketplace-nexiwave-voicemail-to-text",
          "marketplace-nextcaller-advanced-caller-identification",
          "marketplace-nomorobo-spam-score",
          "marketplace-payfone-tcpa-compliance",
          "marketplace-remeeting-automatic-speech-recognition",
          "marketplace-tcpa-defense-solutions-blacklist-feed",
          "marketplace-telo-opencnam",
          "marketplace-truecnam-true-spam",
          "marketplace-twilio-caller-name-lookup-us",
          "marketplace-twilio-carrier-information-lookup",
          "marketplace-voicebase-pci",
          "marketplace-voicebase-transcription",
          "marketplace-voicebase-transcription-custom-vocabulary",
          "marketplace-whitepages-pro-caller-identification",
          "marketplace-whitepages-pro-phone-intelligence",
          "marketplace-whitepages-pro-phone-reputation",
          "marketplace-wolfarm-spoken-results",
          "marketplace-wolfram-short-answer",
          "marketplace-ytica-contact-center-reporting-analytics",
          "mediastorage",
          "mms",
          "mms-inbound",
          "mms-inbound-longcode",
          "mms-inbound-shortcode",
          "mms-messages-carrierfees",
          "mms-outbound",
          "mms-outbound-longcode",
          "mms-outbound-shortcode",
          "monitor-reads",
          "monitor-storage",
          "monitor-writes",
          "notify",
          "notify-actions-attempts",
          "notify-channels",
          "number-format-lookups",
          "pchat",
          "pchat-users",
          "peer-to-peer-rooms-participant-minutes",
          "pfax",
          "pfax-minutes",
          "pfax-minutes-inbound",
          "pfax-minutes-outbound",
          "pfax-pages",
          "phonenumbers",
          "phonenumbers-cps",
          "phonenumbers-emergency",
          "phonenumbers-local",
          "phonenumbers-mobile",
          "phonenumbers-setups",
          "phonenumbers-tollfree",
          "premiumsupport",
          "proxy",
          "proxy-active-sessions",
          "pstnconnectivity",
          "pv",
          "pv-composition-media-downloaded",
          "pv-composition-media-encrypted",
          "pv-composition-media-stored",
          "pv-composition-minutes",
          "pv-recording-compositions",
          "pv-room-participants",
          "pv-room-participants-au1",
          "pv-room-participants-br1",
          "pv-room-participants-ie1",
          "pv-room-participants-jp1",
          "pv-room-participants-sg1",
          "pv-room-participants-us1",
          "pv-room-participants-us2",
          "pv-rooms",
          "pv-sip-endpoint-registrations",
          "recordings",
          "recordingstorage",
          "rooms-group-bandwidth",
          "rooms-group-minutes",
          "rooms-peer-to-peer-minutes",
          "shortcodes",
          "shortcodes-customerowned",
          "shortcodes-mms-enablement",
          "shortcodes-mps",
          "shortcodes-random",
          "shortcodes-uk",
          "shortcodes-vanity",
          "small-group-rooms",
          "small-group-rooms-data-track",
          "small-group-rooms-participant-minutes",
          "sms",
          "sms-inbound",
          "sms-inbound-longcode",
          "sms-inbound-shortcode",
          "sms-messages-carrierfees",
          "sms-messages-features",
          "sms-messages-features-senderid",
          "sms-outbound",
          "sms-outbound-content-inspection",
          "sms-outbound-longcode",
          "sms-outbound-shortcode",
          "speech-recognition",
          "studio-engagements",
          "sync",
          "sync-actions",
          "sync-endpoint-hours",
          "sync-endpoint-hours-above-daily-cap",
          "taskrouter-tasks",
          "totalprice",
          "transcriptions",
          "trunking-cps",
          "trunking-emergency-calls",
          "trunking-origination",
          "trunking-origination-local",
          "trunking-origination-mobile",
          "trunking-origination-tollfree",
          "trunking-recordings",
          "trunking-secure",
          "trunking-termination",
          "tts-google",
          "turnmegabytes",
          "turnmegabytes-australia",
          "turnmegabytes-brasil",
          "turnmegabytes-germany",
          "turnmegabytes-india",
          "turnmegabytes-ireland",
          "turnmegabytes-japan",
          "turnmegabytes-singapore",
          "turnmegabytes-useast",
          "turnmegabytes-uswest",
          "twilio-interconnect",
          "verify-push",
          "verify-totp",
          "verify-whatsapp-conversations-business-initiated",
          "video-recordings",
          "virtual-agent",
          "voice-insights",
          "voice-insights-client-insights-on-demand-minute",
          "voice-insights-ptsn-insights-on-demand-minute",
          "voice-insights-sip-interface-insights-on-demand-minute",
          "voice-insights-sip-trunking-insights-on-demand-minute",
          "voice-intelligence",
          "voice-intelligence-transcription",
          "voice-intelligence-operators",
          "wireless",
          "wireless-orders",
          "wireless-orders-artwork",
          "wireless-orders-bulk",
          "wireless-orders-esim",
          "wireless-orders-starter",
          "wireless-usage",
          "wireless-usage-commands",
          "wireless-usage-commands-africa",
          "wireless-usage-commands-asia",
          "wireless-usage-commands-centralandsouthamerica",
          "wireless-usage-commands-europe",
          "wireless-usage-commands-home",
          "wireless-usage-commands-northamerica",
          "wireless-usage-commands-oceania",
          "wireless-usage-commands-roaming",
          "wireless-usage-data",
          "wireless-usage-data-africa",
          "wireless-usage-data-asia",
          "wireless-usage-data-centralandsouthamerica",
          "wireless-usage-data-custom-additionalmb",
          "wireless-usage-data-custom-first5mb",
          "wireless-usage-data-domestic-roaming",
          "wireless-usage-data-europe",
          "wireless-usage-data-individual-additionalgb",
          "wireless-usage-data-individual-firstgb",
          "wireless-usage-data-international-roaming-canada",
          "wireless-usage-data-international-roaming-india",
          "wireless-usage-data-international-roaming-mexico",
          "wireless-usage-data-northamerica",
          "wireless-usage-data-oceania",
          "wireless-usage-data-pooled",
          "wireless-usage-data-pooled-downlink",
          "wireless-usage-data-pooled-uplink",
          "wireless-usage-mrc",
          "wireless-usage-mrc-custom",
          "wireless-usage-mrc-individual",
          "wireless-usage-mrc-pooled",
          "wireless-usage-mrc-suspended",
          "wireless-usage-sms",
          "wireless-usage-voice"
        ],
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.twilio.com/2010-04-01/Accounts/{AccountSid}/Usage/Triggers.json"
    },
    "body": {
      "$": "body",
      "encode": "urlencoded"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**account_sid**: The SID of the [Account](https://www.twilio.com/docs/iam/api/account) that the trigger monitors.",
            "**api_version**: The API version used to create the resource.",
            "**callback_method**: The HTTP method we use to call `callback_url`. Can be: `GET` or `POST`.",
            "**callback_url**: The URL we call using the `callback_method` when the trigger fires.",
            "**current_value**: The current value of the field the trigger is watching.",
            "**date_created**: The date and time in GMT that the resource was created specified in [RFC 2822](https://www.ietf.org/rfc/rfc2822.txt) format.",
            "**date_fired**: The date and time in GMT that the trigger was last fired specified in [RFC 2822](https://www.ietf.org/rfc/rfc2822.txt) format.",
            "**date_updated**: The date and time in GMT that the resource was last updated specified in [RFC 2822](https://www.ietf.org/rfc/rfc2822.txt) format.",
            "**friendly_name**: The string that you assigned to describe the trigger.",
            "**recurring**",
            "**sid**: The unique string that that we created to identify the UsageTrigger resource.",
            "**trigger_by**",
            "**trigger_value**: The value at which the trigger will fire.  Must be a positive, numeric value.",
            "**uri**: The URI of the resource, relative to `https://api.twilio.com`.",
            "**usage_category**",
            "**usage_record_uri**: The URI of the [UsageRecord](https://www.twilio.com/docs/usage/api/usage-record) resource this trigger watches, relative to `https://api.twilio.com`."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
