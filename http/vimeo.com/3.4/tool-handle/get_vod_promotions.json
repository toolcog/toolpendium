{
  "name": "get_vod_promotions",
  "description": "Get all the promotions on an On Demand page",
  "parameters": {
    "type": "object",
    "properties": {
      "ondemand_id": {
        "example": 61326,
        "type": "number",
        "description": "The ID of the On Demand."
      },
      "filter": {
        "enum": [
          "batch",
          "default",
          "single",
          "vip"
        ],
        "type": "string",
        "description": "The filter to apply to the results."
      },
      "page": {
        "example": 1,
        "type": "number",
        "description": "The page number of the results to show."
      },
      "per_page": {
        "example": 10,
        "type": "number",
        "description": "The number of items to show on each page of results, up to a maximum of 100."
      }
    },
    "required": [
      "ondemand_id",
      "filter"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://api.vimeo.com/ondemand/pages/{ondemand_id}/promotions{?filter,page,per_page}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "On Demand Promotion"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**access_type**: The type of access that this promotion grants:",
            "**discount_type**: The type of discount for which this promotion can be used.",
            "**download**: Whether this promotion grants download access to On Demand content.",
            "**label**: The prefix string for batch codes, or the null value for single codes.",
            [
              "**metadata**: The video's metadata.",
              {
                "$ul": [
                  [
                    "**connections**: A list of resource URIs related to the On Demand promotion.",
                    {
                      "$ul": [
                        [
                          "**codes**: Information about the codes associated with this promotion.",
                          {
                            "$ul": [
                              "**options**: An array of HTTP methods permitted on this URI.",
                              "**total**: The total number of uses on this connection.",
                              "**uri**: The API URI that resolves to the connection data."
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ],
            "**percent_off**: The percentage amount that is deducted from the product price.",
            "**product_type**: The type of product to which this promotion can be applied. Only `buy` and `rent` are available for the VIP access type:",
            "**stream_period**: The amount of time that the user has access to the VOD content after redeeming a promo code.",
            "**total**: The total amount of times that this promotion can be used.",
            "**type**: The way in which this promotion can generate promo codes:",
            "**uri**: The promotion's canonical relative URI."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Legacy Error"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: User-friendly error message"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Legacy Error"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: User-friendly error message"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Legacy Error"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: User-friendly error message"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
