{
  "name": "updateDeviceApplianceUplinksSettings",
  "description": "Update the uplink settings for an MX appliance",
  "parameters": {
    "type": "object",
    "properties": {
      "serial": {
        "type": "string"
      },
      "body": {
        "example": {
          "interfaces": {
            "wan1": {
              "enabled": true,
              "pppoe": {
                "authentication": {
                  "enabled": true,
                  "password": "password",
                  "username": "username"
                },
                "enabled": true
              },
              "svis": {
                "ipv4": {
                  "address": "9.10.11.10/16",
                  "assignmentMode": "static",
                  "gateway": "13.14.15.16",
                  "nameservers": {
                    "addresses": [
                      "1.2.3.4"
                    ]
                  }
                },
                "ipv6": {
                  "address": "1:2:3::4",
                  "assignmentMode": "static",
                  "gateway": "1:2:3::5",
                  "nameservers": {
                    "addresses": [
                      "1001:4860:4860::8888",
                      "1001:4860:4860::8844"
                    ]
                  }
                }
              },
              "vlanTagging": {
                "enabled": true,
                "vlanId": 1
              }
            },
            "wan2": {
              "enabled": true,
              "pppoe": {
                "authentication": {
                  "enabled": true,
                  "password": "password",
                  "username": "username"
                },
                "enabled": true
              },
              "svis": {
                "ipv4": {
                  "address": "9.10.11.10/16",
                  "assignmentMode": "static",
                  "gateway": "13.14.15.16",
                  "nameservers": {
                    "addresses": [
                      "1.2.3.4"
                    ]
                  }
                },
                "ipv6": {
                  "address": "1:2:3::4",
                  "assignmentMode": "static",
                  "gateway": "1:2:3::5",
                  "nameservers": {
                    "addresses": [
                      "1001:4860:4860::8888",
                      "1001:4860:4860::8844"
                    ]
                  }
                }
              },
              "vlanTagging": {
                "enabled": true,
                "vlanId": 1
              }
            }
          }
        },
        "properties": {
          "interfaces": {
            "description": "Interface settings.",
            "properties": {
              "wan1": {
                "description": "WAN 1 settings.",
                "properties": {
                  "enabled": {
                    "description": "Enable or disable the interface.",
                    "type": "boolean"
                  },
                  "pppoe": {
                    "description": "Configuration options for PPPoE.",
                    "properties": {
                      "authentication": {
                        "description": "Settings for PPPoE Authentication.",
                        "properties": {
                          "enabled": {
                            "description": "Whether PPPoE authentication is enabled.",
                            "type": "boolean"
                          },
                          "password": {
                            "description": "Password for PPPoE authentication. This parameter is not returned.",
                            "type": "string"
                          },
                          "username": {
                            "description": "Username for PPPoE authentication.",
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "enabled": {
                        "description": "Whether PPPoE is enabled.",
                        "type": "boolean"
                      }
                    },
                    "type": "object"
                  },
                  "svis": {
                    "description": "SVI settings by protocol.",
                    "properties": {
                      "ipv4": {
                        "description": "IPv4 settings for static/dynamic mode.",
                        "properties": {
                          "address": {
                            "description": "IP address and subnet mask when in static mode.",
                            "type": "string"
                          },
                          "assignmentMode": {
                            "description": "The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                            "enum": [
                              "dynamic",
                              "static"
                            ],
                            "type": "string"
                          },
                          "gateway": {
                            "description": "Gateway IP address when in static mode.",
                            "type": "string"
                          },
                          "nameservers": {
                            "description": "The nameserver settings for this SVI.",
                            "properties": {
                              "addresses": {
                                "description": "Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority.",
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "ipv6": {
                        "description": "IPv6 settings for static/dynamic mode.",
                        "properties": {
                          "address": {
                            "description": "Static address that will override the one(s) received by SLAAC.",
                            "type": "string"
                          },
                          "assignmentMode": {
                            "description": "The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                            "enum": [
                              "dynamic",
                              "static"
                            ],
                            "type": "string"
                          },
                          "gateway": {
                            "description": "Static gateway that will override the one received by autoconf.",
                            "type": "string"
                          },
                          "nameservers": {
                            "description": "The nameserver settings for this SVI.",
                            "properties": {
                              "addresses": {
                                "description": "Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority.",
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  },
                  "vlanTagging": {
                    "description": "VLAN tagging settings.",
                    "properties": {
                      "enabled": {
                        "description": "Whether VLAN tagging is enabled.",
                        "type": "boolean"
                      },
                      "vlanId": {
                        "description": "The ID of the VLAN to use for VLAN tagging.",
                        "type": "integer"
                      }
                    },
                    "type": "object"
                  }
                },
                "type": "object"
              },
              "wan2": {
                "description": "WAN 2 settings.",
                "properties": {
                  "enabled": {
                    "description": "Enable or disable the interface.",
                    "type": "boolean"
                  },
                  "pppoe": {
                    "description": "Configuration options for PPPoE.",
                    "properties": {
                      "authentication": {
                        "description": "Settings for PPPoE Authentication.",
                        "properties": {
                          "enabled": {
                            "description": "Whether PPPoE authentication is enabled.",
                            "type": "boolean"
                          },
                          "password": {
                            "description": "Password for PPPoE authentication. This parameter is not returned.",
                            "type": "string"
                          },
                          "username": {
                            "description": "Username for PPPoE authentication.",
                            "type": "string"
                          }
                        },
                        "type": "object"
                      },
                      "enabled": {
                        "description": "Whether PPPoE is enabled.",
                        "type": "boolean"
                      }
                    },
                    "type": "object"
                  },
                  "svis": {
                    "description": "SVI settings by protocol.",
                    "properties": {
                      "ipv4": {
                        "description": "IPv4 settings for static/dynamic mode.",
                        "properties": {
                          "address": {
                            "description": "IP address and subnet mask when in static mode.",
                            "type": "string"
                          },
                          "assignmentMode": {
                            "description": "The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                            "enum": [
                              "dynamic",
                              "static"
                            ],
                            "type": "string"
                          },
                          "gateway": {
                            "description": "Gateway IP address when in static mode.",
                            "type": "string"
                          },
                          "nameservers": {
                            "description": "The nameserver settings for this SVI.",
                            "properties": {
                              "addresses": {
                                "description": "Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority.",
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      },
                      "ipv6": {
                        "description": "IPv6 settings for static/dynamic mode.",
                        "properties": {
                          "address": {
                            "description": "Static address that will override the one(s) received by SLAAC.",
                            "type": "string"
                          },
                          "assignmentMode": {
                            "description": "The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                            "enum": [
                              "dynamic",
                              "static"
                            ],
                            "type": "string"
                          },
                          "gateway": {
                            "description": "Static gateway that will override the one received by autoconf.",
                            "type": "string"
                          },
                          "nameservers": {
                            "description": "The nameserver settings for this SVI.",
                            "properties": {
                              "addresses": {
                                "description": "Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority.",
                                "items": {
                                  "type": "string"
                                },
                                "type": "array"
                              }
                            },
                            "type": "object"
                          }
                        },
                        "type": "object"
                      }
                    },
                    "type": "object"
                  },
                  "vlanTagging": {
                    "description": "VLAN tagging settings.",
                    "properties": {
                      "enabled": {
                        "description": "Whether VLAN tagging is enabled.",
                        "type": "boolean"
                      },
                      "vlanId": {
                        "description": "The ID of the VLAN to use for VLAN tagging.",
                        "type": "integer"
                      }
                    },
                    "type": "object"
                  }
                },
                "type": "object"
              }
            },
            "type": "object"
          }
        },
        "required": [
          "interfaces"
        ],
        "type": "object"
      }
    },
    "required": [
      "serial",
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://api.meraki.com/api/v1/devices/{serial}/appliance/uplinks/settings"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**interfaces**: Interface settings.",
              {
                "$ul": [
                  [
                    "**wan1**: WAN 1 settings.",
                    {
                      "$ul": [
                        "**enabled**: Enable or disable the interface.",
                        [
                          "**pppoe**: Configuration options for PPPoE.",
                          {
                            "$ul": [
                              [
                                "**authentication**: Settings for PPPoE Authentication.",
                                {
                                  "$ul": [
                                    "**enabled**: Whether PPPoE authentication is enabled.",
                                    "**username**: Username for PPPoE authentication."
                                  ]
                                }
                              ],
                              "**enabled**: Whether PPPoE is enabled."
                            ]
                          }
                        ],
                        [
                          "**svis**: SVI settings by protocol.",
                          {
                            "$ul": [
                              [
                                "**ipv4**: IPv4 settings for static/dynamic mode.",
                                {
                                  "$ul": [
                                    "**address**: IP address and subnet mask when in static mode.",
                                    "**assignmentMode**: The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                                    "**gateway**: Gateway IP address when in static mode.",
                                    [
                                      "**nameservers**: The nameserver settings for this SVI.",
                                      {
                                        "$ul": [
                                          "**addresses**: Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority."
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ],
                              [
                                "**ipv6**: IPv6 settings for static/dynamic mode.",
                                {
                                  "$ul": [
                                    "**address**: Static address that will override the one(s) received by SLAAC.",
                                    "**assignmentMode**: The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                                    "**gateway**: Static gateway that will override the one received by autoconf.",
                                    [
                                      "**nameservers**: The nameserver settings for this SVI.",
                                      {
                                        "$ul": [
                                          "**addresses**: Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority."
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ],
                        [
                          "**vlanTagging**: VLAN tagging settings.",
                          {
                            "$ul": [
                              "**enabled**: Whether VLAN tagging is enabled.",
                              "**vlanId**: The ID of the VLAN to use for VLAN tagging."
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    "**wan2**: WAN 2 settings.",
                    {
                      "$ul": [
                        "**enabled**: Enable or disable the interface.",
                        [
                          "**pppoe**: Configuration options for PPPoE.",
                          {
                            "$ul": [
                              [
                                "**authentication**: Settings for PPPoE Authentication.",
                                {
                                  "$ul": [
                                    "**enabled**: Whether PPPoE authentication is enabled.",
                                    "**username**: Username for PPPoE authentication."
                                  ]
                                }
                              ],
                              "**enabled**: Whether PPPoE is enabled."
                            ]
                          }
                        ],
                        [
                          "**svis**: SVI settings by protocol.",
                          {
                            "$ul": [
                              [
                                "**ipv4**: IPv4 settings for static/dynamic mode.",
                                {
                                  "$ul": [
                                    "**address**: IP address and subnet mask when in static mode.",
                                    "**assignmentMode**: The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                                    "**gateway**: Gateway IP address when in static mode.",
                                    [
                                      "**nameservers**: The nameserver settings for this SVI.",
                                      {
                                        "$ul": [
                                          "**addresses**: Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority."
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ],
                              [
                                "**ipv6**: IPv6 settings for static/dynamic mode.",
                                {
                                  "$ul": [
                                    "**address**: Static address that will override the one(s) received by SLAAC.",
                                    "**assignmentMode**: The assignment mode for this SVI. Applies only when PPPoE is disabled.",
                                    "**gateway**: Static gateway that will override the one received by autoconf.",
                                    [
                                      "**nameservers**: The nameserver settings for this SVI.",
                                      {
                                        "$ul": [
                                          "**addresses**: Up to 2 nameserver addresses to use, ordered in priority from highest to lowest priority."
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ],
                        [
                          "**vlanTagging**: VLAN tagging settings.",
                          {
                            "$ul": [
                              "**enabled**: Whether VLAN tagging is enabled.",
                              "**vlanId**: The ID of the VLAN to use for VLAN tagging."
                            ]
                          }
                        ]
                      ]
                    }
                  ]
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
