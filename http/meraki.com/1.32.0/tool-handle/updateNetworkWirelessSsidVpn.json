{
  "name": "updateNetworkWirelessSsidVpn",
  "description": "Update the VPN settings for the SSID",
  "parameters": {
    "type": "object",
    "properties": {
      "networkId": {
        "type": "string"
      },
      "number": {
        "type": "string"
      },
      "body": {
        "example": {
          "concentrator": {
            "name": "some concentrator name",
            "networkId": "N_123",
            "vlanId": 44
          },
          "failover": {
            "heartbeatInterval": 10,
            "idleTimeout": 30,
            "requestIp": "1.1.1.1"
          },
          "splitTunnel": {
            "enabled": true,
            "rules": [
              {
                "comment": "split tunnel rule 1",
                "destCidr": "1.1.1.1/32",
                "destPort": "any",
                "policy": "allow",
                "protocol": "Any"
              },
              {
                "comment": "split tunnel rule 2",
                "destCidr": "foo.com",
                "destPort": "any",
                "policy": "deny"
              }
            ]
          }
        },
        "properties": {
          "concentrator": {
            "description": "The VPN concentrator settings for this SSID.",
            "properties": {
              "networkId": {
                "description": "The NAT ID of the concentrator that should be set.",
                "type": "string"
              },
              "vlanId": {
                "description": "The VLAN that should be tagged for the concentrator.",
                "type": "integer"
              }
            },
            "type": "object"
          },
          "failover": {
            "description": "Secondary VPN concentrator settings. This is only used when two VPN concentrators are configured on the SSID.",
            "properties": {
              "heartbeatInterval": {
                "description": "Idle timer interval in seconds.",
                "type": "integer"
              },
              "idleTimeout": {
                "description": "Idle timer timeout in seconds.",
                "type": "integer"
              },
              "requestIp": {
                "description": "IP addressed reserved on DHCP server where SSID will terminate.",
                "type": "string"
              }
            },
            "type": "object"
          },
          "splitTunnel": {
            "description": "The VPN split tunnel settings for this SSID.",
            "properties": {
              "enabled": {
                "description": "If true, VPN split tunnel is enabled.",
                "type": "boolean"
              },
              "rules": {
                "description": "List of VPN split tunnel rules.",
                "items": {
                  "properties": {
                    "comment": {
                      "description": "Description for this split tunnel rule (optional).",
                      "type": "string"
                    },
                    "destCidr": {
                      "description": "Destination for this split tunnel rule. IP address, fully-qualified domain names (FQDN) or 'any'.",
                      "type": "string"
                    },
                    "destPort": {
                      "description": "Destination port for this split tunnel rule, (integer in the range 1-65535), or 'any'.",
                      "type": "string"
                    },
                    "policy": {
                      "description": "Traffic policy specified for this split tunnel rule, 'allow' or 'deny'.",
                      "type": "string"
                    },
                    "protocol": {
                      "description": "Protocol for this split tunnel rule.",
                      "enum": [
                        "Any",
                        "TCP",
                        "UDP"
                      ],
                      "type": "string"
                    }
                  },
                  "required": [
                    "destCidr",
                    "policy"
                  ],
                  "type": "object"
                },
                "type": "array"
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "networkId",
      "number"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://api.meraki.com/api/v1/networks/{networkId}/wireless/ssids/{number}/vpn"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
