{
  "name": "updateNetworkWirelessSsidSplashSettings",
  "description": "Modify the splash page settings for the given SSID",
  "parameters": {
    "type": "object",
    "properties": {
      "networkId": {
        "type": "string"
      },
      "number": {
        "type": "string"
      },
      "body": {
        "example": {
          "allowSimultaneousLogins": false,
          "billing": {
            "freeAccess": {
              "durationInMinutes": 120,
              "enabled": true
            },
            "prepaidAccessFastLoginEnabled": true,
            "replyToEmailAddress": "user@email.com"
          },
          "blockAllTrafficBeforeSignOn": false,
          "controllerDisconnectionBehavior": "default",
          "guestSponsorship": {
            "durationInMinutes": 30,
            "guestCanRequestTimeframe": false
          },
          "redirectUrl": "https://example.com",
          "sentryEnrollment": {
            "enforcedSystems": [
              "iOS"
            ],
            "strength": "focused",
            "systemsManagerNetwork": {
              "id": "N_1234"
            }
          },
          "splashImage": {
            "extension": "jpg",
            "image": {
              "contents": "Q2lzY28gTWVyYWtp",
              "format": "jpg"
            },
            "md5": "542cccac8d7dedee0f185311d154d194"
          },
          "splashLogo": {
            "extension": "jpg",
            "image": {
              "contents": "Q2lzY28gTWVyYWtp",
              "format": "jpg"
            },
            "md5": "abcd1234"
          },
          "splashPrepaidFront": {
            "extension": "jpg",
            "image": {
              "contents": "Q2lzY28gTWVyYWtp",
              "format": "jpg"
            },
            "md5": "542cccac8d7dedee0f185311d154d194"
          },
          "splashTimeout": 1440,
          "splashUrl": "https://www.custom_splash_url.com",
          "useRedirectUrl": true,
          "useSplashUrl": true,
          "welcomeMessage": "Welcome!"
        },
        "properties": {
          "allowSimultaneousLogins": {
            "description": "Whether or not to allow simultaneous logins from different devices.",
            "type": "boolean"
          },
          "billing": {
            "description": "Details associated with billing splash.",
            "properties": {
              "freeAccess": {
                "description": "Details associated with a free access plan with limits.",
                "properties": {
                  "durationInMinutes": {
                    "description": "How long a device can use a network for free.",
                    "type": "integer"
                  },
                  "enabled": {
                    "description": "Whether or not free access is enabled.",
                    "type": "boolean"
                  }
                },
                "type": "object"
              },
              "prepaidAccessFastLoginEnabled": {
                "description": "Whether or not billing uses the fast login prepaid access option.",
                "type": "boolean"
              },
              "replyToEmailAddress": {
                "description": "The email address that receives replies from clients.",
                "type": "string"
              }
            },
            "type": "object"
          },
          "blockAllTrafficBeforeSignOn": {
            "description": "How restricted allowing traffic should be. If true, all traffic types are blocked until the splash page is acknowledged. If false, all non-HTTP traffic is allowed before the splash page is acknowledged.",
            "type": "boolean"
          },
          "controllerDisconnectionBehavior": {
            "description": "How login attempts should be handled when the controller is unreachable. Can be either 'open', 'restricted', or 'default'.",
            "enum": [
              "default",
              "open",
              "restricted"
            ],
            "type": "string"
          },
          "guestSponsorship": {
            "description": "Details associated with guest sponsored splash.",
            "properties": {
              "durationInMinutes": {
                "description": "Duration in minutes of sponsored guest authorization. Must be between 1 and 60480 (6 weeks)",
                "type": "integer"
              },
              "guestCanRequestTimeframe": {
                "description": "Whether or not guests can specify how much time they are requesting.",
                "type": "boolean"
              }
            },
            "type": "object"
          },
          "redirectUrl": {
            "description": "The custom redirect URL where the users will go after the splash page.",
            "type": "string"
          },
          "sentryEnrollment": {
            "description": "Systems Manager sentry enrollment splash settings.",
            "properties": {
              "enforcedSystems": {
                "description": "The system types that the Sentry enforces. Must be included in: 'iOS, 'Android', 'macOS', and 'Windows'.",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "strength": {
                "description": "The strength of the enforcement of selected system types. Must be one of: 'focused', 'click-through', and 'strict'.",
                "enum": [
                  "click-through",
                  "focused",
                  "strict"
                ],
                "type": "string"
              },
              "systemsManagerNetwork": {
                "description": "Systems Manager network targeted for sentry enrollment.",
                "properties": {
                  "id": {
                    "description": "The network ID of the Systems Manager network.",
                    "type": "string"
                  }
                },
                "required": [
                  "id"
                ],
                "type": "object"
              }
            },
            "type": "object"
          },
          "splashImage": {
            "description": "The image used in the splash page.",
            "properties": {
              "extension": {
                "description": "The extension of the image file.",
                "type": "string"
              },
              "image": {
                "description": "Properties for setting a new image.",
                "properties": {
                  "contents": {
                    "description": "The file contents (a base 64 encoded string) of your new image.",
                    "format": "byte",
                    "type": "string"
                  },
                  "format": {
                    "description": "The format of the encoded contents. Supported formats are 'png', 'gif', and jpg'.",
                    "enum": [
                      "gif",
                      "jpg",
                      "png"
                    ],
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "md5": {
                "description": "The MD5 value of the image file. Setting this to null will remove the image from the splash page.",
                "type": "string"
              }
            },
            "type": "object"
          },
          "splashLogo": {
            "description": "The logo used in the splash page.",
            "properties": {
              "extension": {
                "description": "The extension of the logo file.",
                "type": "string"
              },
              "image": {
                "description": "Properties for setting a new image.",
                "properties": {
                  "contents": {
                    "description": "The file contents (a base 64 encoded string) of your new logo.",
                    "format": "byte",
                    "type": "string"
                  },
                  "format": {
                    "description": "The format of the encoded contents. Supported formats are 'png', 'gif', and jpg'.",
                    "enum": [
                      "gif",
                      "jpg",
                      "png"
                    ],
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "md5": {
                "description": "The MD5 value of the logo file. Setting this to null will remove the logo from the splash page.",
                "type": "string"
              }
            },
            "type": "object"
          },
          "splashPrepaidFront": {
            "description": "The prepaid front image used in the splash page.",
            "properties": {
              "extension": {
                "description": "The extension of the prepaid front image file.",
                "type": "string"
              },
              "image": {
                "description": "Properties for setting a new image.",
                "properties": {
                  "contents": {
                    "description": "The file contents (a base 64 encoded string) of your new prepaid front.",
                    "format": "byte",
                    "type": "string"
                  },
                  "format": {
                    "description": "The format of the encoded contents. Supported formats are 'png', 'gif', and jpg'.",
                    "enum": [
                      "gif",
                      "jpg",
                      "png"
                    ],
                    "type": "string"
                  }
                },
                "type": "object"
              },
              "md5": {
                "description": "The MD5 value of the prepaid front image file. Setting this to null will remove the prepaid front from the splash page.",
                "type": "string"
              }
            },
            "type": "object"
          },
          "splashTimeout": {
            "description": "Splash timeout in minutes. This will determine how often users will see the splash page.",
            "type": "integer"
          },
          "splashUrl": {
            "description": "[optional] The custom splash URL of the click-through splash page. Note that the URL can be configured without necessarily being used. In order to enable the custom URL, see 'useSplashUrl'",
            "type": "string"
          },
          "useRedirectUrl": {
            "description": "The Boolean indicating whether the the user will be redirected to the custom redirect URL after the splash page. A custom redirect URL must be set if this is true.",
            "type": "boolean"
          },
          "useSplashUrl": {
            "description": "[optional] Boolean indicating whether the users will be redirected to the custom splash url. A custom splash URL must be set if this is true. Note that depending on your SSID's access control settings, it may not be possible to use the custom splash URL.",
            "type": "boolean"
          },
          "welcomeMessage": {
            "description": "The welcome message for the users on the splash page.",
            "type": "string"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "networkId",
      "number"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://api.meraki.com/api/v1/networks/{networkId}/wireless/ssids/{number}/splash/settings"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**allowSimultaneousLogins**: Whether or not to allow simultaneous logins from different devices.",
            [
              "**billing**: Details associated with billing splash",
              {
                "$ul": [
                  [
                    "**freeAccess**: Details associated with a free access plan with limits",
                    {
                      "$ul": [
                        "**durationInMinutes**: How long a device can use a network for free.",
                        "**enabled**: Whether or not free access is enabled."
                      ]
                    }
                  ],
                  "**prepaidAccessFastLoginEnabled**: Whether or not billing uses the fast login prepaid access option.",
                  "**replyToEmailAddress**: The email address that reeceives replies from clients"
                ]
              }
            ],
            "**blockAllTrafficBeforeSignOn**: How restricted allowing traffic should be. If true, all traffic types are blocked until the splash page is acknowledged. If false, all non-HTTP traffic is allowed before the splash page is acknowledged.",
            "**controllerDisconnectionBehavior**: How login attempts should be handled when the controller is unreachable.",
            [
              "**guestSponsorship**: Details associated with guest sponsored splash",
              {
                "$ul": [
                  "**durationInMinutes**: Duration in minutes of sponsored guest authorization.",
                  "**guestCanRequestTimeframe**: Whether or not guests can specify how much time they are requesting."
                ]
              }
            ],
            "**redirectUrl**: The custom redirect URL where the users will go after the splash page.",
            [
              "**selfRegistration**: Self-registration for splash with Meraki authentication.",
              {
                "$ul": [
                  "**authorizationType**: How created user accounts should be authorized.",
                  "**enabled**: Whether or not to allow users to create their own account on the network."
                ]
              }
            ],
            [
              "**sentryEnrollment**: Systems Manager sentry enrollment splash settings.",
              {
                "$ul": [
                  "**enforcedSystems**: The system types that the Sentry enforces.",
                  "**strength**: The strength of the enforcement of selected system types.",
                  [
                    "**systemsManagerNetwork**: Systems Manager network targeted for sentry enrollment.",
                    {
                      "$ul": [
                        "**id**: The network ID of the Systems Manager network."
                      ]
                    }
                  ]
                ]
              }
            ],
            [
              "**splashImage**: The image used in the splash page.",
              {
                "$ul": [
                  "**extension**: The extension of the image file.",
                  "**md5**: The MD5 value of the image file."
                ]
              }
            ],
            [
              "**splashLogo**: The logo used in the splash page.",
              {
                "$ul": [
                  "**extension**: The extension of the logo file.",
                  "**md5**: The MD5 value of the logo file."
                ]
              }
            ],
            "**splashPage**: The type of splash page for this SSID",
            [
              "**splashPrepaidFront**: The prepaid front image used in the splash page.",
              {
                "$ul": [
                  "**extension**: The extension of the prepaid front image file.",
                  "**md5**: The MD5 value of the prepaid front image file."
                ]
              }
            ],
            "**splashTimeout**: Splash timeout in minutes.",
            "**splashUrl**: The custom splash URL of the click-through splash page.",
            "**ssidNumber**: SSID number",
            "**useRedirectUrl**: The Boolean indicating whether the the user will be redirected to the custom redirect URL after the splash page.",
            "**useSplashUrl**: Boolean indicating whether the users will be redirected to the custom splash url",
            "**welcomeMessage**: The welcome message for the users on the splash page."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
