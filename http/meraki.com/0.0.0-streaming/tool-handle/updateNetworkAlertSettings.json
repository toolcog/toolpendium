{
  "name": "updateNetworkAlertSettings",
  "description": "Update the alert configuration for this network",
  "parameters": {
    "type": "object",
    "properties": {
      "networkId": {
        "type": "string"
      },
      "body": {
        "example": {
          "alerts": [
            {
              "alertDestinations": {
                "allAdmins": false,
                "emails": [
                  "miles@meraki.com"
                ],
                "httpServerIds": [
                  "aHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vd2ViaG9va3M="
                ],
                "snmp": false
              },
              "enabled": true,
              "filters": {
                "timeout": 60
              },
              "type": "gatewayDown"
            }
          ],
          "defaultDestinations": {
            "allAdmins": true,
            "emails": [
              "miles@meraki.com"
            ],
            "httpServerIds": [
              "aHR0cHM6Ly93d3cuZXhhbXBsZS5jb20vd2ViaG9va3M="
            ],
            "snmp": true
          }
        },
        "properties": {
          "alerts": {
            "description": "Alert-specific configuration for each type. Only alerts that pertain to the network can be updated.",
            "items": {
              "properties": {
                "alertDestinations": {
                  "description": "A hash of destinations for this specific alert",
                  "properties": {
                    "allAdmins": {
                      "description": "If true, then all network admins will receive emails for this alert",
                      "type": "boolean"
                    },
                    "emails": {
                      "description": "A list of emails that will receive information about the alert",
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "httpServerIds": {
                      "description": "A list of HTTP server IDs to send a Webhook to for this alert",
                      "items": {
                        "type": "string"
                      },
                      "type": "array"
                    },
                    "snmp": {
                      "description": "If true, then an SNMP trap will be sent for this alert if there is an SNMP trap server configured for this network",
                      "type": "boolean"
                    }
                  },
                  "type": "object"
                },
                "enabled": {
                  "description": "A boolean depicting if the alert is turned on or off",
                  "type": "boolean"
                },
                "filters": {
                  "description": "A hash of specific configuration data for the alert. Only filters specific to the alert will be updated.",
                  "properties": {},
                  "type": "object"
                },
                "type": {
                  "description": "The type of alert",
                  "type": "string"
                }
              },
              "required": [
                "type"
              ],
              "type": "object"
            },
            "type": "array"
          },
          "defaultDestinations": {
            "description": "The network-wide destinations for all alerts on the network.",
            "properties": {
              "allAdmins": {
                "description": "If true, then all network admins will receive emails.",
                "type": "boolean"
              },
              "emails": {
                "description": "A list of emails that will recieve the alert(s).",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "httpServerIds": {
                "description": "A list of HTTP server IDs to send a Webhook to",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "snmp": {
                "description": "If true, then an SNMP trap will be sent if there is an SNMP trap server configured for this network.",
                "type": "boolean"
              }
            },
            "type": "object"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "networkId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://api.meraki.com/api/v0/networks/{networkId}/alertSettings"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
