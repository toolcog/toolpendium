{
  "name": "chat_postMessage",
  "description": "Sends a message to a channel.",
  "parameters": {
    "type": "object",
    "properties": {
      "token": {
        "type": "string",
        "description": "Authentication token. Requires scope: `chat:write`"
      },
      "body": {
        "properties": {
          "as_user": {
            "description": "Pass true to post the message as the authed user, instead of as a bot. Defaults to false. See [authorship](#authorship) below.",
            "type": "string"
          },
          "attachments": {
            "description": "A JSON-based array of structured attachments, presented as a URL-encoded string.",
            "type": "string"
          },
          "blocks": {
            "description": "A JSON-based array of structured blocks, presented as a URL-encoded string.",
            "type": "string"
          },
          "channel": {
            "description": "Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See [below](#channels) for more details.",
            "type": "string"
          },
          "icon_emoji": {
            "description": "Emoji to use as the icon for this message. Overrides `icon_url`. Must be used in conjunction with `as_user` set to `false`, otherwise ignored. See [authorship](#authorship) below.",
            "type": "string"
          },
          "icon_url": {
            "description": "URL to an image to use as the icon for this message. Must be used in conjunction with `as_user` set to false, otherwise ignored. See [authorship](#authorship) below.",
            "type": "string"
          },
          "link_names": {
            "description": "Find and link channel names and usernames.",
            "type": "boolean"
          },
          "mrkdwn": {
            "description": "Disable Slack markup parsing by setting to `false`. Enabled by default.",
            "type": "boolean"
          },
          "parse": {
            "description": "Change how messages are treated. Defaults to `none`. See [below](#formatting).",
            "type": "string"
          },
          "reply_broadcast": {
            "description": "Used in conjunction with `thread_ts` and indicates whether reply should be made visible to everyone in the channel or conversation. Defaults to `false`.",
            "type": "boolean"
          },
          "text": {
            "description": "How this field works and whether it is required depends on other fields you use in your API call. [See below](#text_usage) for more detail.",
            "type": "string"
          },
          "thread_ts": {
            "description": "Provide another message's `ts` value to make this message a reply. Avoid using a reply's `ts` value; use its parent instead.",
            "type": "string"
          },
          "unfurl_links": {
            "description": "Pass true to enable unfurling of primarily text-based content.",
            "type": "boolean"
          },
          "unfurl_media": {
            "description": "Pass false to disable unfurling of media content.",
            "type": "boolean"
          },
          "username": {
            "description": "Set your bot's user name. Must be used in conjunction with `as_user` set to false, otherwise ignored. See [authorship](#authorship) below.",
            "type": "string"
          }
        },
        "required": [
          "channel"
        ],
        "type": "object"
      }
    },
    "required": [
      "token"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://slack.com/api/chat.postMessage"
    },
    "headers": {
      "token": {
        "$": "token"
      }
    },
    "body": {
      "$": "body",
      "encode": "urlencoded"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "chat.postMessage success schema"
        },
        "Schema for successful response of chat.postMessage method",
        "**Key properties:**",
        {
          "$ul": [
            "**channel**",
            [
              "**message**",
              {
                "$ul": [
                  "**attachments**",
                  "**blocks**: This is a very loose definition, in the future, we'll populate this with deeper schema in this definition namespace.",
                  "**bot_id**",
                  [
                    "**bot_profile**",
                    {
                      "$ul": [
                        "**app_id**",
                        "**deleted**",
                        [
                          "**icons**",
                          {
                            "$ul": [
                              "**image_36**",
                              "**image_48**",
                              "**image_72**"
                            ]
                          }
                        ],
                        "**id**",
                        "**name**",
                        "**team_id**",
                        "**updated**"
                      ]
                    }
                  ],
                  "**client_msg_id**",
                  [
                    "**comment**",
                    {
                      "$ul": [
                        "**comment**",
                        "**created**",
                        "**id**",
                        "**is_intro**",
                        "**is_starred**",
                        "**num_stars**",
                        "**pinned_info**",
                        "**pinned_to**",
                        "**reactions**",
                        "**timestamp**",
                        "**user**"
                      ]
                    }
                  ],
                  "**display_as_bot**",
                  [
                    "**file**",
                    {
                      "$ul": [
                        "**channels**",
                        "**comments_count**",
                        "**created**",
                        "**date_delete**",
                        "**display_as_bot**",
                        "**editable**",
                        "**editor**",
                        "**external_id**",
                        "**external_type**",
                        "**external_url**",
                        "**filetype**",
                        "**groups**",
                        "**has_rich_preview**",
                        "**id**",
                        "**image_exif_rotation**",
                        "**ims**",
                        "**is_external**",
                        "**is_public**",
                        "**is_starred**",
                        "**is_tombstoned**",
                        "**last_editor**",
                        "**mimetype**",
                        "**mode**",
                        "**name**",
                        "**non_owner_editable**",
                        "**num_stars**",
                        "**original_h**",
                        "**original_w**",
                        "**permalink**",
                        "**permalink_public**",
                        "**pinned_info**",
                        "**pinned_to**",
                        "**pretty_type**",
                        "**preview**",
                        "**public_url_shared**",
                        "**reactions**",
                        [
                          "**shares**",
                          {
                            "$ul": [
                              "**private**",
                              "**public**"
                            ]
                          }
                        ],
                        "**size**",
                        "**source_team**",
                        "**state**",
                        "**thumb_1024**",
                        "**thumb_1024_h**",
                        "**thumb_1024_w**",
                        "**thumb_160**",
                        "**thumb_360**",
                        "**thumb_360_h**",
                        "**thumb_360_w**",
                        "**thumb_480**",
                        "**thumb_480_h**",
                        "**thumb_480_w**",
                        "**thumb_64**",
                        "**thumb_720**",
                        "**thumb_720_h**",
                        "**thumb_720_w**",
                        "**thumb_80**",
                        "**thumb_800**",
                        "**thumb_800_h**",
                        "**thumb_800_w**",
                        "**thumb_960**",
                        "**thumb_960_h**",
                        "**thumb_960_w**",
                        "**thumb_tiny**",
                        "**timestamp**",
                        "**title**",
                        "**updated**",
                        "**url_private**",
                        "**url_private_download**",
                        "**user**",
                        "**user_team**",
                        "**username**"
                      ]
                    }
                  ],
                  "**files**",
                  [
                    "**icons**",
                    {
                      "$ul": [
                        "**emoji**",
                        "**image_64**"
                      ]
                    }
                  ],
                  "**inviter**",
                  "**is_delayed_message**",
                  "**is_intro**",
                  "**is_starred**",
                  "**last_read**",
                  "**latest_reply**",
                  "**name**",
                  "**old_name**",
                  "**parent_user_id**",
                  "**permalink**",
                  "**pinned_to**",
                  "**purpose**",
                  "**reactions**",
                  "**reply_count**",
                  "**reply_users**",
                  "**reply_users_count**",
                  "**source_team**",
                  "**subscribed**",
                  "**subtype**",
                  "**team**",
                  "**text**",
                  "**thread_ts**",
                  "**topic**",
                  "**ts**",
                  "**type**",
                  "**unread_count**",
                  "**upload**",
                  "**user**",
                  [
                    "**user_profile**",
                    {
                      "$ul": [
                        "**avatar_hash**",
                        "**display_name**",
                        "**display_name_normalized**",
                        "**first_name**",
                        "**image_72**",
                        "**is_restricted**",
                        "**is_ultra_restricted**",
                        "**name**",
                        "**real_name**",
                        "**real_name_normalized**",
                        "**team**"
                      ]
                    }
                  ],
                  "**user_team**",
                  "**username**"
                ]
              }
            ],
            "**ok**",
            "**ts**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "chat.postMessage error schema"
        },
        "Schema for error response chat.postMessage method",
        "**Key properties:**",
        {
          "$ul": [
            "**callstack**: Note: PHP callstack is only visible in dev/qa",
            "**error**",
            "**ok**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
