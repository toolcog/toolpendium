{
  "name": "incomeVerificationPrecheck",
  "description": "`/income/verification/precheck` is an optional endpoint that can be called before initializing a Link session for income verification. It evaluates whether a given user is supportable by digital income verification and returns a `precheck_id` that can be provided to `/link/token/create`. If the user is eligible for digital verification, providing the `precheck_id` in this way will generate a Link UI optimized for the end user and their specific employer. If the user cannot be confirmed as eligible, the `precheck_id` can still be provided to `/link/token/create` and the user can still use the income verification flow, but they may be required to manually upload a paystub to verify their income.\n\nWhile all request fields are optional, providing either `employer` or `transactions_access_tokens` data will increase the chance of receiving a useful result.\n\nThis endpoint has been deprecated; new integrations should use `/credit/payroll_income/precheck` instead.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/IncomeVerificationPrecheckRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "IncomeVerificationPrecheckRequest": {
        "description": "IncomeVerificationPrecheckRequest defines the request schema for `/income/verification/precheck`",
        "properties": {
          "client_id": {
            "$ref": "#/$defs/APIClientID"
          },
          "employer": {
            "$ref": "#/$defs/IncomeVerificationPrecheckEmployer"
          },
          "payroll_institution": {
            "$ref": "#/$defs/IncomeVerificationPrecheckPayrollInstitution"
          },
          "secret": {
            "$ref": "#/$defs/APISecret"
          },
          "transactions_access_token": {
            "allOf": [
              {
                "$ref": "#/$defs/AccessTokenNullable"
              }
            ],
            "deprecated": true
          },
          "transactions_access_tokens": {
            "description": "An array of access tokens corresponding to Items belonging to the user whose eligibility is being checked. Note that if the Items specified here are not already initialized with `transactions`, providing them in this field will cause these Items to be initialized with (and billed for) the Transactions product.",
            "items": {
              "$ref": "#/$defs/AccessToken"
            },
            "type": "array"
          },
          "us_military_info": {
            "$ref": "#/$defs/IncomeVerificationPrecheckMilitaryInfo"
          },
          "user": {
            "$ref": "#/$defs/IncomeVerificationPrecheckUser"
          }
        },
        "title": "IncomeVerificationPrecheckRequest",
        "type": "object"
      },
      "APIClientID": {
        "description": "Your Plaid API `client_id`. The `client_id` is required and may be provided either in the `PLAID-CLIENT-ID` header or as part of a request body.",
        "title": "ClientID",
        "type": "string"
      },
      "IncomeVerificationPrecheckEmployer": {
        "description": "Information about the end user's employer",
        "nullable": true,
        "properties": {
          "address": {
            "$ref": "#/$defs/IncomeVerificationPrecheckEmployerAddress"
          },
          "name": {
            "description": "The employer's name",
            "nullable": true,
            "type": "string"
          },
          "tax_id": {
            "description": "The employer's tax id",
            "nullable": true,
            "type": "string"
          },
          "url": {
            "description": "The URL for the employer's public website",
            "nullable": true,
            "type": "string"
          }
        },
        "title": "IncomeVerificationPrecheckEmployer",
        "type": "object"
      },
      "IncomeVerificationPrecheckEmployerAddress": {
        "allOf": [
          {
            "$ref": "#/$defs/IncomeVerificationPrecheckEmployerAddressData"
          },
          {
            "additionalProperties": true,
            "type": "object"
          }
        ],
        "description": "The address of the employer",
        "nullable": true,
        "title": "IncomeVerificationPrecheckEmployerAddress",
        "type": "object"
      },
      "IncomeVerificationPrecheckEmployerAddressData": {
        "additionalProperties": true,
        "description": "Data about the components comprising an address.",
        "properties": {
          "city": {
            "description": "The full city name",
            "type": "string"
          },
          "country": {
            "description": "The ISO 3166-1 alpha-2 country code",
            "type": "string"
          },
          "postal_code": {
            "description": "The postal code. In API versions 2018-05-22 and earlier, this field is called `zip`.",
            "type": "string"
          },
          "region": {
            "description": "The region or state. In API versions 2018-05-22 and earlier, this field is called `state`.\nExample: `\"NC\"`",
            "type": "string"
          },
          "street": {
            "description": "The full street address\nExample: `\"564 Main Street, APT 15\"`",
            "type": "string"
          }
        },
        "title": "AddressData",
        "type": "object"
      },
      "IncomeVerificationPrecheckPayrollInstitution": {
        "description": "Information about the end user's payroll institution",
        "nullable": true,
        "properties": {
          "name": {
            "description": "The name of payroll institution",
            "nullable": true,
            "type": "string"
          }
        },
        "title": "IncomeVerificationPrecheckPayrollInstitution",
        "type": "object"
      },
      "APISecret": {
        "description": "Your Plaid API `secret`. The `secret` is required and may be provided either in the `PLAID-SECRET` header or as part of a request body.",
        "title": "APISecret",
        "type": "string"
      },
      "AccessTokenNullable": {
        "description": "The access token associated with the Item data is being requested for.",
        "nullable": true,
        "type": "string"
      },
      "AccessToken": {
        "description": "The access token associated with the Item data is being requested for.",
        "title": "AccessToken",
        "type": "string"
      },
      "IncomeVerificationPrecheckMilitaryInfo": {
        "description": "Data about military info in the income verification precheck.",
        "nullable": true,
        "properties": {
          "branch": {
            "description": "If the user is currently serving in the US military, the branch of the military in which they are serving\nValid values: 'AIR FORCE', 'ARMY', 'COAST GUARD', 'MARINES', 'NAVY', 'UNKNOWN'",
            "nullable": true,
            "type": "string"
          },
          "is_active_duty": {
            "description": "Is the user currently active duty in the US military",
            "nullable": true,
            "type": "boolean"
          }
        },
        "title": "IncomeVerificationPrecheckMilitaryInfo",
        "type": "object"
      },
      "IncomeVerificationPrecheckUser": {
        "description": "Information about the user whose eligibility is being evaluated.",
        "nullable": true,
        "properties": {
          "email_address": {
            "description": "The user's email address",
            "nullable": true,
            "type": "string"
          },
          "first_name": {
            "description": "The user's first name",
            "nullable": true,
            "type": "string"
          },
          "home_address": {
            "$ref": "#/$defs/SignalAddressData"
          },
          "last_name": {
            "description": "The user's last name",
            "nullable": true,
            "type": "string"
          }
        },
        "title": "IncomeVerificationPrecheckUser",
        "type": "object"
      },
      "SignalAddressData": {
        "additionalProperties": true,
        "description": "Data about the components comprising an address.",
        "nullable": true,
        "properties": {
          "city": {
            "description": "The full city name",
            "type": "string"
          },
          "country": {
            "description": "The ISO 3166-1 alpha-2 country code",
            "nullable": true,
            "type": "string"
          },
          "postal_code": {
            "description": "The postal code",
            "nullable": true,
            "type": "string"
          },
          "region": {
            "description": "The region or state\nExample: `\"NC\"`",
            "nullable": true,
            "type": "string"
          },
          "street": {
            "description": "The full street address\nExample: `\"564 Main Street, APT 15\"`",
            "type": "string"
          }
        },
        "title": "AddressData",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://production.plaid.com/income/verification/precheck"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "IncomeVerificationPrecheckResponse"
        },
        "IncomeVerificationPrecheckResponse defines the response schema for `/income/verification/precheck`.",
        "**Key properties:**",
        {
          "$ul": [
            "**confidence**: The confidence that Plaid can support the user in the digital income verification flow instead of requiring a manual paystub upload. One of the following:",
            "**precheck_id**: ID of the precheck. Provide this value when calling `/link/token/create` in order to optimize Link conversion.",
            "**request_id**: A unique identifier for the request, which can be used for troubleshooting. This identifier, like all Plaid identifiers, is case sensitive."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
