{
  "name": "processorBankTransferCreate",
  "description": "Use the `/processor/bank_transfer/create` endpoint to initiate a new bank transfer as a processor",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/ProcessorBankTransferCreateRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "ProcessorBankTransferCreateRequest": {
        "description": "Defines the request schema for `/processor/bank_transfer/create`",
        "properties": {
          "ach_class": {
            "$ref": "#/$defs/ACHClass"
          },
          "amount": {
            "$ref": "#/$defs/BankTransferAmount"
          },
          "client_id": {
            "$ref": "#/$defs/APIClientID"
          },
          "custom_tag": {
            "description": "An arbitrary string provided by the client for storage with the bank transfer. May be up to 100 characters.",
            "maxLength": 100,
            "nullable": true,
            "type": "string"
          },
          "description": {
            "description": "The transfer description. Maximum of 10 characters.",
            "maxLength": 10,
            "type": "string"
          },
          "idempotency_key": {
            "$ref": "#/$defs/BankTransferIdempotencyKey"
          },
          "iso_currency_code": {
            "description": "The currency of the transfer amount – should be set to \"USD\".",
            "type": "string"
          },
          "metadata": {
            "$ref": "#/$defs/BankTransferMetadata"
          },
          "network": {
            "$ref": "#/$defs/BankTransferNetwork"
          },
          "origination_account_id": {
            "description": "Plaid’s unique identifier for the origination account for this transfer. If you have more than one origination account, this value must be specified.",
            "nullable": true,
            "type": "string"
          },
          "processor_token": {
            "$ref": "#/$defs/ProcessorToken"
          },
          "secret": {
            "$ref": "#/$defs/APISecret"
          },
          "type": {
            "$ref": "#/$defs/BankTransferType"
          },
          "user": {
            "$ref": "#/$defs/BankTransferUser"
          }
        },
        "required": [
          "idempotency_key",
          "processor_token",
          "type",
          "network",
          "amount",
          "iso_currency_code",
          "description",
          "user"
        ],
        "title": "ProcessorBankTransferCreateRequest",
        "type": "object"
      },
      "ACHClass": {
        "description": "Specifies the use case of the transfer. Required for transfers on an ACH network.\n\n`\"ccd\"` - Corporate Credit or Debit - fund transfer between two corporate bank accounts\n\n`\"ppd\"` - Prearranged Payment or Deposit - the transfer is part of a pre-existing relationship with a consumer, eg. bill payment\n\n`\"tel\"` - Telephone-Initiated Entry\n\n`\"web\"` - Internet-Initiated Entry - debits from a consumer’s account where their authorization is obtained over the Internet",
        "enum": [
          "ccd",
          "ppd",
          "tel",
          "web"
        ],
        "title": "ACHClass",
        "type": "string"
      },
      "BankTransferAmount": {
        "description": "The amount of the bank transfer (decimal string with two digits of precision e.g. \"10.00\").",
        "title": "BankTransferAmount",
        "type": "string"
      },
      "APIClientID": {
        "description": "Your Plaid API `client_id`. The `client_id` is required and may be provided either in the `PLAID-CLIENT-ID` header or as part of a request body.",
        "title": "ClientID",
        "type": "string"
      },
      "BankTransferIdempotencyKey": {
        "description": "A random key provided by the client, per unique bank transfer. Maximum of 50 characters.\n\nThe API supports idempotency for safely retrying requests without accidentally performing the same operation twice. For example, if a request to create a bank transfer fails due to a network connection error, you can retry the request with the same idempotency key to guarantee that only a single bank transfer is created.",
        "maxLength": 50,
        "title": "BankTransferIdempotencyKey",
        "type": "string"
      },
      "BankTransferMetadata": {
        "additionalProperties": {
          "type": "string"
        },
        "description": "The Metadata object is a mapping of client-provided string fields to any string value. The following limitations apply:\nThe JSON values must be Strings (no nested JSON objects allowed)\nOnly ASCII characters may be used\nMaximum of 50 key/value pairs\nMaximum key length of 40 characters\nMaximum value length of 500 characters\n",
        "maxProperties": 50,
        "nullable": true,
        "title": "BankTransferMetadata",
        "type": "object"
      },
      "BankTransferNetwork": {
        "description": "The network or rails used for the transfer. Valid options are `ach`, `same-day-ach`, or `wire`.",
        "enum": [
          "ach",
          "same-day-ach",
          "wire"
        ],
        "title": "BankTransferNetwork",
        "type": "string"
      },
      "ProcessorToken": {
        "description": "The processor token obtained from the Plaid integration partner. Processor tokens are in the format: `processor-<environment>-<identifier>`",
        "title": "ProcessorToken",
        "type": "string"
      },
      "APISecret": {
        "description": "Your Plaid API `secret`. The `secret` is required and may be provided either in the `PLAID-SECRET` header or as part of a request body.",
        "title": "APISecret",
        "type": "string"
      },
      "BankTransferType": {
        "description": "The type of bank transfer. This will be either `debit` or `credit`.  A `debit` indicates a transfer of money into the origination account; a `credit` indicates a transfer of money out of the origination account.",
        "enum": [
          "debit",
          "credit"
        ],
        "title": "BankTransferType",
        "type": "string"
      },
      "BankTransferUser": {
        "additionalProperties": true,
        "description": "The legal name and other information for the account holder.",
        "properties": {
          "email_address": {
            "description": "The account holder’s email.",
            "nullable": true,
            "type": "string"
          },
          "legal_name": {
            "description": "The account holder’s full legal name. If the transfer `ach_class` is `ccd`, this should be the business name of the account holder.",
            "type": "string"
          },
          "routing_number": {
            "description": "The account holder's routing number. This field is only used in response data. Do not provide this field when making requests.",
            "readOnly": true,
            "type": "string"
          }
        },
        "required": [
          "legal_name"
        ],
        "title": "BankTransferUser",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://production.plaid.com/processor/bank_transfer/create"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "ProcessorBankTransferCreateResponse"
        },
        "Defines the response schema for `/processor/bank_transfer/create`",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**bank_transfer**: Represents a bank transfer within the Bank Transfers API.",
              {
                "$ul": [
                  "**account_id**: The account ID that should be credited/debited for this bank transfer.",
                  "**ach_class**: Specifies the use case of the transfer. Required for transfers on an ACH network.",
                  "**amount**: The amount of the bank transfer (decimal string with two digits of precision e.g. \"10.00\").",
                  "**cancellable**: When `true`, you can still cancel this bank transfer.",
                  "**created**: The datetime when this bank transfer was created. This will be of the form `2006-01-02T15:04:05Z`",
                  "**custom_tag**: A string containing the custom tag provided by the client in the create request. Will be null if not provided.",
                  "**description**: The description of the transfer.",
                  "**direction**: Indicates the direction of the transfer: `outbound` for API-initiated transfers, or `inbound` for payments received by the FBO account.",
                  [
                    "**failure_reason**: The failure reason if the type of this transfer is `\"failed\"` or `\"reversed\"`. Null value otherwise.",
                    {
                      "$ul": [
                        "**ach_return_code**: The ACH return code, e.g. `R01`.  A return code will be provided if and only if the transfer status is `reversed`. For a full listing of ACH return codes, see [Bank Transfers errors](https://plaid.com/docs/errors/bank-transfers/#ach-return-codes).",
                        "**description**: A human-readable description of the reason for the failure or reversal."
                      ]
                    }
                  ],
                  "**id**: Plaid’s unique identifier for a bank transfer.",
                  "**iso_currency_code**: The currency of the transfer amount, e.g. \"USD\"",
                  "**metadata**: The Metadata object is a mapping of client-provided string fields to any string value. The following limitations apply:",
                  "**network**: The network or rails used for the transfer. Valid options are `ach`, `same-day-ach`, or `wire`.",
                  "**origination_account_id**: Plaid’s unique identifier for the origination account that was used for this transfer.",
                  "**status**: The status of the transfer.",
                  "**type**: The type of bank transfer. This will be either `debit` or `credit`.  A `debit` indicates a transfer of money into the origination account; a `credit` indicates a transfer of money out of the origination account.",
                  [
                    "**user**: The legal name and other information for the account holder.",
                    {
                      "$ul": [
                        "**email_address**: The account holder’s email.",
                        "**legal_name**: The account holder’s full legal name. If the transfer `ach_class` is `ccd`, this should be the business name of the account holder.",
                        "**routing_number**: The account holder's routing number. This field is only used in response data. Do not provide this field when making requests."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**request_id**: A unique identifier for the request, which can be used for troubleshooting. This identifier, like all Plaid identifiers, is case sensitive."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error"
        },
        "We use standard HTTP response codes for success and failure notifications, and our errors are further classified by `error_type`. In general, 200 HTTP codes correspond to success, 40X codes are for developer- or user-related failures, and 50X codes are for Plaid-related issues. An Item with a non-`null` error object will only be part of an API response when calling `/item/get` to view Item status. Otherwise, error fields will be `null` if no error has occurred; if an error has occurred, an error code will be returned instead.",
        "**Key properties:**",
        {
          "$ul": [
            "**causes**: In the Assets product, a request can pertain to more than one Item. If an error is returned for such a request, `causes` will return an array of errors containing a breakdown of these errors on the individual Item level, if any can be identified.",
            "**display_message**: A user-friendly representation of the error code. `null` if the error is not related to user action.",
            "**documentation_url**: The URL of a Plaid documentation page with more information about the error",
            "**error_code**: The particular error code. Safe for programmatic use.",
            "**error_message**: A developer-friendly representation of the error code. This may change over time and is not safe for programmatic use.",
            "**error_type**: A broad categorization of the error. Safe for programmatic use.",
            "**request_id**: A unique ID identifying the request, to be used for troubleshooting purposes. This field will be omitted in errors provided by webhooks.",
            "**status**: The HTTP status code associated with the error. This will only be returned in the response body when the error information is provided via a webhook.",
            "**suggested_action**: Suggested steps for resolving the error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
