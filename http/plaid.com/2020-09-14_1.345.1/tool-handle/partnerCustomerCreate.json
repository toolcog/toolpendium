{
  "name": "partnerCustomerCreate",
  "description": "The `/partner/customer/create` endpoint is used by reseller partners to create end customers.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/PartnerCustomerCreateRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "PartnerCustomerCreateRequest": {
        "description": "Request schema for `/partner/customer/create`.",
        "properties": {
          "address": {
            "$ref": "#/$defs/PartnerEndCustomerAddress"
          },
          "application_name": {
            "description": "The name of the end customer's application. This will be shown to end users when they go through the Plaid Link flow.",
            "type": "string"
          },
          "assets_under_management": {
            "$ref": "#/$defs/PartnerEndCustomerAssetsUnderManagement"
          },
          "billing_contact": {
            "$ref": "#/$defs/PartnerEndCustomerBillingContact"
          },
          "client_id": {
            "$ref": "#/$defs/APIClientID"
          },
          "company_name": {
            "description": "The company name of the end customer being created. This will be used to display the end customer in the Plaid Dashboard. It will not be shown to end users.",
            "type": "string"
          },
          "create_link_customization": {
            "description": "If `true`, the end customer's default Link customization will be set to match the partner's. You can always change the end customer's Link customization in the Plaid Dashboard. See the [Link Customization docs](https://plaid.com/docs/link/customization/) for more information.",
            "type": "boolean"
          },
          "customer_support_info": {
            "$ref": "#/$defs/PartnerEndCustomerCustomerSupportInfo"
          },
          "is_bank_addendum_completed": {
            "description": "Denotes whether the partner has forwarded the Plaid bank addendum to the end customer.",
            "type": "boolean"
          },
          "is_diligence_attested": {
            "description": "Denotes whether or not the partner has completed attestation of diligence for the end customer to be created.",
            "type": "boolean"
          },
          "legal_entity_name": {
            "description": "The end customer's legal name. This will be shared with financial institutions as part of the OAuth registration process. It will not be shown to end users.",
            "type": "string"
          },
          "logo": {
            "description": "Base64-encoded representation of the end customer's logo. Must be a PNG of size 1024x1024 under 4MB. The logo will be shared with financial institutions and shown to the end user during Link flows. A logo is required if `create_link_customization` is `true`. If `create_link_customization` is `false` and the logo is omitted, a stock logo will be used.",
            "type": "string"
          },
          "products": {
            "description": "The products to be enabled for the end customer.",
            "items": {
              "$ref": "#/$defs/Products"
            },
            "type": "array",
            "x-override-enum-values-shown": [
              "assets",
              "auth",
              "balance",
              "identity",
              "income_verification",
              "investments",
              "liabilities",
              "transactions",
              "employment"
            ]
          },
          "redirect_uris": {
            "description": "A list of URIs indicating the destination(s) where a user can be forwarded after completing the Link flow; used to support OAuth authentication flows when launching Link in the browser or via a webview. URIs should not contain any query parameters. When used in Production or Development, URIs must use https. To specify any subdomain, use `*` as a wildcard character, e.g. `https://*.example.com/oauth.html`. To modify redirect URIs for an end customer after creating them, go to the end customer's [API page](https://dashboard.plaid.com/team/api) in the Dashboard.",
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "secret": {
            "$ref": "#/$defs/APISecret"
          },
          "technical_contact": {
            "$ref": "#/$defs/PartnerEndCustomerTechnicalContact"
          },
          "website": {
            "description": "The end customer's website.",
            "type": "string"
          }
        },
        "required": [
          "company_name",
          "is_diligence_attested",
          "products",
          "legal_entity_name",
          "website",
          "application_name",
          "address",
          "is_bank_addendum_completed"
        ]
      },
      "PartnerEndCustomerAddress": {
        "additionalProperties": true,
        "description": "The end customer's address.",
        "properties": {
          "city": {
            "type": "string"
          },
          "country_code": {
            "description": "ISO-3166-1 alpha-2 country code standard.",
            "type": "string"
          },
          "postal_code": {
            "type": "string"
          },
          "region": {
            "type": "string"
          },
          "street": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "PartnerEndCustomerAssetsUnderManagement": {
        "additionalProperties": true,
        "description": "Assets under management for the given end customer. Required for end customers with monthly service commitments.",
        "properties": {
          "amount": {
            "format": "double",
            "type": "number"
          },
          "iso_currency_code": {
            "type": "string"
          }
        },
        "required": [
          "amount",
          "iso_currency_code"
        ],
        "type": "object"
      },
      "PartnerEndCustomerBillingContact": {
        "additionalProperties": true,
        "description": "The billing contact for the end customer. Defaults to partner's billing contact if omitted.",
        "properties": {
          "email": {
            "type": "string"
          },
          "family_name": {
            "type": "string"
          },
          "given_name": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "APIClientID": {
        "description": "Your Plaid API `client_id`. The `client_id` is required and may be provided either in the `PLAID-CLIENT-ID` header or as part of a request body.",
        "title": "ClientID",
        "type": "string"
      },
      "PartnerEndCustomerCustomerSupportInfo": {
        "additionalProperties": true,
        "description": "This information is public. Users of your app will see this information when managing connections between your app and their bank accounts in Plaid Portal. Defaults to partner's customer support info if omitted.",
        "properties": {
          "contact_url": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "link_update_url": {
            "type": "string"
          },
          "phone_number": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "Products": {
        "description": "A list of products that an institution can support. All Items must be initialized with at least one product. The Balance product is always available and does not need to be specified during initialization.",
        "enum": [
          "assets",
          "auth",
          "balance",
          "identity",
          "investments",
          "liabilities",
          "payment_initiation",
          "identity_verification",
          "transactions",
          "credit_details",
          "income",
          "income_verification",
          "deposit_switch",
          "standing_orders",
          "transfer",
          "employment",
          "recurring_transactions",
          "signal"
        ],
        "title": "Products",
        "type": "string"
      },
      "APISecret": {
        "description": "Your Plaid API `secret`. The `secret` is required and may be provided either in the `PLAID-SECRET` header or as part of a request body.",
        "title": "APISecret",
        "type": "string"
      },
      "PartnerEndCustomerTechnicalContact": {
        "additionalProperties": true,
        "description": "The technical contact for the end customer. Defaults to partner's technical contact if omitted.",
        "properties": {
          "email": {
            "type": "string"
          },
          "family_name": {
            "type": "string"
          },
          "given_name": {
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://production.plaid.com/partner/customer/create"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Response schema for `/partner/customer/create`.",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**end_customer**: The details for an end customer.",
              {
                "$ul": [
                  "**client_id**",
                  "**company_name**",
                  "**status**: The status of the given end customer.",
                  [
                    "**secrets**: The secrets for the newly created end customer in non-Production environments.",
                    {
                      "$ul": [
                        "**development**: The end customer's secret key for the Development environment.",
                        "**sandbox**: The end customer's secret key for the Sandbox environment."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**request_id**: A unique identifier for the request, which can be used for troubleshooting. This identifier, like all Plaid identifiers, is case sensitive."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error"
        },
        "We use standard HTTP response codes for success and failure notifications, and our errors are further classified by `error_type`. In general, 200 HTTP codes correspond to success, 40X codes are for developer- or user-related failures, and 50X codes are for Plaid-related issues. An Item with a non-`null` error object will only be part of an API response when calling `/item/get` to view Item status. Otherwise, error fields will be `null` if no error has occurred; if an error has occurred, an error code will be returned instead.",
        "**Key properties:**",
        {
          "$ul": [
            "**causes**: In the Assets product, a request can pertain to more than one Item. If an error is returned for such a request, `causes` will return an array of errors containing a breakdown of these errors on the individual Item level, if any can be identified.",
            "**display_message**: A user-friendly representation of the error code. `null` if the error is not related to user action.",
            "**documentation_url**: The URL of a Plaid documentation page with more information about the error",
            "**error_code**: The particular error code. Safe for programmatic use.",
            "**error_message**: A developer-friendly representation of the error code. This may change over time and is not safe for programmatic use.",
            "**error_type**: A broad categorization of the error. Safe for programmatic use.",
            "**request_id**: A unique ID identifying the request, to be used for troubleshooting purposes. This field will be omitted in errors provided by webhooks.",
            "**status**: The HTTP status code associated with the error. This will only be returned in the response body when the error information is provided via a webhook.",
            "**suggested_action**: Suggested steps for resolving the error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
