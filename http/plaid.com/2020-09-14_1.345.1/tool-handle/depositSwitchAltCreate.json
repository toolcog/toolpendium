{
  "name": "depositSwitchAltCreate",
  "description": "This endpoint provides an alternative to `/deposit_switch/create` for customers who have not yet fully integrated with Plaid Exchange. Like `/deposit_switch/create`, it creates a deposit switch entity that will be persisted throughout the lifecycle of the switch.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/DepositSwitchAltCreateRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "DepositSwitchAltCreateRequest": {
        "description": "DepositSwitchAltCreateRequest defines the request schema for `/deposit_switch/alt/create`",
        "properties": {
          "client_id": {
            "$ref": "#/$defs/APIClientID"
          },
          "country_code": {
            "description": "ISO-3166-1 alpha-2 country code standard.",
            "enum": [
              "US",
              "CA"
            ],
            "nullable": true,
            "title": "CountryCode",
            "type": "string"
          },
          "options": {
            "$ref": "#/$defs/DepositSwitchCreateRequestOptions"
          },
          "secret": {
            "$ref": "#/$defs/APISecret"
          },
          "target_account": {
            "$ref": "#/$defs/DepositSwitchTargetAccount"
          },
          "target_user": {
            "$ref": "#/$defs/DepositSwitchTargetUser"
          }
        },
        "required": [
          "target_account",
          "target_user"
        ],
        "title": "DepositSwitchAltCreateRequest",
        "type": "object"
      },
      "APIClientID": {
        "description": "Your Plaid API `client_id`. The `client_id` is required and may be provided either in the `PLAID-CLIENT-ID` header or as part of a request body.",
        "title": "ClientID",
        "type": "string"
      },
      "DepositSwitchCreateRequestOptions": {
        "description": "Options to configure the `/deposit_switch/create` request. If provided, cannot be `null`.",
        "properties": {
          "transaction_item_access_tokens": {
            "description": "An array of access tokens corresponding to transaction items to use when attempting to match the user to their Payroll Provider. These tokens must be created by the same client id as the one creating the switch, and have access to the transactions product.",
            "items": {
              "$ref": "#/$defs/AccessToken"
            },
            "maxItems": 99,
            "minItems": 1,
            "type": "array"
          },
          "webhook": {
            "description": "The URL registered to receive webhooks when the status of a deposit switch request has changed.\n",
            "nullable": true,
            "type": "string"
          }
        },
        "title": "DepositSwitchCreateRequestOptions",
        "type": "object",
        "x-private-visibility": false
      },
      "AccessToken": {
        "description": "The access token associated with the Item data is being requested for.",
        "title": "AccessToken",
        "type": "string"
      },
      "APISecret": {
        "description": "Your Plaid API `secret`. The `secret` is required and may be provided either in the `PLAID-SECRET` header or as part of a request body.",
        "title": "APISecret",
        "type": "string"
      },
      "DepositSwitchTargetAccount": {
        "additionalProperties": true,
        "description": "The deposit switch destination account",
        "properties": {
          "account_name": {
            "description": "The name of the deposit switch destination account, as it will be displayed to the end user in the Deposit Switch interface. It is not required to match the name used in online banking.",
            "type": "string"
          },
          "account_number": {
            "description": "Account number for deposit switch destination",
            "type": "string"
          },
          "account_subtype": {
            "description": "The account subtype of the account, either `checking` or `savings`.",
            "enum": [
              "checking",
              "savings"
            ],
            "type": "string"
          },
          "routing_number": {
            "description": "Routing number for deposit switch destination",
            "type": "string"
          }
        },
        "required": [
          "account_number",
          "routing_number",
          "account_name",
          "account_subtype"
        ],
        "title": "DepositSwitchTargetAccount",
        "type": "object"
      },
      "DepositSwitchTargetUser": {
        "additionalProperties": true,
        "description": "The deposit switch target user",
        "properties": {
          "address": {
            "$ref": "#/$defs/DepositSwitchAddressData"
          },
          "email": {
            "description": "The email address of the user.",
            "type": "string"
          },
          "family_name": {
            "description": "The family name (last name) of the user.",
            "type": "string"
          },
          "given_name": {
            "description": "The given name (first name) of the user.",
            "type": "string"
          },
          "phone": {
            "description": "The phone number of the user. The endpoint can accept a variety of phone number formats, including E.164.",
            "type": "string"
          },
          "tax_payer_id": {
            "description": "The taxpayer ID of the user, generally their SSN, EIN, or TIN.",
            "type": "string"
          }
        },
        "required": [
          "given_name",
          "family_name",
          "phone",
          "email"
        ],
        "title": "DepositSwitchTargetUser",
        "type": "object"
      },
      "DepositSwitchAddressData": {
        "additionalProperties": true,
        "description": "The user's address.",
        "properties": {
          "city": {
            "description": "The full city name",
            "type": "string"
          },
          "country": {
            "description": "The ISO 3166-1 alpha-2 country code",
            "type": "string"
          },
          "postal_code": {
            "description": "The postal code",
            "type": "string"
          },
          "region": {
            "description": "The region or state\nExample: `\"NC\"`",
            "type": "string"
          },
          "street": {
            "description": "The full street address\nExample: `\"564 Main Street, APT 15\"`",
            "type": "string"
          }
        },
        "required": [
          "street",
          "city",
          "region",
          "postal_code",
          "country"
        ],
        "title": "DepositSwitchAddressData",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://production.plaid.com/deposit_switch/alt/create"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "DepositSwitchAltCreateResponse"
        },
        "DepositSwitchAltCreateResponse defines the response schema for `/deposit_switch/alt/create`",
        "**Key properties:**",
        {
          "$ul": [
            "**deposit_switch_id**: ID of the deposit switch. This ID is persisted throughout the lifetime of the deposit switch.",
            "**request_id**: A unique identifier for the request, which can be used for troubleshooting. This identifier, like all Plaid identifiers, is case sensitive."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
