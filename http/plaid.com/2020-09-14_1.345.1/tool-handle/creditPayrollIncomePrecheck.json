{
  "name": "creditPayrollIncomePrecheck",
  "description": "`/credit/payroll_income/precheck` is an optional endpoint that can be called before initializing a Link session for income verification. It evaluates whether a given user is supportable by digital income verification. If the user is eligible for digital verification, that information will be associated with the user token, and in this way will generate a Link UI optimized for the end user and their specific employer. If the user cannot be confirmed as eligible, the user can still use the income verification flow, but they may be required to manually upload a paystub to verify their income.\n\nWhile all request fields are optional, providing `employer` data will increase the chance of receiving a useful result.\n\nWhen testing in Sandbox, you can control the results by providing special test values in the `employer` and `access_tokens` fields. `employer_good` and `employer_bad` will result in `HIGH` and `LOW` confidence values, respectively. `employer_multi` will result in a `HIGH` confidence with multiple payroll options. Likewise, `access_good` and `access_bad` will result in `HIGH` and `LOW` confidence values, respectively. Any other value for `employer` and `access_tokens` in Sandbox will result in `UNKNOWN` confidence.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/CreditPayrollIncomePrecheckRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "CreditPayrollIncomePrecheckRequest": {
        "description": "Defines the request schema for `/credit/payroll_income/precheck`.",
        "properties": {
          "access_tokens": {
            "description": "An array of access tokens corresponding to Items belonging to the user whose eligibility is being checked. Note that if the Items specified here are not already initialized with `transactions`, providing them in this field will cause these Items to be initialized with (and billed for) the Transactions product.",
            "items": {
              "$ref": "#/$defs/AccessToken"
            },
            "type": "array"
          },
          "client_id": {
            "$ref": "#/$defs/APIClientID"
          },
          "employer": {
            "$ref": "#/$defs/IncomeVerificationPrecheckEmployer"
          },
          "payroll_institution": {
            "$ref": "#/$defs/IncomeVerificationPrecheckPayrollInstitution"
          },
          "secret": {
            "$ref": "#/$defs/APISecret"
          },
          "us_military_info": {
            "$ref": "#/$defs/IncomeVerificationPrecheckMilitaryInfo"
          },
          "user_token": {
            "$ref": "#/$defs/UserToken"
          }
        },
        "title": "CreditPayrollIncomePrecheckRequest",
        "type": "object"
      },
      "AccessToken": {
        "description": "The access token associated with the Item data is being requested for.",
        "title": "AccessToken",
        "type": "string"
      },
      "APIClientID": {
        "description": "Your Plaid API `client_id`. The `client_id` is required and may be provided either in the `PLAID-CLIENT-ID` header or as part of a request body.",
        "title": "ClientID",
        "type": "string"
      },
      "IncomeVerificationPrecheckEmployer": {
        "description": "Information about the end user's employer",
        "nullable": true,
        "properties": {
          "address": {
            "$ref": "#/$defs/IncomeVerificationPrecheckEmployerAddress"
          },
          "name": {
            "description": "The employer's name",
            "nullable": true,
            "type": "string"
          },
          "tax_id": {
            "description": "The employer's tax id",
            "nullable": true,
            "type": "string"
          },
          "url": {
            "description": "The URL for the employer's public website",
            "nullable": true,
            "type": "string"
          }
        },
        "title": "IncomeVerificationPrecheckEmployer",
        "type": "object"
      },
      "IncomeVerificationPrecheckEmployerAddress": {
        "allOf": [
          {
            "$ref": "#/$defs/IncomeVerificationPrecheckEmployerAddressData"
          },
          {
            "additionalProperties": true,
            "type": "object"
          }
        ],
        "description": "The address of the employer",
        "nullable": true,
        "title": "IncomeVerificationPrecheckEmployerAddress",
        "type": "object"
      },
      "IncomeVerificationPrecheckEmployerAddressData": {
        "additionalProperties": true,
        "description": "Data about the components comprising an address.",
        "properties": {
          "city": {
            "description": "The full city name",
            "type": "string"
          },
          "country": {
            "description": "The ISO 3166-1 alpha-2 country code",
            "type": "string"
          },
          "postal_code": {
            "description": "The postal code. In API versions 2018-05-22 and earlier, this field is called `zip`.",
            "type": "string"
          },
          "region": {
            "description": "The region or state. In API versions 2018-05-22 and earlier, this field is called `state`.\nExample: `\"NC\"`",
            "type": "string"
          },
          "street": {
            "description": "The full street address\nExample: `\"564 Main Street, APT 15\"`",
            "type": "string"
          }
        },
        "title": "AddressData",
        "type": "object"
      },
      "IncomeVerificationPrecheckPayrollInstitution": {
        "description": "Information about the end user's payroll institution",
        "nullable": true,
        "properties": {
          "name": {
            "description": "The name of payroll institution",
            "nullable": true,
            "type": "string"
          }
        },
        "title": "IncomeVerificationPrecheckPayrollInstitution",
        "type": "object"
      },
      "APISecret": {
        "description": "Your Plaid API `secret`. The `secret` is required and may be provided either in the `PLAID-SECRET` header or as part of a request body.",
        "title": "APISecret",
        "type": "string"
      },
      "IncomeVerificationPrecheckMilitaryInfo": {
        "description": "Data about military info in the income verification precheck.",
        "nullable": true,
        "properties": {
          "branch": {
            "description": "If the user is currently serving in the US military, the branch of the military in which they are serving\nValid values: 'AIR FORCE', 'ARMY', 'COAST GUARD', 'MARINES', 'NAVY', 'UNKNOWN'",
            "nullable": true,
            "type": "string"
          },
          "is_active_duty": {
            "description": "Is the user currently active duty in the US military",
            "nullable": true,
            "type": "boolean"
          }
        },
        "title": "IncomeVerificationPrecheckMilitaryInfo",
        "type": "object"
      },
      "UserToken": {
        "description": "The user token associated with the User data is being requested for.",
        "title": "UserToken",
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://production.plaid.com/credit/payroll_income/precheck"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "CreditPayrollIncomePrecheckResponse"
        },
        "Defines the response schema for `/credit/payroll_income/precheck`.",
        "**Key properties:**",
        {
          "$ul": [
            "**confidence**: The confidence that Plaid can support the user in the digital income verification flow instead of requiring a manual paystub upload. One of the following:",
            "**request_id**: A unique identifier for the request, which can be used for troubleshooting. This identifier, like all Plaid identifiers, is case sensitive."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
