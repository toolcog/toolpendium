{
  "name": "transactionsEnrich",
  "description": "The `/transactions/enrich` endpoint enriches raw transaction data generated by your own banking products or retrieved from other non-Plaid sources.\n\nTo request access to Enrich, reach out to your Plaid point of contact or send a note to enrich-feedback@plaid.com",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/TransactionsEnrichGetRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "TransactionsEnrichGetRequest": {
        "description": "TransactionsEnrichGetRequest defines the request schema for `/transactions/enrich`.",
        "properties": {
          "account_type": {
            "description": "The account type for the requested transactions (either `depository` or `credit`).",
            "type": "string"
          },
          "client_id": {
            "$ref": "#/$defs/APIClientID"
          },
          "options": {
            "$ref": "#/$defs/TransactionsEnrichRequestOptions"
          },
          "secret": {
            "$ref": "#/$defs/APISecret"
          },
          "transactions": {
            "description": "An array of transaction objects to be enriched by Plaid. Maximum of 100 transactions per request.",
            "items": {
              "$ref": "#/$defs/ClientProvidedTransaction"
            },
            "type": "array"
          }
        },
        "required": [
          "account_type",
          "transactions"
        ],
        "type": "object"
      },
      "APIClientID": {
        "description": "Your Plaid API `client_id`. The `client_id` is required and may be provided either in the `PLAID-CLIENT-ID` header or as part of a request body.",
        "title": "ClientID",
        "type": "string"
      },
      "TransactionsEnrichRequestOptions": {
        "description": "An optional object to be used with the request.",
        "properties": {
          "include_legacy_category": {
            "default": false,
            "description": "Include `legacy_category` and `legacy_category_id` in the response (in addition to the default `personal_finance_category`).\n\nCategories are based on Plaid's legacy taxonomy. For a full list of legacy categories, see [`/categories/get`](https://plaid.com/docs/api/products/transactions/#categoriesget).",
            "type": "boolean"
          }
        },
        "type": "object"
      },
      "APISecret": {
        "description": "Your Plaid API `secret`. The `secret` is required and may be provided either in the `PLAID-SECRET` header or as part of a request body.",
        "title": "APISecret",
        "type": "string"
      },
      "ClientProvidedTransaction": {
        "additionalProperties": true,
        "description": "A client-provided transaction for Plaid to enrich.",
        "properties": {
          "amount": {
            "description": "The absolute value of the transaction (>= 0). When testing Enrich, note that `amount` data should be realistic. Unrealistic or inaccurate `amount` data may result in reduced quality output.",
            "format": "double",
            "type": "number"
          },
          "date_posted": {
            "description": "The date the transaction posted, in [ISO 8601](https://wikipedia.org/wiki/ISO_8601) (YYYY-MM-DD) format.",
            "format": "date",
            "type": "string"
          },
          "description": {
            "description": "The raw description of the transaction. If you have location data in available an unstructured format, it may be appended to the `description` field.",
            "type": "string"
          },
          "direction": {
            "$ref": "#/$defs/EnrichTransactionDirection"
          },
          "id": {
            "description": "A unique ID for the transaction used to help you tie data back to your systems.",
            "type": "string"
          },
          "iso_currency_code": {
            "description": "The ISO-4217 currency code of the transaction e.g. USD.",
            "type": "string"
          },
          "location": {
            "$ref": "#/$defs/ClientProvidedTransactionLocation"
          },
          "mcc": {
            "description": "Merchant category codes (MCCs) are four-digit numbers that describe a merchant's primary business activities.",
            "type": "string"
          }
        },
        "required": [
          "id",
          "description",
          "amount",
          "direction",
          "iso_currency_code"
        ],
        "title": "ClientProvidedTransaction",
        "type": "object"
      },
      "EnrichTransactionDirection": {
        "description": "The direction of the transaction from the perspective of the account holder:\n\n`OUTFLOW` - Includes outgoing transfers, purchases, and fees. (Typically represented as a negative value on checking accounts and debit cards and a positive value on credit cards.)\n\n`INFLOW` - Includes incoming transfers, refunds, and income. (Typically represented as a positive value on checking accounts and debit cards and a negative value on credit cards.)",
        "enum": [
          "INFLOW",
          "OUTFLOW"
        ],
        "title": "EnrichTransactionDirection",
        "type": "string"
      },
      "ClientProvidedTransactionLocation": {
        "additionalProperties": true,
        "description": "A representation of where a transaction took place.\n\nUse this field to pass in structured location information you may have about your transactions. Providing location data is optional but can increase result quality. If you have unstructured location information, it may be appended to the `description` field.",
        "properties": {
          "address": {
            "description": "The street address where the transaction occurred.",
            "type": "string"
          },
          "city": {
            "description": "The city where the transaction occurred.",
            "type": "string"
          },
          "country": {
            "description": "The country where the transaction occurred.",
            "type": "string"
          },
          "postal_code": {
            "description": "The postal code where the transaction occurred.",
            "type": "string"
          },
          "region": {
            "description": "The region or state where the transaction occurred.",
            "type": "string"
          }
        },
        "title": "ClientProvidedTransactionLocation",
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://production.plaid.com/transactions/enrich"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "TransactionsEnrichGetResponse defines the response schema for `/transactions/enrich`.",
        "**Key properties:**",
        {
          "$ul": [
            "**enriched_transactions**: A list of enriched transactions.",
            "**request_id**: A unique identifier for the request, which can be used for troubleshooting. This identifier, like all Plaid identifiers, is case sensitive."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error"
        },
        "We use standard HTTP response codes for success and failure notifications, and our errors are further classified by `error_type`. In general, 200 HTTP codes correspond to success, 40X codes are for developer- or user-related failures, and 50X codes are for Plaid-related issues. An Item with a non-`null` error object will only be part of an API response when calling `/item/get` to view Item status. Otherwise, error fields will be `null` if no error has occurred; if an error has occurred, an error code will be returned instead.",
        "**Key properties:**",
        {
          "$ul": [
            "**causes**: In the Assets product, a request can pertain to more than one Item. If an error is returned for such a request, `causes` will return an array of errors containing a breakdown of these errors on the individual Item level, if any can be identified.",
            "**display_message**: A user-friendly representation of the error code. `null` if the error is not related to user action.",
            "**documentation_url**: The URL of a Plaid documentation page with more information about the error",
            "**error_code**: The particular error code. Safe for programmatic use.",
            "**error_message**: A developer-friendly representation of the error code. This may change over time and is not safe for programmatic use.",
            "**error_type**: A broad categorization of the error. Safe for programmatic use.",
            "**request_id**: A unique ID identifying the request, to be used for troubleshooting purposes. This field will be omitted in errors provided by webhooks.",
            "**status**: The HTTP status code associated with the error. This will only be returned in the response body when the error information is provided via a webhook.",
            "**suggested_action**: Suggested steps for resolving the error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
