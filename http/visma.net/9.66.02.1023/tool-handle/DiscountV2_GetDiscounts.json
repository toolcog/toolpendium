{
  "name": "DiscountV2_GetDiscounts",
  "description": "Get a range of discounts - ScreenId=AR209500",
  "parameters": {
    "type": "object",
    "properties": {
      "lastModifiedDateTime": {
        "type": "string"
      },
      "lastModifiedDateTimeCondition": {
        "type": "string",
        "description": "System retrieved information for state/condition."
      },
      "createdDateTime": {
        "type": "string",
        "description": "System retrieved information for created date and time."
      },
      "createdDateTimeCondition": {
        "type": "string",
        "description": "System retrieved information for state/condition."
      },
      "discountCode": {
        "type": "string"
      },
      "series": {
        "type": "string"
      },
      "pageNumber": {
        "format": "int32",
        "type": "integer",
        "description": "Pagination parameter. Page number."
      },
      "pageSize": {
        "format": "int32",
        "type": "integer",
        "description": "Pagination parameter. Number of items to be collected.\r\nPlease use a page size lower or equal to the allowed max page size which is returned as part of the metadata information.\r\nIf requested page size is greater than allowed max page size, request will be limited to max page size."
      },
      "erp-api-background": {
        "type": "string",
        "description": "If a URL value is provided, then API endpoint will be queued and executed in background. When the execution of the background operation is finished, the system will POST the response to the specified URL. The endpoint itself responds in this case with a 202-Accepted status and a reference to a state document for the background operation."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "/API/controller/api/v2/discount{?lastModifiedDateTime,lastModifiedDateTimeCondition,createdDateTime,createdDateTimeCondition,discountCode,series,pageNumber,pageSize}"
    },
    "headers": {
      "erp-api-background": {
        "$": "erp-api-background"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "List"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**active**: The top part &gt; Active &gt; A check box that indicates (if selected) that the series is active.",
            "**branches**: Branches tab &gt; Branch &gt; The branch to which the series can be applied.",
            "**breakBy**: The top part &gt; Break by &gt; The way the breakpoints for this discount series are specified. Quantity, Amount.",
            "**createdDateTime**",
            "**customerPriceClasses**: Customer price classes tab &gt; Customer price class ID &gt; The customer price class to which the series is applicable.",
            "**customers**: Customers tab &gt; Customer &gt; The customer to which the series is applicable.",
            "**description**: The top part &gt; Description &gt; A brief description of the series.",
            "**discountBreakpoints**",
            "**discountBy**: The top part &gt; Discount by &gt; The way the discount for the series is specified. Percent, Amount, Free item.",
            "**discountCode**: Mandatory field: The top part &gt; Discount code &gt; The code of the discount for which you want to create a new series or view an existing one.",
            "**effectiveDate**: The top part &gt; Effective date &gt; The date when the series becomes effective; this field appears for promotional discount series only.",
            "**errorInfo**",
            "**expirationDate**: The top part &gt; Expiration date &gt; The date when the promotional discount expires. This field appears for the series if the Promotional check box is selected.",
            "**freeItem**: Free item tab &gt; Free item &gt; The free item (by its item ID) that is added to orders as the discount for this series.",
            "**itemPriceClasses**: Item price classes tab &gt; Price class ID &gt; The item price class to which the series is applicable.",
            "**items**: Items tab &gt; Items ID &gt; The stock or non-stock item, by its item ID, to which the series can be applied.",
            "**lastFreeItem**: Free item tab &gt; Last free item &gt; The free item (by its item ID) that had been added to orders as the discount for this series before the date shown in the Last date column on the Discount breakpoints tab.",
            "**lastModifiedDateTime**: Free item tab &gt; Last update date &gt; A read-only field that shows the date when this discount series has been updated last.",
            "**lastUpdateDate**: The top part &gt; Last update date &gt; A read-only field that shows the date when the discount series was last updated.",
            "**lineCntr**: Free item tab &gt; A line counter for the table.",
            [
              "**metadata**",
              {
                "$ul": [
                  "**maxPageSize**",
                  "**totalCount**"
                ]
              }
            ],
            "**pendingFreeItem**: Free item tab &gt; Pending free item &gt; The free item (by its item ID) that will be added to orders as the discount for this series, starting on the date specified in the Pending date column on the Discount breakpoints tab.",
            "**promotional**: The top part &gt; Promotional &gt; A check box that indicates (if selected) that the series is a promotional discount.",
            "**prorateDiscount**: The top part &gt; Prorate discount &gt; A check box that indicates (if selected) that the discount can be prorated.",
            "**series**: Mandatory field: The top part &gt; Series &gt; The ID of the series defined for the discount.",
            "**warehouses**: Warehouses tab &gt; Warehouse ID &gt; The warehouse to which the series can be applied."
          ]
        },
        {
          "$each": "$.body.*",
          "$as": "item",
          "$block": [
            {
              "$h2": "Item"
            },
            {
              "$lang": "json",
              "$code": {
                "$encode": "json",
                "$indent": true,
                "$content": {
                  "$": "$.item"
                }
              }
            }
          ]
        }
      ]
    },
    "202": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**id**",
            "**stateLocation**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
