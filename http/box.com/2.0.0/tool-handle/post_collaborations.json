{
  "name": "post_collaborations",
  "description": "Adds a collaboration for a single user or a single group to a file\nor folder.\n\nCollaborations can be created using email address, user IDs, or a\ngroup IDs.\n\nIf a collaboration is being created with a group, access to\nthis endpoint is dependent on the group's ability to be invited.\n\nIf collaboration is in `pending` status, the following fields\nare redacted:\n- `login` and `name` are hidden if a collaboration was created\nusing `user_id`,\n-  `name` is hidden if a collaboration was created using `login`.",
  "parameters": {
    "type": "object",
    "properties": {
      "fields": {
        "items": {
          "type": "string"
        },
        "type": "array",
        "description": "A comma-separated list of attributes to include in the\nresponse. This can be used to request fields that are\nnot normally returned in a standard response.\n\nBe aware that specifying this parameter will have the\neffect that none of the standard fields are returned in\nthe response unless explicitly specified, instead only\nfields for the mini representation are returned, additional\nto the fields requested."
      },
      "notify": {
        "type": "boolean",
        "description": "Determines if users should receive email notification\nfor the action performed."
      },
      "body": {
        "properties": {
          "accessible_by": {
            "description": "The user or group to give access to the item.",
            "properties": {
              "id": {
                "description": "The ID of the user or group.\n\nAlternatively, use `login` to specify a user by email\naddress.",
                "example": "23522323",
                "type": "string"
              },
              "login": {
                "description": "The email address of the user to grant access to the item.\n\nAlternatively, use `id` to specify a user by user ID.",
                "example": "john@example.com",
                "type": "string"
              },
              "type": {
                "description": "The type of collaborator to invite.",
                "enum": [
                  "user",
                  "group"
                ],
                "example": "user",
                "type": "string"
              }
            },
            "required": [
              "type"
            ],
            "type": "object"
          },
          "can_view_path": {
            "description": "Determines if the invited users can see the entire parent path to\nthe associated folder. The user will not gain privileges in any\nparent folder and therefore can not see content the user is not\ncollaborated on.\n\nBe aware that this meaningfully increases the time required to load the\ninvitee's **All Files** page. We recommend you limit the number of\ncollaborations with `can_view_path` enabled to 1,000 per user.\n\nOnly owner or co-owners can invite collaborators with a `can_view_path` of\n`true`.\n\n`can_view_path` can only be used for folder collaborations.",
            "example": true,
            "type": "boolean"
          },
          "expires_at": {
            "description": "Set the expiration date for the collaboration. At this date, the\ncollaboration will be automatically removed from the item.\n\nThis feature will only work if the **Automatically remove invited\ncollaborators: Allow folder owners to extend the expiry date**\nsetting has been enabled in the **Enterprise Settings**\nof the **Admin Console**. When the setting is not enabled,\ncollaborations can not have an expiry date and a value for this\nfield will be result in an error.",
            "example": "2019-08-29T23:59:00-07:00",
            "format": "date-time",
            "type": "string"
          },
          "item": {
            "description": "The item to attach the comment to.",
            "properties": {
              "id": {
                "description": "The ID of the item that will be granted access to",
                "example": "11446498",
                "type": "string"
              },
              "type": {
                "description": "The type of the item that this collaboration will be\ngranted access to",
                "enum": [
                  "file",
                  "folder"
                ],
                "example": "file",
                "type": "string"
              }
            },
            "required": [
              "id",
              "type"
            ],
            "type": "object"
          },
          "role": {
            "description": "The level of access granted.",
            "enum": [
              "editor",
              "viewer",
              "previewer",
              "uploader",
              "previewer uploader",
              "viewer uploader",
              "co-owner"
            ],
            "example": "editor",
            "type": "string"
          }
        },
        "required": [
          "item",
          "accessible_by",
          "role"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.box.com/2.0/collaborations{?fields,notify}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Collaboration"
        },
        "Collaborations define access permissions for users and groups to files and\nfolders, similar to access control lists. A collaboration object grants a\nuser or group access to a file or folder with permissions defined by a\nspecific role.",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**acceptance_requirements_status**",
              {
                "$ul": [
                  [
                    "**strong_password_requirement**",
                    {
                      "$ul": [
                        "**enterprise_has_strong_password_required_for_external_users**: Whether or not the enterprise that owns the content requires",
                        "**user_has_strong_password**: Whether or not the user has a strong password set for their"
                      ]
                    }
                  ],
                  [
                    "**terms_of_service_requirement**",
                    {
                      "$ul": [
                        "**is_accepted**: Whether or not the terms of service have been accepted.  The",
                        "**terms_of_service**"
                      ]
                    }
                  ],
                  [
                    "**two_factor_authentication_requirement**",
                    {
                      "$ul": [
                        "**enterprise_has_two_factor_auth_enabled**: Whether or not the enterprise that owns the content requires",
                        "**user_has_two_factor_authentication_enabled**: Whether or not the user has two-factor authentication"
                      ]
                    }
                  ]
                ]
              }
            ],
            "**accessible_by**",
            "**acknowledged_at**: When the `status` of the collaboration object changed to",
            "**created_at**: When the collaboration object was created.",
            "**created_by**",
            "**expires_at**: When the collaboration will expire, or `null` if no expiration",
            "**id**: The unique identifier for this collaboration.",
            "**invite_email**: The email address used to invite an unregistered collaborator, if",
            "**item**",
            "**modified_at**: When the collaboration object was last modified.",
            "**role**: The level of access granted.",
            "**status**: The status of the collaboration invitation. If the status",
            "**type**: `collaboration`"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Client error"
        },
        "A generic error",
        "**Key properties:**",
        {
          "$ul": [
            "**code**: A Box-specific error code",
            [
              "**context_info**: A free-form object that contains additional context",
              {
                "$ul": [
                  "**message**: More details on the error."
                ]
              }
            ],
            "**help_url**: A URL that links to more information about why this error occurred.",
            "**message**: A short message describing the error.",
            "**request_id**: A unique identifier for this response, which can be used",
            "**status**: The HTTP status of the response.",
            "**type**: `error`"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Client error"
        },
        "A generic error",
        "**Key properties:**",
        {
          "$ul": [
            "**code**: A Box-specific error code",
            [
              "**context_info**: A free-form object that contains additional context",
              {
                "$ul": [
                  "**message**: More details on the error."
                ]
              }
            ],
            "**help_url**: A URL that links to more information about why this error occurred.",
            "**message**: A short message describing the error.",
            "**request_id**: A unique identifier for this response, which can be used",
            "**status**: The HTTP status of the response.",
            "**type**: `error`"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
