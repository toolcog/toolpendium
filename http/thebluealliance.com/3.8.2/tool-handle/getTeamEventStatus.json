{
  "name": "getTeamEventStatus",
  "description": "Gets the competition rank and status of the team at the given event.",
  "parameters": {
    "type": "object",
    "properties": {
      "If-None-Match": {
        "type": "string",
        "description": "Value of the `ETag` header in the most recently cached response by the client."
      },
      "team_key": {
        "type": "string",
        "description": "TBA Team Key, eg `frc254`"
      },
      "event_key": {
        "type": "string",
        "description": "TBA Event Key, eg `2016nytr`"
      }
    },
    "required": [
      "team_key",
      "event_key"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://www.thebluealliance.com/api/v3/team/{team_key}/event/{event_key}/status"
    },
    "headers": {
      "If-None-Match": {
        "$": "If-None-Match"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**alliance**",
              {
                "$ul": [
                  [
                    "**backup**: Backup status, may be null.",
                    {
                      "$ul": [
                        "**in**: TBA key for the backup team called in.",
                        "**out**: TBA key for the team replaced by the backup."
                      ]
                    }
                  ],
                  "**name**: Alliance name, may be null.",
                  "**number**: Alliance number.",
                  "**pick**: Order the team was picked in the alliance from 0-2, with 0 being alliance captain."
                ]
              }
            ],
            "**alliance_status_str**: An HTML formatted string suitable for display to the user containing the team's alliance pick status.",
            "**last_match_key**: TBA match key for the last match the team played in at this event, or null.",
            "**next_match_key**: TBA match key for the next match the team is scheduled to play in at this event, or null.",
            "**overall_status_str**: An HTML formatted string suitable for display to the user containing the team's overall status summary of the event.",
            [
              "**playoff**: Playoff status for this team, may be null if the team did not make playoffs, or playoffs have not begun.",
              {
                "$ul": [
                  [
                    "**current_level_record**: A Win-Loss-Tie record for a team, or an alliance.",
                    {
                      "$ul": [
                        "**losses**: Number of losses.",
                        "**ties**: Number of ties.",
                        "**wins**: Number of wins."
                      ]
                    }
                  ],
                  "**level**: The highest playoff level the team reached.",
                  "**playoff_average**: The average match score during playoffs. Year specific. May be null if not relevant for a given year.",
                  [
                    "**record**: A Win-Loss-Tie record for a team, or an alliance.",
                    {
                      "$ul": [
                        "**losses**: Number of losses.",
                        "**ties**: Number of ties.",
                        "**wins**: Number of wins."
                      ]
                    }
                  ],
                  "**status**: Current competition status for the playoffs."
                ]
              }
            ],
            "**playoff_status_str**: An HTML formatter string suitable for display to the user containing the team's playoff status.",
            [
              "**qual**",
              {
                "$ul": [
                  "**num_teams**: Number of teams ranked.",
                  [
                    "**ranking**",
                    {
                      "$ul": [
                        "**dq**: Number of matches the team was disqualified for.",
                        "**matches_played**: Number of matches played.",
                        "**qual_average**: For some years, average qualification score. Can be null.",
                        "**rank**: Relative rank of this team.",
                        [
                          "**record**: A Win-Loss-Tie record for a team, or an alliance.",
                          {
                            "$ul": [
                              "**losses**: Number of losses.",
                              "**ties**: Number of ties.",
                              "**wins**: Number of wins."
                            ]
                          }
                        ],
                        "**sort_orders**: Ordered list of values used to determine the rank. See the `sort_order_info` property for the name of each value.",
                        "**team_key**: TBA team key for this rank."
                      ]
                    }
                  ],
                  "**sort_order_info**: Ordered list of names corresponding to the elements of the `sort_orders` array.",
                  "**status**"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
