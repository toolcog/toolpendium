{
  "name": "safebrowsing_threatListUpdates_fetch",
  "description": "Fetches the most recent threat list updates. A client can request updates for multiple lists at once.",
  "parameters": {
    "type": "object",
    "properties": {
      "$.xgafv": {
        "enum": [
          "1",
          "2"
        ],
        "type": "string",
        "description": "V1 error format."
      },
      "access_token": {
        "type": "string",
        "description": "OAuth access token."
      },
      "alt": {
        "enum": [
          "json",
          "media",
          "proto"
        ],
        "type": "string",
        "description": "Data format for response."
      },
      "callback": {
        "type": "string",
        "description": "JSONP"
      },
      "fields": {
        "type": "string",
        "description": "Selector specifying which fields to include in a partial response."
      },
      "key": {
        "type": "string",
        "description": "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token."
      },
      "oauth_token": {
        "type": "string",
        "description": "OAuth 2.0 token for the current user."
      },
      "prettyPrint": {
        "type": "boolean",
        "description": "Returns response with indentations and line breaks."
      },
      "quotaUser": {
        "type": "string",
        "description": "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."
      },
      "upload_protocol": {
        "type": "string",
        "description": "Upload protocol for media (e.g. \"raw\", \"multipart\")."
      },
      "uploadType": {
        "type": "string",
        "description": "Legacy upload protocol for media (e.g. \"media\", \"multipart\")."
      },
      "body": {
        "$ref": "#/$defs/GoogleSecuritySafebrowsingV4FetchThreatListUpdatesRequest"
      }
    },
    "$defs": {
      "GoogleSecuritySafebrowsingV4FetchThreatListUpdatesRequest": {
        "description": "Describes a Safe Browsing API update request. Clients can request updates for multiple lists in a single request. The server may not respond to all requests, if the server has no updates for that list. NOTE: Field index 2 is unused. NEXT: 5",
        "properties": {
          "client": {
            "$ref": "#/$defs/GoogleSecuritySafebrowsingV4ClientInfo"
          },
          "listUpdateRequests": {
            "description": "The requested threat list updates.",
            "items": {
              "$ref": "#/$defs/GoogleSecuritySafebrowsingV4FetchThreatListUpdatesRequestListUpdateRequest"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "GoogleSecuritySafebrowsingV4ClientInfo": {
        "description": "The client metadata associated with Safe Browsing API requests.",
        "properties": {
          "clientId": {
            "description": "A client ID that (hopefully) uniquely identifies the client implementation of the Safe Browsing API.",
            "type": "string"
          },
          "clientVersion": {
            "description": "The version of the client implementation.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleSecuritySafebrowsingV4FetchThreatListUpdatesRequestListUpdateRequest": {
        "description": "A single list update request.",
        "properties": {
          "constraints": {
            "$ref": "#/$defs/GoogleSecuritySafebrowsingV4FetchThreatListUpdatesRequestListUpdateRequestConstraints"
          },
          "platformType": {
            "description": "The type of platform at risk by entries present in the list.",
            "enum": [
              "PLATFORM_TYPE_UNSPECIFIED",
              "WINDOWS",
              "LINUX",
              "ANDROID",
              "OSX",
              "IOS",
              "ANY_PLATFORM",
              "ALL_PLATFORMS",
              "CHROME"
            ],
            "type": "string"
          },
          "state": {
            "description": "The current state of the client for the requested list (the encrypted client state that was received from the last successful list update).",
            "format": "byte",
            "type": "string"
          },
          "threatEntryType": {
            "description": "The types of entries present in the list.",
            "enum": [
              "THREAT_ENTRY_TYPE_UNSPECIFIED",
              "URL",
              "EXECUTABLE",
              "IP_RANGE",
              "CHROME_EXTENSION",
              "FILENAME",
              "CERT"
            ],
            "type": "string"
          },
          "threatType": {
            "description": "The type of threat posed by entries present in the list.",
            "enum": [
              "THREAT_TYPE_UNSPECIFIED",
              "MALWARE",
              "SOCIAL_ENGINEERING",
              "UNWANTED_SOFTWARE",
              "POTENTIALLY_HARMFUL_APPLICATION",
              "SOCIAL_ENGINEERING_INTERNAL",
              "API_ABUSE",
              "MALICIOUS_BINARY",
              "CSD_WHITELIST",
              "CSD_DOWNLOAD_WHITELIST",
              "CLIENT_INCIDENT",
              "CLIENT_INCIDENT_WHITELIST",
              "APK_MALWARE_OFFLINE",
              "SUBRESOURCE_FILTER",
              "SUSPICIOUS",
              "TRICK_TO_BILL",
              "HIGH_CONFIDENCE_ALLOWLIST",
              "ACCURACY_TIPS"
            ],
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleSecuritySafebrowsingV4FetchThreatListUpdatesRequestListUpdateRequestConstraints": {
        "description": "The constraints for this update.",
        "properties": {
          "deviceLocation": {
            "description": "A client's physical location, expressed as a ISO 31166-1 alpha-2 region code.",
            "type": "string"
          },
          "language": {
            "description": "Requests the lists for a specific language. Expects ISO 639 alpha-2 format.",
            "type": "string"
          },
          "maxDatabaseEntries": {
            "description": "Sets the maximum number of entries that the client is willing to have in the local database for the specified list. This should be a power of 2 between 2**10 and 2**20. If zero, no database size limit is set.",
            "format": "int32",
            "type": "integer"
          },
          "maxUpdateEntries": {
            "description": "The maximum size in number of entries. The update will not contain more entries than this value. This should be a power of 2 between 2**10 and 2**20. If zero, no update size limit is set.",
            "format": "int32",
            "type": "integer"
          },
          "region": {
            "description": "Requests the list for a specific geographic location. If not set the server may pick that value based on the user's IP address. Expects ISO 3166-1 alpha-2 format.",
            "type": "string"
          },
          "supportedCompressions": {
            "description": "The compression types supported by the client.",
            "items": {
              "enum": [
                "COMPRESSION_TYPE_UNSPECIFIED",
                "RAW",
                "RICE"
              ],
              "type": "string"
            },
            "type": "array"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://safebrowsing.googleapis.com//v4/threatListUpdates:fetch{?$.xgafv,access_token,alt,callback,fields,key,oauth_token,prettyPrint,quotaUser,upload_protocol,uploadType}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**listUpdateResponses**: The list updates requested by the clients. The number of responses here may be less than the number of requests sent by clients. This is the case, for example, if the server has no updates for a particular list.",
            "**minimumWaitDuration**: The minimum duration the client must wait before issuing any update request. If this field is not set clients may update as soon as they want."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
