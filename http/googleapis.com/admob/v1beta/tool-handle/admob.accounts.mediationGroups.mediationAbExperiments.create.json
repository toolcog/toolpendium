{
  "name": "admob_accounts_mediationGroups_mediationAbExperiments_create",
  "description": "Create an A/B testing experiment for a specified AdMob account and a mediation group. This method has limited access. If you see a 403 permission denied error, please reach out to your account manager for access.",
  "parameters": {
    "type": "object",
    "properties": {
      "parent": {
        "type": "string",
        "description": "Required. The parent which owns the mediation group. Format: accounts/{publisher_id}/mediationGroups/{mediation_group_id}"
      },
      "$.xgafv": {
        "enum": [
          "1",
          "2"
        ],
        "type": "string",
        "description": "V1 error format."
      },
      "access_token": {
        "type": "string",
        "description": "OAuth access token."
      },
      "alt": {
        "enum": [
          "json",
          "media",
          "proto"
        ],
        "type": "string",
        "description": "Data format for response."
      },
      "callback": {
        "type": "string",
        "description": "JSONP"
      },
      "fields": {
        "type": "string",
        "description": "Selector specifying which fields to include in a partial response."
      },
      "key": {
        "type": "string",
        "description": "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token."
      },
      "oauth_token": {
        "type": "string",
        "description": "OAuth 2.0 token for the current user."
      },
      "prettyPrint": {
        "type": "boolean",
        "description": "Returns response with indentations and line breaks."
      },
      "quotaUser": {
        "type": "string",
        "description": "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."
      },
      "upload_protocol": {
        "type": "string",
        "description": "Upload protocol for media (e.g. \"raw\", \"multipart\")."
      },
      "uploadType": {
        "type": "string",
        "description": "Legacy upload protocol for media (e.g. \"media\", \"multipart\")."
      },
      "body": {
        "$ref": "#/$defs/MediationAbExperiment"
      }
    },
    "required": [
      "parent"
    ],
    "$defs": {
      "MediationAbExperiment": {
        "description": "The mediation A/B experiment.",
        "properties": {
          "controlMediationLines": {
            "description": "Output only. The experiment mediation lines for control. They are inherited from the parent mediation group. It is an output only field.",
            "items": {
              "$ref": "#/$defs/MediationAbExperimentExperimentMediationLine"
            },
            "readOnly": true,
            "type": "array"
          },
          "displayName": {
            "description": "The display name for the mediation A/B experiment.",
            "type": "string"
          },
          "endTime": {
            "description": "Output only. The time at which the experiment was ended or target to end (in UTC).",
            "format": "google-datetime",
            "readOnly": true,
            "type": "string"
          },
          "experimentId": {
            "description": "Output only. Unique identifier for the mediation A/B experiment. It is an output only property.",
            "readOnly": true,
            "type": "string"
          },
          "mediationGroupId": {
            "description": "Output only. The mediation group id this experiment belongs to. This can be used for filtering the experiments in the list experiments API.",
            "readOnly": true,
            "type": "string"
          },
          "name": {
            "description": "Resource name for this experiment. The format is accounts/{publisher_id}/ mediationGroups/{mediation_group_id}/mediationAbExperiment/ {mediation_group_experiment_id}. For example: accounts/pub-9876543210987654/mediationGroups/0123456789/ mediationAbExperiment/12345",
            "type": "string"
          },
          "startTime": {
            "description": "Output only. The time at which the experiment was started (in UTC).",
            "format": "google-datetime",
            "readOnly": true,
            "type": "string"
          },
          "state": {
            "description": "Output only. The state of the experiment. It is an output only field.",
            "enum": [
              "EXPERIMENT_STATE_UNSPECIFIED",
              "EXPIRED",
              "RUNNING",
              "ENDED"
            ],
            "readOnly": true,
            "type": "string"
          },
          "treatmentMediationLines": {
            "description": "The experiment mediation lines created for the treatment. They will be used for serving when the experiment status is RUNNING.",
            "items": {
              "$ref": "#/$defs/MediationAbExperimentExperimentMediationLine"
            },
            "type": "array"
          },
          "treatmentTrafficPercentage": {
            "description": "The percentage of the mediation A/B experiment traffic that will be send to the treatment (variant B). The remainder is sent to the control (variant A). The percentage is expressed as an integer in the inclusive range of [1,99]. See https://support.google.com/admob/answer/9572326 for details.",
            "format": "int64",
            "type": "string"
          },
          "variantLeader": {
            "description": "Output only. The variant leader for the experiment according to some key metrics.",
            "enum": [
              "VARIANT_LEADER_UNSPECIFIED",
              "CONTROL",
              "TREATMENT",
              "INSUFFICIENT_DATA",
              "TOO_EARLY_TO_CALL",
              "NO_VARIANT_LEADER"
            ],
            "readOnly": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "MediationAbExperimentExperimentMediationLine": {
        "description": "The mediation group line for the experiment. It will be used for serving during the run of the experiment.",
        "properties": {
          "mediationGroupLine": {
            "$ref": "#/$defs/MediationGroupMediationGroupLine"
          }
        },
        "type": "object"
      },
      "MediationGroupMediationGroupLine": {
        "description": "Settings for an ad network used by a mediation group.",
        "properties": {
          "adSourceId": {
            "description": "The ID of the ad source this mediation line is associated with.",
            "type": "string"
          },
          "adUnitMappings": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "References of the ad unit mappings for each ad unit associated with this mediation line. Key is the ad unit ID, value is resource name of the ad unit mapping. For mediation lines where the ad source id is the AdMob Network, ad unit mappings will be ignored.",
            "type": "object"
          },
          "cpmMicros": {
            "description": "The CPM for this allocation line. $0.01 is the minimum allowed amount. For LIVE CPM modes, the default amount is $0.01. This value is ignored if `cpm_mode` is `LIVE`. **Warning:** \"USD\" is the only supported currency at the moment. The unit is in micros.",
            "format": "int64",
            "type": "string"
          },
          "cpmMode": {
            "description": "Indicates how the CPM for this mediation line is provided. Note that `MANUAL` and `LIVE` are the only fully-supported mode at the moment. Please use the AdMob UI (https://admob.google.com) if you wish to create or update to other cpm modes.",
            "enum": [
              "CPM_MODE_UNSPECIFIED",
              "LIVE",
              "MANUAL",
              "ANO"
            ],
            "type": "string"
          },
          "displayName": {
            "description": "User-provided label for this mediation line. The maximum length allowed is 255 characters.",
            "type": "string"
          },
          "experimentVariant": {
            "description": "Output only. The Mediation A/B experiment variant to which the mediation group line belongs to.",
            "enum": [
              "VARIANT_UNSPECIFIED",
              "VARIANT_A",
              "VARIANT_B",
              "ORIGINAL"
            ],
            "readOnly": true,
            "type": "string"
          },
          "id": {
            "description": "The 16 digit ID for this mediation line e.g. 0123456789012345. When creating a new mediation group line, use a distinct negative integer as the ID place holder.",
            "type": "string"
          },
          "state": {
            "description": "The status of the mediation group line. Only enabled mediation group lines will be served.",
            "enum": [
              "STATE_UNSPECIFIED",
              "ENABLED",
              "DISABLED",
              "REMOVED"
            ],
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://admob.googleapis.com//v1beta/{parent}/mediationAbExperiments{?$.xgafv,access_token,alt,callback,fields,key,oauth_token,prettyPrint,quotaUser,upload_protocol,uploadType}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "The mediation A/B experiment.",
        "**Key properties:**",
        {
          "$ul": [
            "**controlMediationLines**: Output only. The experiment mediation lines for control. They are inherited from the parent mediation group. It is an output only field.",
            "**displayName**: The display name for the mediation A/B experiment.",
            "**endTime**: Output only. The time at which the experiment was ended or target to end (in UTC).",
            "**experimentId**: Output only. Unique identifier for the mediation A/B experiment. It is an output only property.",
            "**mediationGroupId**: Output only. The mediation group id this experiment belongs to. This can be used for filtering the experiments in the list experiments API.",
            "**name**: Resource name for this experiment. The format is accounts/{publisher_id}/ mediationGroups/{mediation_group_id}/mediationAbExperiment/ {mediation_group_experiment_id}. For example: accounts/pub-9876543210987654/mediationGroups/0123456789/ mediationAbExperiment/12345",
            "**startTime**: Output only. The time at which the experiment was started (in UTC).",
            "**state**: Output only. The state of the experiment. It is an output only field.",
            "**treatmentMediationLines**: The experiment mediation lines created for the treatment. They will be used for serving when the experiment status is RUNNING.",
            "**treatmentTrafficPercentage**: The percentage of the mediation A/B experiment traffic that will be send to the treatment (variant B). The remainder is sent to the control (variant A). The percentage is expressed as an integer in the inclusive range of [1,99]. See https://support.google.com/admob/answer/9572326 for details.",
            "**variantLeader**: Output only. The variant leader for the experiment according to some key metrics."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
