{
  "name": "dialogflow_projects_locations_securitySettings_create",
  "description": "Create security settings in the specified location.",
  "parameters": {
    "type": "object",
    "properties": {
      "parent": {
        "type": "string",
        "description": "Required. The location to create an SecuritySettings for. Format: `projects//locations/`."
      },
      "$.xgafv": {
        "enum": [
          "1",
          "2"
        ],
        "type": "string",
        "description": "V1 error format."
      },
      "access_token": {
        "type": "string",
        "description": "OAuth access token."
      },
      "alt": {
        "enum": [
          "json",
          "media",
          "proto"
        ],
        "type": "string",
        "description": "Data format for response."
      },
      "callback": {
        "type": "string",
        "description": "JSONP"
      },
      "fields": {
        "type": "string",
        "description": "Selector specifying which fields to include in a partial response."
      },
      "key": {
        "type": "string",
        "description": "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token."
      },
      "oauth_token": {
        "type": "string",
        "description": "OAuth 2.0 token for the current user."
      },
      "prettyPrint": {
        "type": "boolean",
        "description": "Returns response with indentations and line breaks."
      },
      "quotaUser": {
        "type": "string",
        "description": "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."
      },
      "upload_protocol": {
        "type": "string",
        "description": "Upload protocol for media (e.g. \"raw\", \"multipart\")."
      },
      "uploadType": {
        "type": "string",
        "description": "Legacy upload protocol for media (e.g. \"media\", \"multipart\")."
      },
      "body": {
        "$ref": "#/$defs/GoogleCloudDialogflowCxV3SecuritySettings"
      }
    },
    "required": [
      "parent"
    ],
    "$defs": {
      "GoogleCloudDialogflowCxV3SecuritySettings": {
        "description": "Represents the settings related to security issues, such as data redaction and data retention. It may take hours for updates on the settings to propagate to all the related components and take effect.",
        "properties": {
          "audioExportSettings": {
            "$ref": "#/$defs/GoogleCloudDialogflowCxV3SecuritySettingsAudioExportSettings"
          },
          "deidentifyTemplate": {
            "description": "[DLP](https://cloud.google.com/dlp/docs) deidentify template name. Use this template to define de-identification configuration for the content. The `DLP De-identify Templates Reader` role is needed on the Dialogflow service identity service account (has the form `service-PROJECT_NUMBER@gcp-sa-dialogflow.iam.gserviceaccount.com`) for your agent's project. If empty, Dialogflow replaces sensitive info with `[redacted]` text. The template name will have one of the following formats: `projects//locations//deidentifyTemplates/` OR `organizations//locations//deidentifyTemplates/` Note: `deidentify_template` must be located in the same region as the `SecuritySettings`.",
            "type": "string"
          },
          "displayName": {
            "description": "Required. The human-readable name of the security settings, unique within the location.",
            "type": "string"
          },
          "insightsExportSettings": {
            "$ref": "#/$defs/GoogleCloudDialogflowCxV3SecuritySettingsInsightsExportSettings"
          },
          "inspectTemplate": {
            "description": "[DLP](https://cloud.google.com/dlp/docs) inspect template name. Use this template to define inspect base settings. The `DLP Inspect Templates Reader` role is needed on the Dialogflow service identity service account (has the form `service-PROJECT_NUMBER@gcp-sa-dialogflow.iam.gserviceaccount.com`) for your agent's project. If empty, we use the default DLP inspect config. The template name will have one of the following formats: `projects//locations//inspectTemplates/` OR `organizations//locations//inspectTemplates/` Note: `inspect_template` must be located in the same region as the `SecuritySettings`.",
            "type": "string"
          },
          "name": {
            "description": "Resource name of the settings. Required for the SecuritySettingsService.UpdateSecuritySettings method. SecuritySettingsService.CreateSecuritySettings populates the name automatically. Format: `projects//locations//securitySettings/`.",
            "type": "string"
          },
          "purgeDataTypes": {
            "description": "List of types of data to remove when retention settings triggers purge.",
            "items": {
              "enum": [
                "PURGE_DATA_TYPE_UNSPECIFIED",
                "DIALOGFLOW_HISTORY"
              ],
              "type": "string"
            },
            "type": "array"
          },
          "redactionScope": {
            "description": "Defines the data for which Dialogflow applies redaction. Dialogflow does not redact data that it does not have access to – for example, Cloud logging.",
            "enum": [
              "REDACTION_SCOPE_UNSPECIFIED",
              "REDACT_DISK_STORAGE"
            ],
            "type": "string"
          },
          "redactionStrategy": {
            "description": "Strategy that defines how we do redaction.",
            "enum": [
              "REDACTION_STRATEGY_UNSPECIFIED",
              "REDACT_WITH_SERVICE"
            ],
            "type": "string"
          },
          "retentionStrategy": {
            "description": "Specifies the retention behavior defined by SecuritySettings.RetentionStrategy.",
            "enum": [
              "RETENTION_STRATEGY_UNSPECIFIED",
              "REMOVE_AFTER_CONVERSATION"
            ],
            "type": "string"
          },
          "retentionWindowDays": {
            "description": "Retains the data for the specified number of days. User must set a value lower than Dialogflow's default 365d TTL (30 days for Agent Assist traffic), higher value will be ignored and use default. Setting a value higher than that has no effect. A missing value or setting to 0 also means we use default TTL.",
            "format": "int32",
            "type": "integer"
          }
        },
        "type": "object"
      },
      "GoogleCloudDialogflowCxV3SecuritySettingsAudioExportSettings": {
        "description": "Settings for exporting audio.",
        "properties": {
          "audioExportPattern": {
            "description": "Filename pattern for exported audio.",
            "type": "string"
          },
          "audioFormat": {
            "description": "File format for exported audio file. Currently only in telephony recordings.",
            "enum": [
              "AUDIO_FORMAT_UNSPECIFIED",
              "MULAW",
              "MP3",
              "OGG"
            ],
            "type": "string"
          },
          "enableAudioRedaction": {
            "description": "Enable audio redaction if it is true.",
            "type": "boolean"
          },
          "gcsBucket": {
            "description": "Cloud Storage bucket to export audio record to. Setting this field would grant the Storage Object Creator role to the Dialogflow Service Agent. API caller that tries to modify this field should have the permission of storage.buckets.setIamPolicy.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleCloudDialogflowCxV3SecuritySettingsInsightsExportSettings": {
        "description": "Settings for exporting conversations to [Insights](https://cloud.google.com/contact-center/insights/docs).",
        "properties": {
          "enableInsightsExport": {
            "description": "If enabled, we will automatically exports conversations to Insights and Insights runs its analyzers.",
            "type": "boolean"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://dialogflow.googleapis.com//v3/{parent}/securitySettings{?$.xgafv,access_token,alt,callback,fields,key,oauth_token,prettyPrint,quotaUser,upload_protocol,uploadType}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Represents the settings related to security issues, such as data redaction and data retention. It may take hours for updates on the settings to propagate to all the related components and take effect.",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**audioExportSettings**: Settings for exporting audio.",
              {
                "$ul": [
                  "**audioExportPattern**: Filename pattern for exported audio.",
                  "**audioFormat**: File format for exported audio file. Currently only in telephony recordings.",
                  "**enableAudioRedaction**: Enable audio redaction if it is true.",
                  "**gcsBucket**: Cloud Storage bucket to export audio record to. Setting this field would grant the Storage Object Creator role to the Dialogflow Service Agent. API caller that tries to modify this field should have the permission of storage.buckets.setIamPolicy."
                ]
              }
            ],
            "**deidentifyTemplate**: [DLP](https://cloud.google.com/dlp/docs) deidentify template name. Use this template to define de-identification configuration for the content. The `DLP De-identify Templates Reader` role is needed on the Dialogflow service identity service account (has the form `service-PROJECT_NUMBER@gcp-sa-dialogflow.iam.gserviceaccount.com`) for your agent's project. If empty, Dialogflow replaces sensitive info with `[redacted]` text. The template name will have one of the following formats: `projects//locations//deidentifyTemplates/` OR `organizations//locations//deidentifyTemplates/` Note: `deidentify_template` must be located in the same region as the `SecuritySettings`.",
            "**displayName**: Required. The human-readable name of the security settings, unique within the location.",
            [
              "**insightsExportSettings**: Settings for exporting conversations to [Insights](https://cloud.google.com/contact-center/insights/docs).",
              {
                "$ul": [
                  "**enableInsightsExport**: If enabled, we will automatically exports conversations to Insights and Insights runs its analyzers."
                ]
              }
            ],
            "**inspectTemplate**: [DLP](https://cloud.google.com/dlp/docs) inspect template name. Use this template to define inspect base settings. The `DLP Inspect Templates Reader` role is needed on the Dialogflow service identity service account (has the form `service-PROJECT_NUMBER@gcp-sa-dialogflow.iam.gserviceaccount.com`) for your agent's project. If empty, we use the default DLP inspect config. The template name will have one of the following formats: `projects//locations//inspectTemplates/` OR `organizations//locations//inspectTemplates/` Note: `inspect_template` must be located in the same region as the `SecuritySettings`.",
            "**name**: Resource name of the settings. Required for the SecuritySettingsService.UpdateSecuritySettings method. SecuritySettingsService.CreateSecuritySettings populates the name automatically. Format: `projects//locations//securitySettings/`.",
            "**purgeDataTypes**: List of types of data to remove when retention settings triggers purge.",
            "**redactionScope**: Defines the data for which Dialogflow applies redaction. Dialogflow does not redact data that it does not have access to – for example, Cloud logging.",
            "**redactionStrategy**: Strategy that defines how we do redaction.",
            "**retentionStrategy**: Specifies the retention behavior defined by SecuritySettings.RetentionStrategy.",
            "**retentionWindowDays**: Retains the data for the specified number of days. User must set a value lower than Dialogflow's default 365d TTL (30 days for Agent Assist traffic), higher value will be ignored and use default. Setting a value higher than that has no effect. A missing value or setting to 0 also means we use default TTL."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
