{
  "name": "content_conversionsources_patch",
  "description": "Updates information of an existing conversion source.",
  "parameters": {
    "type": "object",
    "properties": {
      "merchantId": {
        "type": "string",
        "description": "Required. The ID of the account that owns the new conversion source."
      },
      "conversionSourceId": {
        "type": "string",
        "description": "Required. The ID of the conversion source to be updated."
      },
      "updateMask": {
        "type": "string",
        "description": "Required. List of fields being updated."
      },
      "$.xgafv": {
        "enum": [
          "1",
          "2"
        ],
        "type": "string",
        "description": "V1 error format."
      },
      "access_token": {
        "type": "string",
        "description": "OAuth access token."
      },
      "alt": {
        "enum": [
          "json",
          "media",
          "proto"
        ],
        "type": "string",
        "description": "Data format for response."
      },
      "callback": {
        "type": "string",
        "description": "JSONP"
      },
      "fields": {
        "type": "string",
        "description": "Selector specifying which fields to include in a partial response."
      },
      "key": {
        "type": "string",
        "description": "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token."
      },
      "oauth_token": {
        "type": "string",
        "description": "OAuth 2.0 token for the current user."
      },
      "prettyPrint": {
        "type": "boolean",
        "description": "Returns response with indentations and line breaks."
      },
      "quotaUser": {
        "type": "string",
        "description": "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."
      },
      "upload_protocol": {
        "type": "string",
        "description": "Upload protocol for media (e.g. \"raw\", \"multipart\")."
      },
      "uploadType": {
        "type": "string",
        "description": "Legacy upload protocol for media (e.g. \"media\", \"multipart\")."
      },
      "body": {
        "$ref": "#/$defs/ConversionSource"
      }
    },
    "required": [
      "merchantId",
      "conversionSourceId"
    ],
    "$defs": {
      "ConversionSource": {
        "description": "Represents a conversion source owned by a Merchant account. A merchant account can have up to 200 conversion sources.",
        "properties": {
          "conversionSourceId": {
            "description": "Output only. Generated by the Content API upon creation of a new `ConversionSource`. Format: [a-z]{4}:.+ The four characters before the colon represent the type of conversio source. Content after the colon represents the ID of the conversion source within that type. The ID of two different conversion sources might be the same across different types. The following type prefixes are supported: - galk: For GoogleAnalyticsLink sources. - mcdn: For MerchantCenterDestination sources.",
            "readOnly": true,
            "type": "string"
          },
          "expireTime": {
            "description": "Output only. The time when an archived conversion source becomes permanently deleted and is no longer available to undelete.",
            "format": "google-datetime",
            "readOnly": true,
            "type": "string"
          },
          "googleAnalyticsLink": {
            "$ref": "#/$defs/GoogleAnalyticsLink"
          },
          "merchantCenterDestination": {
            "$ref": "#/$defs/MerchantCenterDestination"
          },
          "state": {
            "description": "Output only. Current state of this conversion source. Can't be edited through the API.",
            "enum": [
              "STATE_UNSPECIFIED",
              "ACTIVE",
              "ARCHIVED",
              "PENDING"
            ],
            "readOnly": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsLink": {
        "description": "\"Google Analytics Link\" sources can be used to get conversion data from an existing Google Analytics property into the linked Merchant Center account.",
        "properties": {
          "attributionSettings": {
            "$ref": "#/$defs/AttributionSettings"
          },
          "propertyId": {
            "description": "Required. Immutable. ID of the Google Analytics property the merchant is linked to.",
            "format": "int64",
            "type": "string"
          },
          "propertyName": {
            "description": "Output only. Name of the Google Analytics property the merchant is linked to.",
            "readOnly": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "AttributionSettings": {
        "description": "Represents attribution settings for conversion sources receiving pre-attribution data.",
        "properties": {
          "attributionLookbackWindowInDays": {
            "description": "Required. Lookback windows (in days) used for attribution in this source. Supported values are 7, 30, 40.",
            "format": "int32",
            "type": "integer"
          },
          "attributionModel": {
            "description": "Required. Attribution model.",
            "enum": [
              "ATTRIBUTION_MODEL_UNSPECIFIED",
              "CROSS_CHANNEL_LAST_CLICK",
              "ADS_PREFERRED_LAST_CLICK",
              "CROSS_CHANNEL_DATA_DRIVEN",
              "CROSS_CHANNEL_FIRST_CLICK",
              "CROSS_CHANNEL_LINEAR",
              "CROSS_CHANNEL_POSITION_BASED",
              "CROSS_CHANNEL_TIME_DECAY"
            ],
            "type": "string"
          },
          "conversionType": {
            "description": "Immutable. Unordered list. List of different conversion types a conversion event can be classified as. A standard \"purchase\" type will be automatically created if this list is empty at creation time.",
            "items": {
              "$ref": "#/$defs/AttributionSettingsConversionType"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "AttributionSettingsConversionType": {
        "description": "Message representing a types of conversion events",
        "properties": {
          "includeInReporting": {
            "description": "Output only. Option indicating if the type should be included in Merchant Center reporting.",
            "readOnly": true,
            "type": "boolean"
          },
          "name": {
            "description": "Output only. Conversion event name, as it'll be reported by the client.",
            "readOnly": true,
            "type": "string"
          }
        },
        "type": "object"
      },
      "MerchantCenterDestination": {
        "description": "\"Merchant Center Destination\" sources can be used to send conversion events from a website using a Google tag directly to a Merchant Center account where the source is created.",
        "properties": {
          "attributionSettings": {
            "$ref": "#/$defs/AttributionSettings"
          },
          "currencyCode": {
            "description": "Required. Three-letter currency code (ISO 4217). The currency code defines in which currency the conversions sent to this destination will be reported in Merchant Center.",
            "type": "string"
          },
          "destinationId": {
            "description": "Output only. Merchant Center Destination ID.",
            "readOnly": true,
            "type": "string"
          },
          "displayName": {
            "description": "Required. Merchant-specified display name for the destination. This is the name that identifies the conversion source within the Merchant Center UI. Limited to 64 characters.",
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PATCH",
    "url": {
      "$uri": "https://shoppingcontent.googleapis.com/content/v2.1/{merchantId}/conversionsources/{conversionSourceId}{?updateMask,$.xgafv,access_token,alt,callback,fields,key,oauth_token,prettyPrint,quotaUser,upload_protocol,uploadType}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Represents a conversion source owned by a Merchant account. A merchant account can have up to 200 conversion sources.",
        "**Key properties:**",
        {
          "$ul": [
            "**conversionSourceId**: Output only. Generated by the Content API upon creation of a new `ConversionSource`. Format: [a-z]{4}:.+ The four characters before the colon represent the type of conversio source. Content after the colon represents the ID of the conversion source within that type. The ID of two different conversion sources might be the same across different types. The following type prefixes are supported: - galk: For GoogleAnalyticsLink sources. - mcdn: For MerchantCenterDestination sources.",
            "**expireTime**: Output only. The time when an archived conversion source becomes permanently deleted and is no longer available to undelete.",
            [
              "**googleAnalyticsLink**: \"Google Analytics Link\" sources can be used to get conversion data from an existing Google Analytics property into the linked Merchant Center account.",
              {
                "$ul": [
                  [
                    "**attributionSettings**: Represents attribution settings for conversion sources receiving pre-attribution data.",
                    {
                      "$ul": [
                        "**attributionLookbackWindowInDays**: Required. Lookback windows (in days) used for attribution in this source. Supported values are 7, 30, 40.",
                        "**attributionModel**: Required. Attribution model.",
                        "**conversionType**: Immutable. Unordered list. List of different conversion types a conversion event can be classified as. A standard \"purchase\" type will be automatically created if this list is empty at creation time."
                      ]
                    }
                  ],
                  "**propertyId**: Required. Immutable. ID of the Google Analytics property the merchant is linked to.",
                  "**propertyName**: Output only. Name of the Google Analytics property the merchant is linked to."
                ]
              }
            ],
            [
              "**merchantCenterDestination**: \"Merchant Center Destination\" sources can be used to send conversion events from a website using a Google tag directly to a Merchant Center account where the source is created.",
              {
                "$ul": [
                  [
                    "**attributionSettings**: Represents attribution settings for conversion sources receiving pre-attribution data.",
                    {
                      "$ul": [
                        "**attributionLookbackWindowInDays**: Required. Lookback windows (in days) used for attribution in this source. Supported values are 7, 30, 40.",
                        "**attributionModel**: Required. Attribution model.",
                        "**conversionType**: Immutable. Unordered list. List of different conversion types a conversion event can be classified as. A standard \"purchase\" type will be automatically created if this list is empty at creation time."
                      ]
                    }
                  ],
                  "**currencyCode**: Required. Three-letter currency code (ISO 4217). The currency code defines in which currency the conversions sent to this destination will be reported in Merchant Center.",
                  "**destinationId**: Output only. Merchant Center Destination ID.",
                  "**displayName**: Required. Merchant-specified display name for the destination. This is the name that identifies the conversion source within the Merchant Center UI. Limited to 64 characters."
                ]
              }
            ],
            "**state**: Output only. Current state of this conversion source. Can't be edited through the API."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
