{
  "name": "androidpublisher_externaltransactions_createexternaltransaction",
  "description": "Creates a new external transaction.",
  "parameters": {
    "type": "object",
    "properties": {
      "parent": {
        "type": "string",
        "description": "Required. The parent resource where this external transaction will be created. Format: applications/{package_name}"
      },
      "externalTransactionId": {
        "type": "string",
        "description": "Required. The id to use for the external transaction. Must be unique across all other transactions for the app. This value should be 1-63 characters and valid characters are /a-z0-9_-/. Do not use this field to store any Personally Identifiable Information (PII) such as emails. Attempting to store PII in this field may result in requests being blocked."
      },
      "$.xgafv": {
        "enum": [
          "1",
          "2"
        ],
        "type": "string",
        "description": "V1 error format."
      },
      "access_token": {
        "type": "string",
        "description": "OAuth access token."
      },
      "alt": {
        "enum": [
          "json",
          "media",
          "proto"
        ],
        "type": "string",
        "description": "Data format for response."
      },
      "callback": {
        "type": "string",
        "description": "JSONP"
      },
      "fields": {
        "type": "string",
        "description": "Selector specifying which fields to include in a partial response."
      },
      "key": {
        "type": "string",
        "description": "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token."
      },
      "oauth_token": {
        "type": "string",
        "description": "OAuth 2.0 token for the current user."
      },
      "prettyPrint": {
        "type": "boolean",
        "description": "Returns response with indentations and line breaks."
      },
      "quotaUser": {
        "type": "string",
        "description": "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."
      },
      "upload_protocol": {
        "type": "string",
        "description": "Upload protocol for media (e.g. \"raw\", \"multipart\")."
      },
      "uploadType": {
        "type": "string",
        "description": "Legacy upload protocol for media (e.g. \"media\", \"multipart\")."
      },
      "body": {
        "$ref": "#/$defs/ExternalTransaction"
      }
    },
    "required": [
      "parent"
    ],
    "$defs": {
      "ExternalTransaction": {
        "description": "The details of an external transaction.",
        "properties": {
          "createTime": {
            "description": "Output only. The time when this transaction was created. This is the time when Google was notified of the transaction.",
            "format": "google-datetime",
            "readOnly": true,
            "type": "string"
          },
          "currentPreTaxAmount": {
            "$ref": "#/$defs/Price"
          },
          "currentTaxAmount": {
            "$ref": "#/$defs/Price"
          },
          "externalTransactionId": {
            "description": "Output only. The id of this transaction. All transaction ids under the same package name must be unique. Set when creating the external transaction.",
            "readOnly": true,
            "type": "string"
          },
          "oneTimeTransaction": {
            "$ref": "#/$defs/OneTimeExternalTransaction"
          },
          "originalPreTaxAmount": {
            "$ref": "#/$defs/Price"
          },
          "originalTaxAmount": {
            "$ref": "#/$defs/Price"
          },
          "packageName": {
            "description": "Output only. The resource name of the external transaction. The package name of the application the inapp products were sold (for example, 'com.some.app').",
            "readOnly": true,
            "type": "string"
          },
          "recurringTransaction": {
            "$ref": "#/$defs/RecurringExternalTransaction"
          },
          "testPurchase": {
            "$ref": "#/$defs/ExternalTransactionTestPurchase"
          },
          "transactionState": {
            "description": "Output only. The current state of the transaction.",
            "enum": [
              "TRANSACTION_STATE_UNSPECIFIED",
              "TRANSACTION_REPORTED",
              "TRANSACTION_CANCELED"
            ],
            "readOnly": true,
            "type": "string"
          },
          "transactionTime": {
            "description": "Required. The time when the transaction was completed.",
            "format": "google-datetime",
            "type": "string"
          },
          "userTaxAddress": {
            "$ref": "#/$defs/ExternalTransactionAddress"
          }
        },
        "type": "object"
      },
      "Price": {
        "description": "Definition of a price, i.e. currency and units.",
        "properties": {
          "currency": {
            "description": "3 letter Currency code, as defined by ISO 4217. See java/com/google/common/money/CurrencyCode.java",
            "type": "string"
          },
          "priceMicros": {
            "description": "Price in 1/million of the currency base unit, represented as a string.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "OneTimeExternalTransaction": {
        "description": "Represents a one-time transaction.",
        "properties": {
          "externalTransactionToken": {
            "description": "Input only. Provided during the call to Create. Retrieved from the client when the alternative billing flow is launched.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "RecurringExternalTransaction": {
        "description": "Represents a transaction that is part of a recurring series of payments. This can be a subscription or a one-time product with multiple payments (such as preorder).",
        "properties": {
          "externalSubscription": {
            "$ref": "#/$defs/ExternalSubscription"
          },
          "externalTransactionToken": {
            "description": "Input only. Provided during the call to Create. Retrieved from the client when the alternative billing flow is launched. Required only for the initial purchase.",
            "type": "string"
          },
          "initialExternalTransactionId": {
            "description": "The external transaction id of the first transaction of this recurring series of transactions. For example, for a subscription this would be the transaction id of the first payment. Required when creating recurring external transactions.",
            "type": "string"
          },
          "migratedTransactionProgram": {
            "description": "Input only. Provided during the call to Create. Must only be used when migrating a subscription from manual monthly reporting to automated reporting.",
            "enum": [
              "EXTERNAL_TRANSACTION_PROGRAM_UNSPECIFIED",
              "USER_CHOICE_BILLING",
              "ALTERTNATIVE_BILLING_ONLY"
            ],
            "type": "string"
          }
        },
        "type": "object"
      },
      "ExternalSubscription": {
        "description": "Details of an external subscription.",
        "properties": {
          "subscriptionType": {
            "description": "Required. The type of the external subscription.",
            "enum": [
              "SUBSCRIPTION_TYPE_UNSPECIFIED",
              "RECURRING",
              "PREPAID"
            ],
            "type": "string"
          }
        },
        "type": "object"
      },
      "ExternalTransactionTestPurchase": {
        "description": "Represents a transaction performed using a test account. These transactions will not be charged by Google.",
        "properties": {},
        "type": "object"
      },
      "ExternalTransactionAddress": {
        "description": "User's address for the external transaction.",
        "properties": {
          "administrativeArea": {
            "description": "Optional. Top-level administrative subdivision of the country/region. Only required for transactions in India. Valid values are \"ANDAMAN AND NICOBAR ISLANDS\", \"ANDHRA PRADESH\", \"ARUNACHAL PRADESH\", \"ASSAM\", \"BIHAR\", \"CHANDIGARH\", \"CHHATTISGARH\", \"DADRA AND NAGAR HAVELI\", \"DADRA AND NAGAR HAVELI AND DAMAN AND DIU\", \"DAMAN AND DIU\", \"DELHI\", \"GOA\", \"GUJARAT\", \"HARYANA\", \"HIMACHAL PRADESH\", \"JAMMU AND KASHMIR\", \"JHARKHAND\", \"KARNATAKA\", \"KERALA\", \"LADAKH\", \"LAKSHADWEEP\", \"MADHYA PRADESH\", \"MAHARASHTRA\", \"MANIPUR\", \"MEGHALAYA\", \"MIZORAM\", \"NAGALAND\", \"ODISHA\", \"PUDUCHERRY\", \"PUNJAB\", \"RAJASTHAN\", \"SIKKIM\", \"TAMIL NADU\", \"TELANGANA\", \"TRIPURA\", \"UTTAR PRADESH\", \"UTTARAKHAND\", and \"WEST BENGAL\".",
            "type": "string"
          },
          "regionCode": {
            "description": "Required. Two letter region code based on ISO-3166-1 Alpha-2 (UN region codes).",
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://androidpublisher.googleapis.com//androidpublisher/v3/{parent}/externalTransactions{?externalTransactionId,$.xgafv,access_token,alt,callback,fields,key,oauth_token,prettyPrint,quotaUser,upload_protocol,uploadType}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "The details of an external transaction.",
        "**Key properties:**",
        {
          "$ul": [
            "**createTime**: Output only. The time when this transaction was created. This is the time when Google was notified of the transaction.",
            [
              "**currentPreTaxAmount**: Definition of a price, i.e. currency and units.",
              {
                "$ul": [
                  "**currency**: 3 letter Currency code, as defined by ISO 4217. See java/com/google/common/money/CurrencyCode.java",
                  "**priceMicros**: Price in 1/million of the currency base unit, represented as a string."
                ]
              }
            ],
            [
              "**currentTaxAmount**: Definition of a price, i.e. currency and units.",
              {
                "$ul": [
                  "**currency**: 3 letter Currency code, as defined by ISO 4217. See java/com/google/common/money/CurrencyCode.java",
                  "**priceMicros**: Price in 1/million of the currency base unit, represented as a string."
                ]
              }
            ],
            "**externalTransactionId**: Output only. The id of this transaction. All transaction ids under the same package name must be unique. Set when creating the external transaction.",
            [
              "**oneTimeTransaction**: Represents a one-time transaction.",
              {
                "$ul": [
                  "**externalTransactionToken**: Input only. Provided during the call to Create. Retrieved from the client when the alternative billing flow is launched."
                ]
              }
            ],
            [
              "**originalPreTaxAmount**: Definition of a price, i.e. currency and units.",
              {
                "$ul": [
                  "**currency**: 3 letter Currency code, as defined by ISO 4217. See java/com/google/common/money/CurrencyCode.java",
                  "**priceMicros**: Price in 1/million of the currency base unit, represented as a string."
                ]
              }
            ],
            [
              "**originalTaxAmount**: Definition of a price, i.e. currency and units.",
              {
                "$ul": [
                  "**currency**: 3 letter Currency code, as defined by ISO 4217. See java/com/google/common/money/CurrencyCode.java",
                  "**priceMicros**: Price in 1/million of the currency base unit, represented as a string."
                ]
              }
            ],
            "**packageName**: Output only. The resource name of the external transaction. The package name of the application the inapp products were sold (for example, 'com.some.app').",
            [
              "**recurringTransaction**: Represents a transaction that is part of a recurring series of payments. This can be a subscription or a one-time product with multiple payments (such as preorder).",
              {
                "$ul": [
                  [
                    "**externalSubscription**: Details of an external subscription.",
                    {
                      "$ul": [
                        "**subscriptionType**: Required. The type of the external subscription."
                      ]
                    }
                  ],
                  "**externalTransactionToken**: Input only. Provided during the call to Create. Retrieved from the client when the alternative billing flow is launched. Required only for the initial purchase.",
                  "**initialExternalTransactionId**: The external transaction id of the first transaction of this recurring series of transactions. For example, for a subscription this would be the transaction id of the first payment. Required when creating recurring external transactions.",
                  "**migratedTransactionProgram**: Input only. Provided during the call to Create. Must only be used when migrating a subscription from manual monthly reporting to automated reporting."
                ]
              }
            ],
            "**testPurchase**: Represents a transaction performed using a test account. These transactions will not be charged by Google.",
            "**transactionState**: Output only. The current state of the transaction.",
            "**transactionTime**: Required. The time when the transaction was completed.",
            [
              "**userTaxAddress**: User's address for the external transaction.",
              {
                "$ul": [
                  "**administrativeArea**: Optional. Top-level administrative subdivision of the country/region. Only required for transactions in India. Valid values are \"ANDAMAN AND NICOBAR ISLANDS\", \"ANDHRA PRADESH\", \"ARUNACHAL PRADESH\", \"ASSAM\", \"BIHAR\", \"CHANDIGARH\", \"CHHATTISGARH\", \"DADRA AND NAGAR HAVELI\", \"DADRA AND NAGAR HAVELI AND DAMAN AND DIU\", \"DAMAN AND DIU\", \"DELHI\", \"GOA\", \"GUJARAT\", \"HARYANA\", \"HIMACHAL PRADESH\", \"JAMMU AND KASHMIR\", \"JHARKHAND\", \"KARNATAKA\", \"KERALA\", \"LADAKH\", \"LAKSHADWEEP\", \"MADHYA PRADESH\", \"MAHARASHTRA\", \"MANIPUR\", \"MEGHALAYA\", \"MIZORAM\", \"NAGALAND\", \"ODISHA\", \"PUDUCHERRY\", \"PUNJAB\", \"RAJASTHAN\", \"SIKKIM\", \"TAMIL NADU\", \"TELANGANA\", \"TRIPURA\", \"UTTAR PRADESH\", \"UTTARAKHAND\", and \"WEST BENGAL\".",
                  "**regionCode**: Required. Two letter region code based on ISO-3166-1 Alpha-2 (UN region codes)."
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
