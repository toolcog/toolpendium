{
  "name": "analyticsadmin_properties_runAccessReport",
  "description": "Returns a customized report of data access records. The report provides records of each time a user reads Google Analytics reporting data. Access records are retained for up to 2 years. Data Access Reports can be requested for a property. Reports may be requested for any property, but dimensions that aren't related to quota can only be requested on Google Analytics 360 properties. This method is only available to Administrators. These data access records include GA4 UI Reporting, GA4 UI Explorations, GA4 Data API, and other products like Firebase & Admob that can retrieve data from Google Analytics through a linkage. These records don't include property configuration changes like adding a stream or changing a property's time zone. For configuration change history, see [searchChangeHistoryEvents](https://developers.google.com/analytics/devguides/config/admin/v1/rest/v1alpha/accounts/searchChangeHistoryEvents).",
  "parameters": {
    "type": "object",
    "properties": {
      "entity": {
        "type": "string",
        "description": "The Data Access Report supports requesting at the property level or account level. If requested at the account level, Data Access Reports include all access for all properties under that account. To request at the property level, entity should be for example 'properties/123' if \"123\" is your GA4 property ID. To request at the account level, entity should be for example 'accounts/1234' if \"1234\" is your GA4 Account ID."
      },
      "$.xgafv": {
        "enum": [
          "1",
          "2"
        ],
        "type": "string",
        "description": "V1 error format."
      },
      "access_token": {
        "type": "string",
        "description": "OAuth access token."
      },
      "alt": {
        "enum": [
          "json",
          "media",
          "proto"
        ],
        "type": "string",
        "description": "Data format for response."
      },
      "callback": {
        "type": "string",
        "description": "JSONP"
      },
      "fields": {
        "type": "string",
        "description": "Selector specifying which fields to include in a partial response."
      },
      "key": {
        "type": "string",
        "description": "API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token."
      },
      "oauth_token": {
        "type": "string",
        "description": "OAuth 2.0 token for the current user."
      },
      "prettyPrint": {
        "type": "boolean",
        "description": "Returns response with indentations and line breaks."
      },
      "quotaUser": {
        "type": "string",
        "description": "Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters."
      },
      "upload_protocol": {
        "type": "string",
        "description": "Upload protocol for media (e.g. \"raw\", \"multipart\")."
      },
      "uploadType": {
        "type": "string",
        "description": "Legacy upload protocol for media (e.g. \"media\", \"multipart\")."
      },
      "body": {
        "$ref": "#/$defs/GoogleAnalyticsAdminV1betaRunAccessReportRequest"
      }
    },
    "required": [
      "entity"
    ],
    "$defs": {
      "GoogleAnalyticsAdminV1betaRunAccessReportRequest": {
        "description": "The request for a Data Access Record Report.",
        "properties": {
          "dateRanges": {
            "description": "Date ranges of access records to read. If multiple date ranges are requested, each response row will contain a zero based date range index. If two date ranges overlap, the access records for the overlapping days is included in the response rows for both date ranges. Requests are allowed up to 2 date ranges.",
            "items": {
              "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessDateRange"
            },
            "type": "array"
          },
          "dimensionFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilterExpression"
          },
          "dimensions": {
            "description": "The dimensions requested and displayed in the response. Requests are allowed up to 9 dimensions.",
            "items": {
              "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessDimension"
            },
            "type": "array"
          },
          "expandGroups": {
            "description": "Optional. Decides whether to return the users within user groups. This field works only when include_all_users is set to true. If true, it will return all users with access to the specified property or account. If false, only the users with direct access will be returned.",
            "type": "boolean"
          },
          "includeAllUsers": {
            "description": "Optional. Determines whether to include users who have never made an API call in the response. If true, all users with access to the specified property or account are included in the response, regardless of whether they have made an API call or not. If false, only the users who have made an API call will be included.",
            "type": "boolean"
          },
          "limit": {
            "description": "The number of rows to return. If unspecified, 10,000 rows are returned. The API returns a maximum of 100,000 rows per request, no matter how many you ask for. `limit` must be positive. The API may return fewer rows than the requested `limit`, if there aren't as many remaining rows as the `limit`. For instance, there are fewer than 300 possible values for the dimension `country`, so when reporting on only `country`, you can't get more than 300 rows, even if you set `limit` to a higher value. To learn more about this pagination parameter, see [Pagination](https://developers.google.com/analytics/devguides/reporting/data/v1/basics#pagination).",
            "format": "int64",
            "type": "string"
          },
          "metricFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilterExpression"
          },
          "metrics": {
            "description": "The metrics requested and displayed in the response. Requests are allowed up to 10 metrics.",
            "items": {
              "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessMetric"
            },
            "type": "array"
          },
          "offset": {
            "description": "The row count of the start row. The first row is counted as row 0. If offset is unspecified, it is treated as 0. If offset is zero, then this method will return the first page of results with `limit` entries. To learn more about this pagination parameter, see [Pagination](https://developers.google.com/analytics/devguides/reporting/data/v1/basics#pagination).",
            "format": "int64",
            "type": "string"
          },
          "orderBys": {
            "description": "Specifies how rows are ordered in the response.",
            "items": {
              "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessOrderBy"
            },
            "type": "array"
          },
          "returnEntityQuota": {
            "description": "Toggles whether to return the current state of this Analytics Property's quota. Quota is returned in [AccessQuota](#AccessQuota). For account-level requests, this field must be false.",
            "type": "boolean"
          },
          "timeZone": {
            "description": "This request's time zone if specified. If unspecified, the property's time zone is used. The request's time zone is used to interpret the start & end dates of the report. Formatted as strings from the IANA Time Zone database (https://www.iana.org/time-zones); for example \"America/New_York\" or \"Asia/Tokyo\".",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessDateRange": {
        "description": "A contiguous range of days: startDate, startDate + 1, ..., endDate.",
        "properties": {
          "endDate": {
            "description": "The inclusive end date for the query in the format `YYYY-MM-DD`. Cannot be before `startDate`. The format `NdaysAgo`, `yesterday`, or `today` is also accepted, and in that case, the date is inferred based on the current time in the request's time zone.",
            "type": "string"
          },
          "startDate": {
            "description": "The inclusive start date for the query in the format `YYYY-MM-DD`. Cannot be after `endDate`. The format `NdaysAgo`, `yesterday`, or `today` is also accepted, and in that case, the date is inferred based on the current time in the request's time zone.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessFilterExpression": {
        "description": "Expresses dimension or metric filters. The fields in the same expression need to be either all dimensions or all metrics.",
        "properties": {
          "accessFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilter"
          },
          "andGroup": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilterExpressionList"
          },
          "notExpression": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilterExpression"
          },
          "orGroup": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilterExpressionList"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessFilter": {
        "description": "An expression to filter dimension or metric values.",
        "properties": {
          "betweenFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessBetweenFilter"
          },
          "fieldName": {
            "description": "The dimension name or metric name.",
            "type": "string"
          },
          "inListFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessInListFilter"
          },
          "numericFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessNumericFilter"
          },
          "stringFilter": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessStringFilter"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessBetweenFilter": {
        "description": "To express that the result needs to be between two numbers (inclusive).",
        "properties": {
          "fromValue": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaNumericValue"
          },
          "toValue": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaNumericValue"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaNumericValue": {
        "description": "To represent a number.",
        "properties": {
          "doubleValue": {
            "description": "Double value",
            "format": "double",
            "type": "number"
          },
          "int64Value": {
            "description": "Integer value",
            "format": "int64",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessInListFilter": {
        "description": "The result needs to be in a list of string values.",
        "properties": {
          "caseSensitive": {
            "description": "If true, the string value is case sensitive.",
            "type": "boolean"
          },
          "values": {
            "description": "The list of string values. Must be non-empty.",
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessNumericFilter": {
        "description": "Filters for numeric or date values.",
        "properties": {
          "operation": {
            "description": "The operation type for this filter.",
            "enum": [
              "OPERATION_UNSPECIFIED",
              "EQUAL",
              "LESS_THAN",
              "LESS_THAN_OR_EQUAL",
              "GREATER_THAN",
              "GREATER_THAN_OR_EQUAL"
            ],
            "type": "string"
          },
          "value": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaNumericValue"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessStringFilter": {
        "description": "The filter for strings.",
        "properties": {
          "caseSensitive": {
            "description": "If true, the string value is case sensitive.",
            "type": "boolean"
          },
          "matchType": {
            "description": "The match type for this filter.",
            "enum": [
              "MATCH_TYPE_UNSPECIFIED",
              "EXACT",
              "BEGINS_WITH",
              "ENDS_WITH",
              "CONTAINS",
              "FULL_REGEXP",
              "PARTIAL_REGEXP"
            ],
            "type": "string"
          },
          "value": {
            "description": "The string value used for the matching.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessFilterExpressionList": {
        "description": "A list of filter expressions.",
        "properties": {
          "expressions": {
            "description": "A list of filter expressions.",
            "items": {
              "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessFilterExpression"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessDimension": {
        "description": "Dimensions are attributes of your data. For example, the dimension `userEmail` indicates the email of the user that accessed reporting data. Dimension values in report responses are strings.",
        "properties": {
          "dimensionName": {
            "description": "The API name of the dimension. See [Data Access Schema](https://developers.google.com/analytics/devguides/config/admin/v1/access-api-schema) for the list of dimensions supported in this API. Dimensions are referenced by name in `dimensionFilter` and `orderBys`.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessMetric": {
        "description": "The quantitative measurements of a report. For example, the metric `accessCount` is the total number of data access records.",
        "properties": {
          "metricName": {
            "description": "The API name of the metric. See [Data Access Schema](https://developers.google.com/analytics/devguides/config/admin/v1/access-api-schema) for the list of metrics supported in this API. Metrics are referenced by name in `metricFilter` & `orderBys`.",
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessOrderBy": {
        "description": "Order bys define how rows will be sorted in the response. For example, ordering rows by descending access count is one ordering, and ordering rows by the country string is a different ordering.",
        "properties": {
          "desc": {
            "description": "If true, sorts by descending order. If false or unspecified, sorts in ascending order.",
            "type": "boolean"
          },
          "dimension": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessOrderByDimensionOrderBy"
          },
          "metric": {
            "$ref": "#/$defs/GoogleAnalyticsAdminV1betaAccessOrderByMetricOrderBy"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessOrderByDimensionOrderBy": {
        "description": "Sorts by dimension values.",
        "properties": {
          "dimensionName": {
            "description": "A dimension name in the request to order by.",
            "type": "string"
          },
          "orderType": {
            "description": "Controls the rule for dimension value ordering.",
            "enum": [
              "ORDER_TYPE_UNSPECIFIED",
              "ALPHANUMERIC",
              "CASE_INSENSITIVE_ALPHANUMERIC",
              "NUMERIC"
            ],
            "type": "string"
          }
        },
        "type": "object"
      },
      "GoogleAnalyticsAdminV1betaAccessOrderByMetricOrderBy": {
        "description": "Sorts by metric values.",
        "properties": {
          "metricName": {
            "description": "A metric name in the request to order by.",
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://analyticsadmin.googleapis.com//v1beta/{entity}:runAccessReport{?$.xgafv,access_token,alt,callback,fields,key,oauth_token,prettyPrint,quotaUser,upload_protocol,uploadType}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "The customized Data Access Record Report response.",
        "**Key properties:**",
        {
          "$ul": [
            "**dimensionHeaders**: The header for a column in the report that corresponds to a specific dimension. The number of DimensionHeaders and ordering of DimensionHeaders matches the dimensions present in rows.",
            "**metricHeaders**: The header for a column in the report that corresponds to a specific metric. The number of MetricHeaders and ordering of MetricHeaders matches the metrics present in rows.",
            [
              "**quota**: Current state of all quotas for this Analytics property. If any quota for a property is exhausted, all requests to that property will return Resource Exhausted errors.",
              {
                "$ul": [
                  [
                    "**concurrentRequests**: Current state for a particular quota group.",
                    {
                      "$ul": [
                        "**consumed**: Quota consumed by this request.",
                        "**remaining**: Quota remaining after this request."
                      ]
                    }
                  ],
                  [
                    "**serverErrorsPerProjectPerHour**: Current state for a particular quota group.",
                    {
                      "$ul": [
                        "**consumed**: Quota consumed by this request.",
                        "**remaining**: Quota remaining after this request."
                      ]
                    }
                  ],
                  [
                    "**tokensPerDay**: Current state for a particular quota group.",
                    {
                      "$ul": [
                        "**consumed**: Quota consumed by this request.",
                        "**remaining**: Quota remaining after this request."
                      ]
                    }
                  ],
                  [
                    "**tokensPerHour**: Current state for a particular quota group.",
                    {
                      "$ul": [
                        "**consumed**: Quota consumed by this request.",
                        "**remaining**: Quota remaining after this request."
                      ]
                    }
                  ],
                  [
                    "**tokensPerProjectPerHour**: Current state for a particular quota group.",
                    {
                      "$ul": [
                        "**consumed**: Quota consumed by this request.",
                        "**remaining**: Quota remaining after this request."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**rowCount**: The total number of rows in the query result. `rowCount` is independent of the number of rows returned in the response, the `limit` request parameter, and the `offset` request parameter. For example if a query returns 175 rows and includes `limit` of 50 in the API request, the response will contain `rowCount` of 175 but only 50 rows. To learn more about this pagination parameter, see [Pagination](https://developers.google.com/analytics/devguides/reporting/data/v1/basics#pagination).",
            "**rows**: Rows of dimension value combinations and metric values in the report."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
