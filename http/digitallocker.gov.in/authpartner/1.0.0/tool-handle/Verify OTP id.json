{
  "name": "Verify_OTP_id",
  "description": "This API is used to verify the OTP sent by DigiLocker during the sign up API call above.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/DemoAuthVerify"
      }
    },
    "$defs": {
      "DemoAuthVerify": {
        "properties": {
          "clientid": {
            "description": "Provide the client id that was created during the application registration process on Partners Portal.",
            "type": "string"
          },
          "hmac": {
            "description": "Provide SHA-256 encrypted value of the client secret, clientid and ts parameters above concatenated in this sequence (client secret, clientid, ts). The hmac parameter is used by DigiLocker to ensure the data integrity and authentication of the request. Use the Client Secret Key generated during the application registration process on Partners Portal as the client secret.",
            "format": "binary",
            "type": "string"
          },
          "mobile": {
            "description": "This is the mobile number of the user. DigiLocker will check whether an account exists for this mobile number. Either uid or mobile is required to verify whether an account exists.",
            "type": "integer"
          },
          "otp": {
            "description": "The OTP provided by the user.",
            "type": "integer"
          },
          "ts": {
            "description": "Provide a timestamp value in UNIX (or POSIX) format in IST time zone in seconds. This timestamp value must not be older than 30 minutes.",
            "type": "string"
          }
        }
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://betaapi.digitallocker.gov.in/public/signup/1/demoauthverify"
    },
    "body": {
      "$": "body",
      "encode": "multipart"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**details**",
              {
                "$ul": [
                  "**access_token**: The access token that can be used to call the DigiLocker APIs.",
                  "**expires_in**: The duration in seconds for which the access token is valid.",
                  "**refresh_token**: The refresh token used to refresh the above access token when it expires. Please refer to Refresh Access Token API for more details.",
                  "**scope**: Scope of the token",
                  "**token_type**: The type of token which will always be Bearer."
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**",
            "**error_description**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: unexpected_error",
            "**error_description**: Internal server error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
