{
  "name": "Push_URI_to_Account_id",
  "description": "The API can use to push or delete a single URI into Digital Locker using DigiLocker Id acquired using Get User Details API. This API can be used to push the certificate details to Digital Locker as and when a certificate is generated in the issuer system. The issuing departments must register on DigiLocker as a registered Issuer and implement the requisite Issuer APIs as mentioned in Digital Locker Issuer API Specification document prior to pushing certificates using this API.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/PushUri"
      }
    },
    "$defs": {
      "PushUri": {
        "properties": {
          "action": {
            "description": "Action that needs to be taken for the Aadhaar number and URI combination. Possible values are A for adding a new URI, U for updating an already added URI details or D for deleting the URI.",
            "type": "string"
          },
          "clientid": {
            "description": "Provide the client id that was created during the application registration process on Partners Portal.",
            "type": "string"
          },
          "digilockerid": {
            "description": "This is the DigiLocker Id of the user that was acquired using Get User Details API.",
            "type": "integer"
          },
          "docid": {
            "description": "A unique number of the document. This id will be unique within the document type issued by the issuer.",
            "type": "string"
          },
          "hmac": {
            "description": "Provide SHA-256 encrypted value of the client secret, clientid and ts parameters above concatenated in this sequence (client secret, clientid, ts). The hmac parameter is used by DigiLocker to ensure the data integrity and authentication of the request. Use the Client Secret Key generated during the application registration process on Partners Portal as the client secret.",
            "format": "binary",
            "type": "string"
          },
          "issuedate": {
            "description": "The issue date of the document in DDMMYYYY format.",
            "type": "string"
          },
          "ts": {
            "description": "Provide a timestamp value in UNIX (or POSIX) format in IST time zone in seconds. This timestamp value must not be older than 30 minutes.",
            "type": "string"
          },
          "uri": {
            "description": "This is the unique identifier of the document.",
            "type": "string"
          },
          "validfrom": {
            "description": "The date from which the document is valid in DDMMYYYY format. This may be same as the issue date.",
            "type": "integer"
          },
          "validto": {
            "description": "The expiry date of the document in DDMMYYYY format.",
            "type": "string"
          }
        }
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://betaapi.digitallocker.gov.in/public/account/1/pushuri"
    },
    "body": {
      "$": "body",
      "encode": "multipart"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$lang": "json",
      "$code": {
        "$encode": "json",
        "$indent": true,
        "$content": {
          "$": "$.body"
        }
      }
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: invalid_parameter",
            "**error_description**: One or more of the mandatory parameters is missing or invalid. The error description text will contain one or more of the following error texts:|-  URI parameter is missing or invalid  Doctype parameter is missing or invalid  Description parameter is missing or invalid  Docid parameter is missing or invalid  Issuedate parameter is missing orinvalid  Timestamp parameter is missing or invalid  HMAC parameter is missing or invalid   URI already exists in this account   URI already exists in another account"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: invalid_client_id",
            "**error_description**: The client_id parameter is invalid"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: invalid_digilocker_id",
            "**error_description**: The digilockerid parameter is invalid"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "500": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**: unexpected_error",
            "**error_description**: Internal server error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
