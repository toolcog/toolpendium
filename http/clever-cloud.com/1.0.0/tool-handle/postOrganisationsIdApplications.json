{
  "name": "postOrganisationsIdApplications",
  "description": "Creates an application. If you want to create a Github app, you need to replace the oauthApp field with what you will find here: https://github.com/CleverCloud/doc.clever-cloud.com/issues/179",
  "parameters": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string"
      },
      "body": {
        "$ref": "#/$defs/WannabeApplication"
      }
    },
    "required": [
      "id",
      "body"
    ],
    "$defs": {
      "WannabeApplication": {
        "properties": {
          "archived": {
            "default": false,
            "type": "boolean"
          },
          "cancelOnPush": {
            "default": false,
            "type": "boolean"
          },
          "deploy": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "enabled": {
            "default": false,
            "type": "boolean"
          },
          "favourite": {
            "default": false,
            "type": "boolean"
          },
          "homogeneous": {
            "default": false,
            "type": "boolean"
          },
          "instanceType": {
            "type": "string"
          },
          "instanceVariant": {
            "type": "string"
          },
          "instanceVersion": {
            "type": "string"
          },
          "maxFlavor": {
            "type": "string"
          },
          "maxInstances": {
            "format": "int32",
            "type": "integer"
          },
          "minFlavor": {
            "type": "string"
          },
          "minInstances": {
            "format": "int32",
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "oauthApp": {
            "$ref": "#/$defs/WannabeOauthApp"
          },
          "oauthAppId": {
            "type": "string"
          },
          "oauthService": {
            "type": "string"
          },
          "separateBuild": {
            "default": false,
            "type": "boolean"
          },
          "shutdownable": {
            "default": false,
            "type": "boolean"
          },
          "stickySessions": {
            "default": false,
            "type": "boolean"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "zone": {
            "type": "string"
          }
        },
        "required": [
          "deploy",
          "enabled",
          "maxInstances",
          "minInstances",
          "name",
          "zone"
        ],
        "type": "object"
      },
      "WannabeOauthApp": {
        "properties": {
          "name": {
            "type": "string"
          },
          "owner": {
            "type": "string"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.clever-cloud.com/v2/organisations/{id}/applications"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**archived** (default: false)",
            "**branch**",
            [
              "**buildFlavor**",
              {
                "$ul": [
                  "**available** (default: false)",
                  "**cpus**",
                  "**disk**",
                  "**mem**",
                  "**microservice** (default: false)",
                  "**name**",
                  "**nice**",
                  "**price**"
                ]
              }
            ],
            "**cancelOnPush** (default: false)",
            "**commitId**",
            "**creationDate**",
            "**deployUrl**",
            [
              "**deployment**",
              {
                "$ul": [
                  "**httpUrl**",
                  "**repoState**",
                  "**shutdownable** (default: false)",
                  "**type**",
                  "**url**"
                ]
              }
            ],
            "**description**",
            "**favourite** (default: false)",
            "**homogeneous** (default: false)",
            "**id**",
            [
              "**instance**",
              {
                "$ul": [
                  [
                    "**buildFlavor**",
                    {
                      "$ul": [
                        "**available** (default: false)",
                        "**cpus**",
                        "**disk**",
                        "**mem**",
                        "**microservice** (default: false)",
                        "**name**",
                        "**nice**",
                        "**price**"
                      ]
                    }
                  ],
                  "**comingSoon** (default: false)",
                  "**defaultEnv**",
                  [
                    "**defaultFlavor**",
                    {
                      "$ul": [
                        "**available** (default: false)",
                        "**cpus**",
                        "**disk**",
                        "**mem**",
                        "**microservice** (default: false)",
                        "**name**",
                        "**nice**",
                        "**price**"
                      ]
                    }
                  ],
                  "**deployments**",
                  "**description**",
                  "**enabled** (default: false)",
                  "**flavors**",
                  "**instanceAndVersion**",
                  "**maxAllowedInstances**",
                  [
                    "**maxFlavor**",
                    {
                      "$ul": [
                        "**available** (default: false)",
                        "**cpus**",
                        "**disk**",
                        "**mem**",
                        "**microservice** (default: false)",
                        "**name**",
                        "**nice**",
                        "**price**"
                      ]
                    }
                  ],
                  "**maxInstances**",
                  [
                    "**minFlavor**",
                    {
                      "$ul": [
                        "**available** (default: false)",
                        "**cpus**",
                        "**disk**",
                        "**mem**",
                        "**microservice** (default: false)",
                        "**name**",
                        "**nice**",
                        "**price**"
                      ]
                    }
                  ],
                  "**minInstances**",
                  "**name**",
                  "**tags**",
                  "**type**",
                  [
                    "**variant**",
                    {
                      "$ul": [
                        "**deployType**",
                        "**id**",
                        "**logo**",
                        "**name**",
                        "**slug**"
                      ]
                    }
                  ],
                  "**version**"
                ]
              }
            ],
            "**last_deploy**",
            "**name**",
            "**ownerId**",
            "**separateBuild** (default: false)",
            "**state**",
            "**stickySessions** (default: false)",
            "**vhosts**",
            "**webhookSecret**",
            "**webhookUrl**",
            "**zone**: `par` ou `mtl`"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
