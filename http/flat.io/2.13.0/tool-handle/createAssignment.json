{
  "name": "createAssignment",
  "description": "Use this method as a teacher to create and post a new assignment to a class.\n\nIf the class is synchronized with Google Classroom, the assignment will be automatically posted to your Classroom course.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "class": {
        "type": "string",
        "description": "Unique identifier of the class"
      },
      "body": {
        "$ref": "#/$defs/AssignmentCreation"
      }
    },
    "required": [
      "class"
    ],
    "$defs": {
      "AssignmentCreation": {
        "description": "Assignment creation details",
        "example": {
          "attachments": [
            {
              "score": "0000000000000000",
              "type": "flat"
            },
            {
              "type": "link",
              "url": "https://flat.io/developers"
            }
          ],
          "description": "Get started with Flat",
          "dueDate": "2017-07-12T13:56:19.613000Z",
          "maxPoints": 100,
          "scheduledDate": "2017-06-20T13:56:19.613000Z",
          "title": "First assignment"
        },
        "properties": {
          "assignedStudents": {
            "description": "Identifiers for the students that have access to the assignment",
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "assigneeMode": {
            "description": "Possible modes of assigning assignments",
            "enum": [
              "everyone",
              "selected"
            ],
            "type": "string"
          },
          "attachments": {
            "items": {
              "$ref": "#/$defs/ClassAttachmentCreation"
            },
            "type": "array"
          },
          "cover": {
            "description": "The URL of the cover to display",
            "nullable": true,
            "type": "string"
          },
          "coverFile": {
            "description": "The id of the cover to display",
            "nullable": true,
            "type": "string"
          },
          "description": {
            "description": "Description and content of the assignment",
            "type": "string"
          },
          "dueDate": {
            "description": "The due date of this assignment, late submissions will be marked as paste due. If not set, the assignment won't have a due date.\n",
            "format": "date-time",
            "nullable": true,
            "type": "string"
          },
          "googleClassroom": {
            "description": "Google Classroom options for this assignment",
            "properties": {
              "topicId": {
                "description": "Identifier of the topic where the assignment is created",
                "nullable": true,
                "type": "string"
              }
            },
            "type": "object"
          },
          "maxPoints": {
            "description": "If set, the grading will be enabled for the assignement with this value as the maximum of points\n",
            "maximum": 100,
            "minimum": 0,
            "nullable": true,
            "type": "number"
          },
          "microsoftGraph": {
            "description": "Microsoft Graph options for this assignment",
            "properties": {
              "categories": {
                "description": "List of categories this assignment belongs to",
                "items": {
                  "type": "string"
                },
                "nullable": true,
                "type": "array"
              }
            },
            "type": "object"
          },
          "nbPlaybackAuthorized": {
            "description": "The number of playback authorized on the scores of the assignment.",
            "nullable": true,
            "type": "number"
          },
          "scheduledDate": {
            "description": "The publication (scheduled) date of the assignment.\nIf this one is specified, the assignment will only be listed to the teachers of the class.\n",
            "format": "date-time",
            "nullable": true,
            "type": "string"
          },
          "state": {
            "description": "State of the assignment",
            "enum": [
              "draft",
              "active"
            ],
            "type": "string"
          },
          "title": {
            "description": "Title of the assignment",
            "type": "string"
          },
          "toolset": {
            "description": "The id of the associated toolset",
            "nullable": true,
            "type": "string"
          },
          "type": {
            "$ref": "#/$defs/AssignmentType"
          }
        },
        "type": "object"
      },
      "ClassAttachmentCreation": {
        "description": "Attachment creation for an assignment or stream post.\nThis attachment must contain a `score` or an `url`, all the details of this one will be resolved and returned as `ClassAttachment` once the assignment or stream post is created.\n",
        "example": {
          "score": "000000000000000001",
          "sharingMode": "copy",
          "type": "flat"
        },
        "properties": {
          "googleDriveFileId": {
            "description": "The ID of the Google Drive File",
            "type": "string"
          },
          "lockScoreTemplate": {
            "description": "To be used with a score attached in `sharingMode` `copy` (score used as template). If true, students won't be able to change the original notes of the template.",
            "type": "boolean"
          },
          "score": {
            "description": "A unique Flat score identifier. The user creating the assignment must at least have read access to the document. If the user has admin rights, new group permissions will be automatically added for the\nteachers and students of the class.\n",
            "type": "string"
          },
          "sharingMode": {
            "$ref": "#/$defs/MediaScoreSharingMode"
          },
          "type": {
            "description": "The type of the attachment posted",
            "enum": [
              "flat",
              "link",
              "googleDrive",
              "worksheet"
            ],
            "type": "string"
          },
          "url": {
            "description": "The URL of the attachment.",
            "type": "string"
          },
          "worksheet": {
            "description": "An unique worksheet identifier",
            "type": "string"
          }
        },
        "type": "object"
      },
      "MediaScoreSharingMode": {
        "default": "read",
        "description": "The sharing mode of the score for classes post and assignments",
        "enum": [
          "read",
          "write",
          "copy",
          "performance"
        ],
        "type": "string"
      },
      "AssignmentType": {
        "description": "Type of the assignment",
        "enum": [
          "none",
          "newScore",
          "scoreTemplate",
          "sharedWriting",
          "worksheet",
          "performance"
        ],
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.flat.io/v2/classes/{class}/assignments"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Assignment details",
        "**Key properties:**",
        {
          "$ul": [
            "**attachments**",
            [
              "**canvas**: A Canvas LMS assignment",
              {
                "$ul": [
                  "**alternateLink**: Link to Canvas assignment",
                  "**id**: Unique identifier of the course on Canvas assignment"
                ]
              }
            ],
            "**classroom**: The unique identifier of the class where this assignment was posted",
            "**cover**: The URL of the cover to display",
            "**coverFile**: The id of the cover to display",
            "**creationDate**: The creation date of this assignment",
            "**creator**: The User unique identifier of the creator of this assignment",
            "**description**: Description and content of the assignment",
            "**dueDate**: The due date of this assignment, late submissions will be marked as",
            [
              "**googleClassroom**: A coursework on Google Classroom",
              {
                "$ul": [
                  "**alternateLink**: Absolute link to this coursework in the Classroom web UI",
                  "**id**: Identifier of the coursework assigned by Classroom",
                  "**state**: State of the coursework",
                  "**topicId**: Identifier of the topic where the assignment is created"
                ]
              }
            ],
            [
              "**lti**: An LTI assignment",
              {
                "$ul": [
                  "**id**: Resource ID in the LMS"
                ]
              }
            ],
            "**maxPoints**: If set, the grading will be enabled for the assignement",
            [
              "**mfc**: A MusicFirst Classroom assignment",
              {
                "$ul": [
                  "**alternateLink**: Link to MusicFirst Classroom task",
                  "**id**: Unique identifier of the course on MusicFirst Task"
                ]
              }
            ],
            [
              "**microsoftGraph**: A Microsoft Teams asignment",
              {
                "$ul": [
                  "**alternateLink**: Absolute link to this assignement in the Microsoft Teams web UI",
                  "**categories**: List of categories where this assignment is published under",
                  "**id**: Identifier of the assignement assigned by Microsoft Teams",
                  "**state**: State of the assignment"
                ]
              }
            ],
            "**scheduledDate**: The publication (scheduled) date of the assignment.",
            "**state**: State of the assignment",
            "**submissions**",
            "**title**: Title of the assignment",
            "**type**: Type of the assignment"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "An API Error response",
        "**Key properties:**",
        {
          "$ul": [
            "**code**: A corresponding code for this error",
            "**id**: An unique error identifier generated for the request",
            "**message**: A printable message for this message",
            "**param**: The related parameter that caused the error"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
