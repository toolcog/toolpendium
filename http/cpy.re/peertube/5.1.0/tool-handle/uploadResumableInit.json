{
  "name": "uploadResumableInit",
  "description": "Uses [a resumable protocol](https://github.com/kukhariev/node-uploadx/blob/master/proto.md) to initialize the upload of a video",
  "parameters": {
    "type": "object",
    "properties": {
      "X-Upload-Content-Length": {
        "example": 2469036,
        "type": "number",
        "description": "Number of bytes that will be uploaded in subsequent requests. Set this value to the size of the file you are uploading."
      },
      "X-Upload-Content-Type": {
        "example": "video/mp4",
        "format": "mimetype",
        "type": "string",
        "description": "MIME type of the file that you are uploading. Depending on your instance settings, acceptable values might vary."
      },
      "body": {
        "$ref": "#/$defs/VideoUploadRequestResumable"
      }
    },
    "required": [
      "X-Upload-Content-Length",
      "X-Upload-Content-Type"
    ],
    "$defs": {
      "VideoUploadRequestResumable": {
        "allOf": [
          {
            "$ref": "#/$defs/VideoUploadRequestCommon"
          },
          {
            "properties": {
              "filename": {
                "description": "Video filename including extension",
                "example": "what_is_peertube.mp4",
                "format": "filename",
                "type": "string"
              },
              "previewfile": {
                "description": "Video preview file",
                "format": "binary",
                "type": "string"
              },
              "thumbnailfile": {
                "description": "Video thumbnail file",
                "format": "binary",
                "type": "string"
              }
            },
            "required": [
              "filename"
            ],
            "type": "object"
          }
        ]
      },
      "VideoUploadRequestCommon": {
        "properties": {
          "category": {
            "$ref": "#/$defs/VideoCategorySet"
          },
          "channelId": {
            "description": "Channel id that will contain this video",
            "example": 3,
            "minimum": 1,
            "type": "integer"
          },
          "commentsEnabled": {
            "description": "Enable or disable comments for this video",
            "type": "boolean"
          },
          "description": {
            "description": "Video description",
            "example": "**[Want to help to translate this video?](https://weblate.framasoft.org/projects/what-is-peertube-video/)**\\r\\n\\r\\n**Take back the control of your videos! [#JoinPeertube](https://joinpeertube.org)**\n",
            "type": "string"
          },
          "downloadEnabled": {
            "description": "Enable or disable downloading for this video",
            "type": "boolean"
          },
          "language": {
            "$ref": "#/$defs/VideoLanguageSet"
          },
          "licence": {
            "$ref": "#/$defs/VideoLicenceSet"
          },
          "name": {
            "description": "Video name",
            "example": "What is PeerTube?",
            "maxLength": 120,
            "minLength": 3,
            "type": "string"
          },
          "nsfw": {
            "description": "Whether or not this video contains sensitive content",
            "type": "boolean"
          },
          "originallyPublishedAt": {
            "description": "Date when the content was originally published",
            "format": "date-time",
            "type": "string"
          },
          "previewfile": {
            "description": "Video preview file",
            "format": "binary",
            "type": "string"
          },
          "privacy": {
            "$ref": "#/$defs/VideoPrivacySet"
          },
          "scheduleUpdate": {
            "$ref": "#/$defs/VideoScheduledUpdate"
          },
          "support": {
            "description": "A text tell the audience how to support the video creator",
            "example": "Please support our work on https://soutenir.framasoft.org/en/ <3",
            "type": "string"
          },
          "tags": {
            "description": "Video tags (maximum 5 tags each between 2 and 30 characters)",
            "example": [
              "framasoft",
              "peertube"
            ],
            "items": {
              "maxLength": 30,
              "minLength": 2,
              "type": "string"
            },
            "maxItems": 5,
            "minItems": 1,
            "type": "array",
            "uniqueItems": true
          },
          "thumbnailfile": {
            "description": "Video thumbnail file",
            "format": "binary",
            "type": "string"
          },
          "waitTranscoding": {
            "description": "Whether or not we wait transcoding before publish the video",
            "type": "boolean"
          }
        },
        "required": [
          "channelId",
          "name"
        ]
      },
      "VideoCategorySet": {
        "description": "category id of the video (see [/videos/categories](#operation/getCategories))",
        "example": 15,
        "type": "integer"
      },
      "VideoLanguageSet": {
        "description": "language id of the video (see [/videos/languages](#operation/getLanguages))",
        "example": "en",
        "type": "string"
      },
      "VideoLicenceSet": {
        "description": "licence id of the video (see [/videos/licences](#operation/getLicences))",
        "example": 2,
        "type": "integer"
      },
      "VideoPrivacySet": {
        "description": "privacy id of the video (see [/videos/privacies](#operation/getVideoPrivacyPolicies))",
        "enum": [
          1,
          2,
          3,
          4
        ],
        "type": "integer"
      },
      "VideoScheduledUpdate": {
        "properties": {
          "privacy": {
            "$ref": "#/$defs/VideoPrivacySet"
          },
          "updateAt": {
            "description": "When to update the video",
            "format": "date",
            "type": "string"
          }
        },
        "required": [
          "updateAt"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://peertube2.cpy.re/api/v1/videos/upload-resumable"
    },
    "headers": {
      "X-Upload-Content-Length": {
        "$": "X-Upload-Content-Length"
      },
      "X-Upload-Content-Type": {
        "$": "X-Upload-Content-Type"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {}
}
