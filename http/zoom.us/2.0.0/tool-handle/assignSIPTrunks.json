{
  "name": "assignSIPTrunks",
  "description": "With SIP-connected audio, Zoom establishes a SIP trunk (a network connection specifically designed to make and deliver phone calls) over a direct and private connection between the customer’s network and the Zoom cloud. Meeting participants that dial into a meeting or have the meeting call them, and are On-Net from the perspective of the customers’ IP telephony network, will be connected over this trunk rather than over the PSTN.<br><br>Use this API to assign SIP trunk(s) that are available on a master account to a sub account. <br><b>Prerequisites:</b><br>\n* The account making this API request must be a master account with [API Partner Plan](https://zoom.us/plan/api) and SIP Connected Audio Plan.<br><br>\n**Scope:** `sip_trunk:master`",
  "parameters": {
    "type": "object",
    "properties": {
      "accountId": {
        "type": "string",
        "description": "Unique Identifier of the sub account."
      },
      "body": {
        "properties": {
          "sip_trunks": {
            "description": "Array of one or more SIP Trunk objects. ",
            "items": {
              "properties": {
                "dnis": {
                  "description": "DNIS of the sub account. The prefix of the DNIS (i.e. the first five digits of the DNIS value) must match the DNIS prefix of the master account. To retrieve the DNIS prefix of a master account's SIP Trunk, use the List SIP Trunks API and refer to the first five digits in the `dnis` value. \n\nFor example, if the DNIS of the master account is 1888812345, the DNIS of the sub account must comprise of \"18888\" + \"random_number\". The maximum allowed length of the DNIS is 8.",
                  "maxLength": 8,
                  "minLength": 5,
                  "type": "string"
                },
                "id": {
                  "description": "Unique identifier of the SIP trunk that will be assigned to the sub account. The value of this field can be retrieved by listing the SIP Trunks of a master account using List SIP Trunks API.",
                  "type": "string"
                },
                "outbound_caller_id": {
                  "description": "Assign an outbound caller Id to the trunk.",
                  "maxLength": 32,
                  "type": "string"
                }
              },
              "type": "object"
            },
            "maxItems": 30,
            "minItems": 1,
            "type": "array"
          }
        },
        "type": "object"
      }
    },
    "required": [
      "accountId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.zoom.us/v2/accounts/{accountId}/sip_trunk/trunks"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**sip_trunks**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
