{
  "name": "CreateChannelType",
  "description": "Creates new channel type\n",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/CreateChannelTypeRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "CreateChannelTypeRequest": {
        "nullable": true,
        "properties": {
          "automod": {
            "description": "Enables automatic message moderation",
            "enum": [
              "disabled",
              "simple",
              "AI"
            ],
            "title": "Auto moderation",
            "type": "string",
            "x-stream-index": "015"
          },
          "automod_behavior": {
            "description": "Sets behavior of automatic moderation",
            "enum": [
              "flag",
              "block"
            ],
            "title": "Auto moderation behavior",
            "type": "string",
            "x-stream-index": "016"
          },
          "blocklist": {
            "description": "Name of the blocklist to use",
            "title": "Blocklist",
            "type": "string",
            "x-stream-index": "020"
          },
          "blocklist_behavior": {
            "description": "Sets behavior of blocklist",
            "enum": [
              "flag",
              "block"
            ],
            "title": "Blocklist behavior",
            "type": "string",
            "x-stream-index": "021"
          },
          "commands": {
            "description": "List of commands that channel supports",
            "items": {
              "type": "string"
            },
            "title": "Commands",
            "type": "array",
            "x-stream-index": "017"
          },
          "connect_events": {
            "description": "Connect events support",
            "title": "Connect events",
            "type": "boolean",
            "x-stream-index": "004"
          },
          "custom_events": {
            "description": "Enables custom events",
            "title": "Custom events",
            "type": "boolean",
            "x-stream-index": "011"
          },
          "grants": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "x-stream-index": "019"
          },
          "max_message_length": {
            "description": "Number of maximum message characters",
            "format": "int32",
            "title": "Maximum message length",
            "type": "integer",
            "x-stream-index": "014"
          },
          "message_retention": {
            "description": "Number of days to keep messages. 'infinite' disables retention",
            "title": "Message retention",
            "type": "string",
            "x-stream-index": "013"
          },
          "mutes": {
            "description": "Enables mutes",
            "title": "Mutes",
            "type": "boolean",
            "x-stream-index": "008"
          },
          "name": {
            "description": "Channel type name",
            "title": "Name",
            "type": "string",
            "x-stream-index": "001"
          },
          "permissions": {
            "description": "List of permissions for the channel type",
            "items": {
              "$ref": "#/$defs/PolicyRequest"
            },
            "title": "Permissions",
            "type": "array",
            "x-stream-index": "018"
          },
          "push_notifications": {
            "description": "Enables push notifications",
            "title": "Push notifications",
            "type": "boolean",
            "x-stream-index": "012"
          },
          "reactions": {
            "description": "Enables message reactions",
            "title": "Reactions",
            "type": "boolean",
            "x-stream-index": "005"
          },
          "read_events": {
            "description": "Read events support",
            "title": "Read events",
            "type": "boolean",
            "x-stream-index": "003"
          },
          "replies": {
            "description": "Enables message replies (threads)",
            "title": "Replies",
            "type": "boolean",
            "x-stream-index": "006"
          },
          "search": {
            "description": "Enables message search",
            "title": "Search",
            "type": "boolean",
            "x-stream-index": "007"
          },
          "typing_events": {
            "description": "Typing events support",
            "title": "Typing events",
            "type": "boolean",
            "x-stream-index": "002"
          },
          "uploads": {
            "description": "Enables file uploads",
            "title": "Uploads",
            "type": "boolean",
            "x-stream-index": "009"
          },
          "url_enrichment": {
            "description": "Enables URL enrichment",
            "title": "URL enrichment",
            "type": "boolean",
            "x-stream-index": "010"
          }
        },
        "required": [
          "name",
          "automod"
        ],
        "type": "object"
      },
      "PolicyRequest": {
        "properties": {
          "action": {
            "enum": [
              "Deny",
              "Allow"
            ],
            "title": "Action",
            "type": "string",
            "x-stream-index": "001"
          },
          "name": {
            "description": "User-friendly policy name",
            "title": "Name",
            "type": "string",
            "x-stream-index": "002"
          },
          "owner": {
            "description": "Whether policy applies to resource owner or not",
            "title": "Owner",
            "type": "boolean",
            "x-stream-index": "005"
          },
          "priority": {
            "description": "Policy priority",
            "format": "int32",
            "maximum": 999,
            "minimum": 1,
            "title": "Priority",
            "type": "integer",
            "x-stream-index": "006"
          },
          "resources": {
            "description": "List of resources to apply policy to",
            "items": {
              "type": "string"
            },
            "minimum": 1,
            "title": "Resources",
            "type": "array",
            "x-stream-index": "003"
          },
          "roles": {
            "description": "List of roles to apply policy to",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array",
            "x-stream-index": "004"
          }
        },
        "required": [
          "name",
          "priority"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://chat.stream-io-api.com/channeltypes"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**automod**",
            "**automod_behavior**",
            [
              "**automod_thresholds**: Sets thresholds for AI moderation",
              {
                "$ul": [
                  [
                    "**explicit**",
                    {
                      "$ul": [
                        "**block**: Threshold for automatic message block",
                        "**flag**: Threshold for automatic message flag"
                      ]
                    }
                  ],
                  [
                    "**spam**",
                    {
                      "$ul": [
                        "**block**: Threshold for automatic message block",
                        "**flag**: Threshold for automatic message flag"
                      ]
                    }
                  ],
                  [
                    "**toxic**",
                    {
                      "$ul": [
                        "**block**: Threshold for automatic message block",
                        "**flag**: Threshold for automatic message flag"
                      ]
                    }
                  ]
                ]
              }
            ],
            "**blocklist**",
            "**blocklist_behavior**",
            "**commands**",
            "**connect_events**",
            "**created_at**",
            "**custom_events**",
            "**duration**",
            "**grants**",
            "**max_message_length**",
            "**message_retention**",
            "**mutes**",
            "**name**",
            "**permissions**",
            "**push_notifications**",
            "**quotes**",
            "**reactions**",
            "**read_events**",
            "**reminders**",
            "**replies**",
            "**search**",
            "**typing_events**",
            "**updated_at**",
            "**uploads**",
            "**url_enrichment**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**StatusCode**: Response HTTP status code",
            "**code**: API error code",
            "**details**: Additional error-specific information",
            "**duration**: Request duration",
            "**exception_fields**: Additional error info",
            "**message**: Message describing an error",
            "**more_info**: URL with additional information"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "429": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**StatusCode**: Response HTTP status code",
            "**code**: API error code",
            "**details**: Additional error-specific information",
            "**duration**: Request duration",
            "**exception_fields**: Additional error info",
            "**message**: Message describing an error",
            "**more_info**: URL with additional information"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
