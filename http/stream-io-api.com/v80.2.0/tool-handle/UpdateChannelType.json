{
  "name": "UpdateChannelType",
  "description": "Updates channel type\n",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "$ref": "#/$defs/UpdateChannelTypeRequest"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "UpdateChannelTypeRequest": {
        "nullable": true,
        "properties": {
          "NameFromPath": {
            "type": "string",
            "writeOnly": true,
            "x-stream-index": "001"
          },
          "automod": {
            "enum": [
              "disabled",
              "simple",
              "AI"
            ],
            "type": "string",
            "x-stream-index": "007.001.017"
          },
          "automod_behavior": {
            "enum": [
              "flag",
              "block"
            ],
            "type": "string",
            "x-stream-index": "007.001.018"
          },
          "automod_thresholds": {
            "$ref": "#/$defs/ThresholdsRequest"
          },
          "blocklist": {
            "type": "string",
            "x-stream-index": "007.001.019"
          },
          "blocklist_behavior": {
            "enum": [
              "flag",
              "block"
            ],
            "type": "string",
            "x-stream-index": "007.001.020"
          },
          "commands": {
            "description": "List of commands that channel supports",
            "items": {
              "type": "string"
            },
            "title": "Commands",
            "type": "array",
            "x-stream-index": "007.003"
          },
          "connect_events": {
            "type": "boolean",
            "x-stream-index": "007.001.004"
          },
          "custom_events": {
            "type": "boolean",
            "x-stream-index": "007.001.012"
          },
          "grants": {
            "additionalProperties": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "object",
            "x-stream-index": "004"
          },
          "max_message_length": {
            "format": "int32",
            "maximum": 20000,
            "type": "integer",
            "x-stream-index": "007.001.016"
          },
          "message_retention": {
            "type": "string",
            "x-stream-index": "007.001.015"
          },
          "mutes": {
            "type": "boolean",
            "x-stream-index": "007.001.009"
          },
          "permissions": {
            "items": {
              "$ref": "#/$defs/PolicyRequest"
            },
            "type": "array",
            "x-stream-index": "003"
          },
          "push_notifications": {
            "type": "boolean",
            "x-stream-index": "007.001.013"
          },
          "quotes": {
            "type": "boolean",
            "x-stream-index": "007.001.008"
          },
          "reactions": {
            "type": "boolean",
            "x-stream-index": "007.001.006"
          },
          "read_events": {
            "type": "boolean",
            "x-stream-index": "007.001.003"
          },
          "reminders": {
            "type": "boolean",
            "x-stream-index": "007.001.014"
          },
          "replies": {
            "type": "boolean",
            "x-stream-index": "007.001.007"
          },
          "search": {
            "type": "boolean",
            "x-stream-index": "007.001.005"
          },
          "typing_events": {
            "type": "boolean",
            "x-stream-index": "007.001.002"
          },
          "uploads": {
            "type": "boolean",
            "x-stream-index": "007.001.010"
          },
          "url_enrichment": {
            "type": "boolean",
            "x-stream-index": "007.001.011"
          }
        },
        "required": [
          "automod"
        ],
        "type": "object"
      },
      "ThresholdsRequest": {
        "description": "Sets thresholds for AI moderation",
        "properties": {
          "explicit": {
            "$ref": "#/$defs/LabelThresholdsRequest"
          },
          "spam": {
            "$ref": "#/$defs/LabelThresholdsRequest"
          },
          "toxic": {
            "$ref": "#/$defs/LabelThresholdsRequest"
          }
        },
        "title": "Auto moderation thresholds",
        "type": "object"
      },
      "LabelThresholdsRequest": {
        "properties": {
          "block": {
            "description": "Threshold for automatic message block",
            "format": "float",
            "maximum": 1,
            "minimum": 0,
            "title": "Block",
            "type": "number",
            "x-stream-index": "002"
          },
          "flag": {
            "description": "Threshold for automatic message flag",
            "format": "float",
            "maximum": 1,
            "minimum": 0,
            "title": "Flag",
            "type": "number",
            "x-stream-index": "001"
          }
        },
        "type": "object"
      },
      "PolicyRequest": {
        "properties": {
          "action": {
            "enum": [
              "Deny",
              "Allow"
            ],
            "title": "Action",
            "type": "string",
            "x-stream-index": "001"
          },
          "name": {
            "description": "User-friendly policy name",
            "title": "Name",
            "type": "string",
            "x-stream-index": "002"
          },
          "owner": {
            "description": "Whether policy applies to resource owner or not",
            "title": "Owner",
            "type": "boolean",
            "x-stream-index": "005"
          },
          "priority": {
            "description": "Policy priority",
            "format": "int32",
            "maximum": 999,
            "minimum": 1,
            "title": "Priority",
            "type": "integer",
            "x-stream-index": "006"
          },
          "resources": {
            "description": "List of resources to apply policy to",
            "items": {
              "type": "string"
            },
            "minimum": 1,
            "title": "Resources",
            "type": "array",
            "x-stream-index": "003"
          },
          "roles": {
            "description": "List of roles to apply policy to",
            "items": {
              "type": "string"
            },
            "title": "Roles",
            "type": "array",
            "x-stream-index": "004"
          }
        },
        "required": [
          "name",
          "priority"
        ],
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://chat.stream-io-api.com/channeltypes/{name}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**automod**",
            "**automod_behavior**",
            [
              "**automod_thresholds**: Sets thresholds for AI moderation",
              {
                "$ul": [
                  [
                    "**explicit**",
                    {
                      "$ul": [
                        "**block**: Threshold for automatic message block",
                        "**flag**: Threshold for automatic message flag"
                      ]
                    }
                  ],
                  [
                    "**spam**",
                    {
                      "$ul": [
                        "**block**: Threshold for automatic message block",
                        "**flag**: Threshold for automatic message flag"
                      ]
                    }
                  ],
                  [
                    "**toxic**",
                    {
                      "$ul": [
                        "**block**: Threshold for automatic message block",
                        "**flag**: Threshold for automatic message flag"
                      ]
                    }
                  ]
                ]
              }
            ],
            "**blocklist**",
            "**blocklist_behavior**",
            "**commands**",
            "**connect_events**",
            "**created_at**",
            "**custom_events**",
            "**duration**",
            "**grants**",
            "**max_message_length**",
            "**message_retention**",
            "**mutes**",
            "**name**",
            "**permissions**",
            "**push_notifications**",
            "**quotes**",
            "**reactions**",
            "**read_events**",
            "**reminders**",
            "**replies**",
            "**search**",
            "**typing_events**",
            "**updated_at**",
            "**uploads**",
            "**url_enrichment**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**StatusCode**: Response HTTP status code",
            "**code**: API error code",
            "**details**: Additional error-specific information",
            "**duration**: Request duration",
            "**exception_fields**: Additional error info",
            "**message**: Message describing an error",
            "**more_info**: URL with additional information"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "429": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Error response"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**StatusCode**: Response HTTP status code",
            "**code**: API error code",
            "**details**: Additional error-specific information",
            "**duration**: Request duration",
            "**exception_fields**: Additional error info",
            "**message**: Message describing an error",
            "**more_info**: URL with additional information"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
