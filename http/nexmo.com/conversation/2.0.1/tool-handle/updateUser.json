{
  "name": "updateUser",
  "description": "Update a user",
  "parameters": {
    "type": "object",
    "properties": {
      "user_id": {
        "type": "string",
        "description": "User ID"
      },
      "body": {
        "properties": {
          "channels": {
            "$ref": "#/$defs/channel"
          },
          "display_name": {
            "$ref": "#/$defs/display_name_user"
          },
          "image_url": {
            "$ref": "#/$defs/image_url"
          },
          "name": {
            "$ref": "#/$defs/name_user"
          }
        }
      }
    },
    "required": [
      "user_id"
    ],
    "$defs": {
      "0": {
        "description": "Connect to an App User",
        "properties": {
          "type": {
            "description": "The type of connection. Must be `app`",
            "example": "app",
            "type": "string"
          },
          "user": {
            "description": "The username to connect to",
            "example": "jamie",
            "type": "string"
          }
        },
        "required": [
          "type",
          "user"
        ],
        "type": "object"
      },
      "2": {
        "description": "Connect to a SIP Endpoint",
        "properties": {
          "type": {
            "description": "The type of connection. Must be `sip`",
            "example": "sip",
            "type": "string"
          },
          "uri": {
            "description": "The SIP URI to connect to",
            "example": "sip:rebekka@sip.example.com",
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          }
        },
        "required": [
          "type"
        ],
        "type": "object"
      },
      "3": {
        "description": "Connect to a Websocket",
        "properties": {
          "content-type": {
            "enum": [
              "audio/l16;rate=8000",
              "audio/l16;rate=16000"
            ],
            "example": "audio/l16;rate=16000",
            "type": "string"
          },
          "headers": {
            "description": "Details of the Websocket you want to connect to",
            "properties": {
              "customer_id": {
                "description": "This is an example header. You can provide any headers you may need",
                "example": "ABC123",
                "type": "string"
              }
            },
            "type": "object"
          },
          "type": {
            "description": "The type of connection. Must be `websocket`",
            "example": "websocket",
            "type": "string"
          },
          "uri": {
            "example": "wss://example.com/socket",
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          }
        },
        "required": [
          "type",
          "content-type"
        ],
        "type": "object"
      },
      "4": {
        "description": "Connect to a VBC extension",
        "properties": {
          "extension": {
            "example": "1234",
            "type": "string"
          },
          "type": {
            "description": "The type of connection. Must be `vbc`",
            "example": "vbc",
            "type": "string"
          }
        },
        "required": [
          "type",
          "extension"
        ],
        "type": "object"
      },
      "channel": {
        "description": "A user who joins a conversation as a member can have one channel per membership type. Channels can be `app`, `phone`, `sip`, `websocket`, or `vbc`",
        "properties": {
          "from": {
            "oneOf": [
              {
                "description": "Connect to an App User",
                "properties": {
                  "type": {
                    "description": "The type of connection. Must be `app`",
                    "example": "app",
                    "type": "string"
                  },
                  "user": {
                    "description": "The username to connect to",
                    "example": "jamie",
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "user"
                ],
                "type": "object"
              },
              {
                "description": "Connect to a Phone (PSTN) number",
                "properties": {
                  "number": {
                    "description": "The phone number to connect to",
                    "example": "14155550100",
                    "maxLength": 15,
                    "minLength": 7,
                    "pattern": "\\d{7,15}",
                    "type": "string"
                  },
                  "type": {
                    "description": "The type of connection. Must be `phone`",
                    "example": "phone",
                    "type": "string"
                  }
                },
                "required": [
                  "number",
                  "type"
                ],
                "type": "object"
              },
              {
                "description": "Connect to a SIP Endpoint",
                "properties": {
                  "type": {
                    "description": "The type of connection. Must be `sip`",
                    "example": "sip",
                    "type": "string"
                  },
                  "uri": {
                    "description": "The SIP URI to connect to",
                    "example": "sip:rebekka@sip.example.com",
                    "maxLength": 50,
                    "minLength": 1,
                    "type": "string"
                  }
                },
                "required": [
                  "type"
                ],
                "type": "object"
              },
              {
                "description": "Connect to a Websocket",
                "properties": {
                  "content-type": {
                    "enum": [
                      "audio/l16;rate=8000",
                      "audio/l16;rate=16000"
                    ],
                    "example": "audio/l16;rate=16000",
                    "type": "string"
                  },
                  "headers": {
                    "description": "Details of the Websocket you want to connect to",
                    "properties": {
                      "customer_id": {
                        "description": "This is an example header. You can provide any headers you may need",
                        "example": "ABC123",
                        "type": "string"
                      }
                    },
                    "type": "object"
                  },
                  "type": {
                    "description": "The type of connection. Must be `websocket`",
                    "example": "websocket",
                    "type": "string"
                  },
                  "uri": {
                    "example": "wss://example.com/socket",
                    "maxLength": 50,
                    "minLength": 1,
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "content-type"
                ],
                "type": "object"
              },
              {
                "description": "Connect to a VBC extension",
                "properties": {
                  "extension": {
                    "example": "1234",
                    "type": "string"
                  },
                  "type": {
                    "description": "The type of connection. Must be `vbc`",
                    "example": "vbc",
                    "type": "string"
                  }
                },
                "required": [
                  "type",
                  "extension"
                ],
                "type": "object"
              }
            ]
          },
          "leg_id": {
            "$ref": "#/$defs/leg_id"
          },
          "leg_ids": {
            "description": "Leg ids associated with this Channel. The first item in the array represents the main active Leg. The second item, if exists, represents a screen-share Leg.",
            "items": {
              "properties": {
                "leg_id": {
                  "$ref": "#/$defs/leg_id"
                }
              }
            },
            "type": "array"
          },
          "to": {
            "oneOf": [
              {
                "$ref": "#/$defs/0"
              },
              {
                "description": "Connect to a Phone (PSTN) number",
                "properties": {
                  "dtmfAnswer": {
                    "description": "Provide [DTMF digits](https://developer.nexmo.com/voice/voice-api/guides/dtmf) to send when the call is answered",
                    "example": "p*123#",
                    "type": "string"
                  },
                  "number": {
                    "$ref": "#/$defs/number"
                  },
                  "type": {
                    "description": "The type of connection. Must be `phone`",
                    "example": "phone",
                    "type": "string"
                  }
                },
                "required": [
                  "number",
                  "type"
                ],
                "type": "object"
              },
              {
                "$ref": "#/$defs/2"
              },
              {
                "$ref": "#/$defs/3"
              },
              {
                "$ref": "#/$defs/4"
              }
            ]
          },
          "type": {
            "$ref": "#/$defs/channel_type"
          }
        },
        "type": "object"
      },
      "leg_id": {
        "description": "The id of the leg. rtc_id and call_id are leg id",
        "example": "a595959595959595995",
        "type": "string"
      },
      "number": {
        "description": "The phone number to connect to",
        "example": "14155550100",
        "maxLength": 15,
        "minLength": 7,
        "pattern": "\\d{7,15}",
        "type": "string"
      },
      "channel_type": {
        "description": "Channel type",
        "enum": [
          "app",
          "phone",
          "sip",
          "websocket",
          "vbc"
        ],
        "example": "phone",
        "type": "string"
      },
      "display_name_user": {
        "description": "A string to be displayed as user name. It does not need to be unique",
        "example": "My User Name",
        "type": "string"
      },
      "image_url": {
        "description": "A link to an image for conversations' and users' avatars",
        "example": "https://example.com/image.png",
        "format": "url",
        "type": "string"
      },
      "name_user": {
        "description": "Unique name for a user",
        "example": "my_user_name",
        "type": "string"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "https://api.nexmo.com/v0.1/users/{user_id}"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**href**: A link towards a user included in Conversation API",
            "**id**: User ID"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
