{
  "name": "addSSHKey",
  "description": "Create a new SSH Key for a user. Provide the Public Key as formatted from the ssh-keygen command (openssh format or RFC-4716 format).\n\nIf you'd prefer to let us generate your key automatically, you can log in to your account via the web portal and set up new keys via the SSH Keys page. ",
  "parameters": {
    "type": "object",
    "properties": {
      "ev-api-key": {
        "type": "string",
        "description": "API key required to make the API call."
      },
      "ev-access-token": {
        "type": "string",
        "description": "Access token required to make the API call."
      },
      "body": {
        "properties": {
          "publicKey": {
            "description": "Public Key to provide ExaVault. You can provide the Public Key as formatted from the ssh-keygen command or a standard rfc-4716 format. ",
            "type": "string"
          },
          "userId": {
            "description": "ID of the user to assign the new key to. ",
            "type": "integer"
          }
        },
        "required": [
          "userId",
          "publicKey"
        ],
        "title": "AddSSHKeyRequestBody",
        "type": "object"
      }
    },
    "required": [
      "ev-api-key",
      "ev-access-token"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://accountname.exavault.com/api/v2/ssh-keys"
    },
    "headers": {
      "ev-api-key": {
        "$": "ev-api-key"
      },
      "ev-access-token": {
        "$": "ev-access-token"
      }
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "SSHKeyResponse"
        },
        "**Key properties:**",
        {
          "$ul": [
            [
              "**data**: Object representing an SSH Key associated with a user.",
              {
                "$ul": [
                  [
                    "**attributes**",
                    {
                      "$ul": [
                        "**created**: The date-time the SSH Key was created.",
                        "**fingerprint**: The Key Fingerprint. The fingerprint can be used to identify and keep track of the key without exposing the actual credential. ",
                        "**lastLogin**: The date-time the SSH Key was last used to access ExaVault. "
                      ]
                    }
                  ],
                  "**id**: ID of the key.",
                  [
                    "**relationships**",
                    {
                      "$ul": [
                        [
                          "**ownerUser**",
                          {
                            "$ul": [
                              [
                                "**data**",
                                {
                                  "$ul": [
                                    "**id**",
                                    "**type**"
                                  ]
                                }
                              ]
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  "**type**: Type of the object. "
                ]
              }
            ],
            "**included**",
            "**responseStatus**: Http status code of the response."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
