{
  "name": "getPreviewImage",
  "description": "Returns a resized image of the specified document for supported file types.\n\nImage data returned is encoded in base64 format and can be viewed using the `<img>` element. \n\n```<img src='data:image/jpeg;base64' + meta.image/>```\n\n**Notes:**\n- Supported files types are `'jpg'`, `'jpeg'`, `'gif'`, `'png'`, `'bmp'`, `'pdf'`, `'psd'`, `'doc'`\n",
  "parameters": {
    "type": "object",
    "properties": {
      "ev-api-key": {
        "example": "exampleaccount-zwSuWUZ8S38h33qPS8v0s",
        "type": "string",
        "description": "API Key"
      },
      "ev-access-token": {
        "example": "19853ef63a0bc348024a9e4cfd4a92520d2dfd04e88d8679fb1ed6bc551593d1",
        "type": "string",
        "description": "Access Token"
      },
      "resource": {
        "type": "string",
        "description": "Resource identifier for the image file."
      },
      "size": {
        "enum": [
          "small",
          "medium",
          "large"
        ],
        "type": "string",
        "description": "The size of the image."
      },
      "width": {
        "format": "int32",
        "type": "integer",
        "description": "Overrides sizes. Sets to a specific width."
      },
      "height": {
        "format": "int32",
        "type": "integer",
        "description": "Overrides sizes. Sets to a specific height."
      },
      "page": {
        "default": 0,
        "format": "int32",
        "type": "integer",
        "description": "Page number to extract from a multi-page document (0 is the first page). Vaild for **.pdf** or **.doc** files."
      }
    },
    "required": [
      "ev-api-key",
      "ev-access-token",
      "resource",
      "size"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://accountname.exavault.com/api/v2/resources/preview{?resource,size,width,height,page}"
    },
    "headers": {
      "ev-api-key": {
        "$": "ev-api-key"
      },
      "ev-access-token": {
        "$": "ev-access-token"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "PreivewFileResponse"
        },
        "Response object for preview file",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**data**: Object with preview image properties.",
              {
                "$ul": [
                  [
                    "**attributes**",
                    {
                      "$ul": [
                        "**image**: Binary image content, base64 encoded.",
                        "**imageHash**: hash of the image.",
                        "**pageCount**: Amount of pages available in the file. Used only for multipage documents.",
                        "**size**: Size of the image in bytes."
                      ]
                    }
                  ],
                  "**id**",
                  "**type**"
                ]
              }
            ],
            "**responseStatus**: HTTP Status Code"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
