{
  "name": "getWebhookLogs",
  "description": "Returns the webhook logs for your account. Use the available query parameters to filter the listing of activity that is returned.\n\n**NOTE:** Total Results will always return as 0 to avoid querying data you're not using and stay as performant as possible. \n\n**Event Types**\n\nWebhooks are triggered by enabled event types for your account, which are configured on the [developer settings page](/docs/account/09-settings/06-developer-settings). Not all event types may be allowed for your account type. These are the valid options for event types:\n\n- resources.upload\n- resources.download\n- resources.delete\n- resources.createFolder\n- resources.rename\n- resources.move\n- resources.copy\n- resources.compress\n- resources.extract\n- shares.formSubmit\n",
  "parameters": {
    "type": "object",
    "properties": {
      "ev-api-key": {
        "example": "exampleaccount-zwSuWUZ8S38h33qPS8v0s",
        "type": "string",
        "description": "API Key"
      },
      "ev-access-token": {
        "example": "19853ef63a0bc348024a9e4cfd4a92520d2dfd04e88d8679fb1ed6bc551593d1",
        "type": "string",
        "description": "Access Token"
      },
      "startDate": {
        "format": "date-time",
        "type": "string",
        "description": "Earliest date of entries to include in list"
      },
      "endDate": {
        "format": "date-time",
        "type": "string",
        "description": "Latest date of entries to include in list"
      },
      "endpointUrl": {
        "format": "uri",
        "type": "string",
        "description": "Webhook listener endpoint"
      },
      "event": {
        "example": "resources.upload",
        "type": "string",
        "description": "Type of activity that triggered the webhook attempt"
      },
      "statusCode": {
        "example": 200,
        "type": "integer",
        "description": "Response code from the webhook endpoint"
      },
      "resourcePath": {
        "example": "/Production",
        "type": "string",
        "description": "Path of the resource that triggered the webhook attempt"
      },
      "username": {
        "example": "exampleuser",
        "type": "string",
        "description": "Filter by triggering username."
      },
      "offset": {
        "minimum": 0,
        "type": "integer",
        "description": "Records to skip before returning results."
      },
      "limit": {
        "example": 100,
        "type": "integer",
        "description": "Limit of the records list"
      },
      "sort": {
        "type": "string",
        "description": "Comma separated list sort params"
      }
    },
    "required": [
      "ev-api-key",
      "ev-access-token"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://accountname.exavault.com/api/v2/activity/webhooks{?startDate,endDate,endpointUrl,event,statusCode,resourcePath,username,offset,limit,sort}"
    },
    "headers": {
      "ev-api-key": {
        "$": "ev-api-key"
      },
      "ev-access-token": {
        "$": "ev-access-token"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "WebhookActivityResponse"
        },
        "Session activity list response",
        "**Key properties:**",
        {
          "$ul": [
            "**data**",
            "**responseStatus**: Http status code of the response.",
            "**returnedResults**: Number of results returned. ",
            "**totalResults**: Total results found."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
