{
  "name": "product",
  "description": "Get product information\nThis service provides all product details required for a product display page, as well as information required for price checks and booking, such as: \n- age bands\n- tour grades\n- language options \n- booking questions\n- hotel pickup flags\n\n**currencyCode (in query):** \n- use this parameter to specify the currency in which product pricing should be displayed\n- the default currency is the currency of your account; or, if you have multi-currency enabled, US dollars\n- \"multi-currency\" allows pricing and booking in various currencies - please speak to the business development team if you'd like this enabled\n- **Note**: you will be billed in the currency in which the booking was made\n\n**Product photos**\n\n&lt;mark&gt;**&lt;u&gt;Update 13 Feb 2020&lt;/u&gt;**: All supplier-provided photos for the selected product are now available in the `productPhotos` array in this endpoint's response. Previously, only two supplier-provided photos were available – one in the `productPhotos` array and one in `thumbnailHiResURL`. &lt;/mark&gt;\n\n**Videos**\n\n- Videos are no longer provided via this API\n",
  "parameters": {
    "type": "object",
    "properties": {
      "Accept-Language": {
        "example": "en-US",
        "type": "string",
        "description": "Specifies the language into which the natural-language fields in the response from this service will be translated (see [Accept-Language header](#section/Appendices/Accept-Language-header) for available langage codes)\n"
      },
      "currencyCode": {
        "type": "string",
        "description": "**currency code** for the currency in which pricing is displayed\n- default=`'USD'`\n"
      },
      "sortOrder": {
        "enum": [
          "REVIEW_RATING_A",
          "REVIEW_RATING_D",
          "REVIEW_RATING_SUBMISSION_DATE_D"
        ],
        "type": "string",
        "description": "**specifier** of the order in which to return reviews\n\nSort order options:\n\n  - `\"REVIEW_RATING_A\"`: Traveler Rating (low→high) Average\n  - `\"REVIEW_RATING_D\"`: Traveler Rating (high→low) Average\n  - `\"REVIEW_RATING_SUBMISSION_DATE_D\"`: Most recent review\n"
      },
      "voucherOption": {
        "enum": [
          "VOUCHER_PAPER_ONLY",
          "VOUCHER_E"
        ],
        "type": "string",
        "description": "- `\"VOUCHER_PAPER_ONLY\"`: Paper Vouchers only accepted\n- `\"VOUCHER_E\"`: EVouchers + Paper Vouchers accepted\n"
      },
      "code": {
        "type": "string",
        "description": "**unique alphanumeric identifier** of the product"
      },
      "showUnavailable": {
        "type": "boolean",
        "description": "**specifier** as to whether or not to show 'unavailable' products:\n\n  - `true`: return *both* available and unavailable products\n  - `false`: return *only* available products (default)\n"
      },
      "excludeTourGradeAvailability": {
        "type": "boolean",
        "description": "**specifier:** \n- `true`: return **all** tour grades, including those that are not available\n- `false`: only display tour grades that *are* available\n"
      }
    },
    "required": [
      "Accept-Language"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://viatorapi.viator.com/service/product{?currencyCode,sortOrder,voucherOption,code,showUnavailable,excludeTourGradeAvailability}"
    },
    "headers": {
      "Accept-Language": {
        "$": "Accept-Language"
      }
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**dateStamp**: **timestamp** of *this* response",
            "**errorCodes**: **array** of error codes pertaining to *this* error",
            "**errorMessage**: **array** of error message strings",
            "**errorMessageText**: **array** of error message strings in plain text",
            "**errorName**: **name** of *this* type of error",
            "**errorReference**: **reference number** of *this* error",
            "**errorType**: **code** specifying the type of error",
            "**extraInfo**: ignore (Viator only)",
            "**extraObject**: ignore (Viator only)",
            "**success**: **boolean indicator** of *this* request's outcome",
            "**totalCount**: **number** of results available for *this* service",
            "**vmid**: **unique numeric id** of the server that processed *this* request",
            [
              "**data**: **object** containing product details",
              {
                "$ul": [
                  "**additionalInfo**: **array** of HTML-formatted clauses providing additional information about *this* product, such as:",
                  "**admission**: ignore (Viator only)",
                  "**ageBands**: **array** of age band objects detailing the age bands available for *this* product",
                  "**allTravellerNamesRequired**: **indicator**: `true` if all traveler names are required.&lt;br /&gt;**Note**: if set to `true`, then all passenger names must be included in the booking request, and all must be unique. Placeholder names cannot be used.",
                  "**applePassSupported**: **indicator**: `true` if Apple Wallet is supported",
                  "**available**: ignore (Viator only)",
                  "**bookingEngineId**: **booking type specifier** for *this* product that indicates whether the booking will be `CONFIRMED` immediately or if it will remain `PENDING` even after the booking has been made",
                  "**bookingQuestions**",
                  "**catIds**: **list** of unique numeric category identifiers that *this* product falls under",
                  "**city**: **name** of city or destination that *this* product operates in",
                  "**code**: **unique alphanumeric identifier** of *this* product",
                  "**country**: **natural-language name** of the country in which *this* product operates",
                  "**currencyCode**: **currency** in which to display *this* product's pricing details",
                  "**departurePoint**: **HTML-formatted natural-language description** of *this* product's departure location",
                  "**departureTime**: **HTML-formatted natural-language description** of *this* product's departure times",
                  "**departureTimeComments**: **HTML-formatted natural-language description** of extra information pertaining to product departure times",
                  "**description**: **HTML-formatted natural-language description** of *this* product (extended)",
                  "**destinationId**: **unique numeric identifier** of the destination in which *this* product is located",
                  "**duration**: **natural-language description** of *this* product's duration",
                  "**essential**: ignore (Viator only)",
                  "**exclusions**: **array** of HTML-formatted natural-language exclusions for *this* product",
                  "**highlights**: ignore (Viator only)",
                  "**hotelPickup**: **indicator**: `true` if *this* product offers hotel pick-up; if so, you will need to collect the user's hotel details",
                  "**inclusions**: **array** of HTML-formatted features included in *this* product",
                  "**itinerary**: **HTML-formatted description** of the itinerary of *this* tour if available",
                  "**location**: **natural-language description** of *this* product's location",
                  "**mapURL**: **URL** of this product's map (usually an image)",
                  "**maxTravellerCount**: **maximum number of travelers** allowed per-booking for *this* product",
                  "**merchantCancellable**: ignore (Viator only)",
                  "**merchantNetPriceFrom**: Numeric 'from' (lowest possible) price that Viator will invoice the merchant for the sale of this product, excluding the transaction fee; i.e. the merchant net rate",
                  "**merchantNetPriceFromFormatted**: Currency-formatted 'from' (lowest possible) price that Viator will invoice the merchant for the sale of this product, excluding the transaction fee (i.e. the merchant net rate)",
                  [
                    "**merchantTermsAndConditions**",
                    {
                      "$ul": [
                        "**amountRefundable**: Usually shows the total amount refundable if the cancellation is processed now. `null` in /product as no booking has been made.",
                        "**cancellationFromTourDate**",
                        "**merchantTermsAndConditionsType**: **numeric identifier** for the merchant terms and conditions type for *this* product",
                        "**termsAndConditions**: **natural-language description** of the terms and conditions for *this* product"
                      ]
                    }
                  ],
                  "**onRequestPeriod**: **number** of hours before the travel date that *this* product will be 'on-request' for",
                  "**onSale**: Ignore (Viator only)",
                  "**operates**: **HTML-formatted natural-language description** of *this* product's operation frequency",
                  "**panoramaCount**: **number** of panoramic images available for *this* product",
                  "**pas**: ignore (Viator only)",
                  "**passengerAttributes**: ignore (Viator only)",
                  "**photoCount**: **number** of user photos available for *this* product",
                  "**price**: **suggested sell ('from') price** for this product in the currency set in the `currencyCode` parameter. This is the cheapest sell price, taking into consideration off-peak periods and discounts on larger groups.",
                  "**priceFormatted**: **currency-formatted suggested sell ('from') price** for this product in the currency set in the `currencyCode` parameter",
                  "**primaryDestinationId**: **unique numeric identifier** of *this* product's primary destination",
                  "**primaryDestinationName**: **natural-language name** of *this* product's primary destination",
                  "**primaryDestinationUrlName**: **URL-formatted name** of the destination in which *this* product is located",
                  "**primaryGroupId**: ignore (Viator only)",
                  "**productPhotos**: **array** of image objects detailing images available for *this* product",
                  "**productUrlName**: **URL-formatted name** of *this* product",
                  "**rating**: **average user rating** of *this* product",
                  [
                    "**ratingCounts**: **dictionary** of rating (stars) to number of reviews with each rating for *this* product\"",
                    {
                      "$ul": [
                        "**1**: Number of reviews with a one star rating",
                        "**2**: Number of reviews with a two star rating",
                        "**3**: Number of reviews with a three star rating",
                        "**4**: Number of reviews with a four star rating",
                        "**5**: Number of reviews with a five star rating"
                      ]
                    }
                  ],
                  "**region**: **natural-language name** of the region in which *this* product operates",
                  "**returnDetails**: **HTML-formatted natural-language description** of *this* product's drop-off details (if available)",
                  "**reviewCount**: **number** of user reviews that have been submitted by users for *this* product",
                  "**reviews**: **array** of user review objects",
                  "**rrp**: **numeric original price** for this product if the product is on special / a discount has been applied. `0` if there is no discount on this product. See [Special offers and on-sale pricing](#section/Key-concepts/Special-offers-and-on-sale-pricing) for more information.",
                  "**rrpFormatted**: **currency-formatted original price** for this product if the product is on special / a discount has been applied. Empty string if there is no discount on this product. See [Special offers and on-sale pricing](#section/Key-concepts/Special-offers-and-on-sale-pricing) for more information.",
                  "**salesPoints**: ignore (Viator only)",
                  "**savingAmount**: Ignore (Viator only)",
                  "**savingAmountFormated**: Ignore (Viator only)",
                  "**shortDescription**: **natural-language description** (shortened) of *this* product",
                  "**shortTitle**: **natural-language title** (shortened) of *this* product",
                  "**specialOffer**: **natural-language description** of any special offers available for *this* product when `specialOfferAvailable` is `true`.",
                  "**specialOfferAvailable**: **indicator**: `true` if a special offer is available for *this* product. If `true` the `specialOffer` field will contain a text string providing details of the special offer which you may wish to display in your product search results. E.g. 'Book by May 27 to save 34% off our previously offered price!'. See [Special offers and on-sale pricing](#section/Key-concepts/Special-offers-and-on-sale-pricing) for more information.",
                  "**specialReservation**: ignore (Viator only)",
                  "**specialReservationDetails**: ignore (Viator only)",
                  "**sslSupported**: ignore (Viator only)",
                  "**subCatIds**: **list** of unique numeric subcategory identifiers that *this* product falls under",
                  "**supplierCode**: **unique identification code** of *this* product's supplier",
                  "**supplierName**: **name** of *this* product's supplier",
                  "**thumbnailHiResURL**: **URL** of *this* product's high-resolution thumbnail image",
                  "**thumbnailURL**: **URL** for *this* product's thumbnail image",
                  "**title**: **natural-language title** of *this* product",
                  "**tourGrades**: **array** of tour grade objects available for *this* product",
                  "**tourGradesAvailable**: **indicator**: ",
                  "**translationLevel**: **numeric indicator** of the language translation level for *this* product that is one of:",
                  "**userPhotos**: **array** of user photo objects",
                  "**videoCount**: ignore (Viator only) – videos are not available to partners",
                  "**videos**: ignore (Viator only) – videos are not available to partners",
                  "**voucherOption**: **specifier** of the type(s) of vouchers that can be used:",
                  "**voucherRequirements**: **natural-language description** of any requirements pertaining to the use of the voucher",
                  "**webURL**: ignore (Viator only)"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
