{
  "name": "salesCreditmemoManagementV1RefundPost",
  "description": "Prepare creditmemo to refund and save it.",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "properties": {
          "creditmemo": {
            "$ref": "#/$defs/sales-data-creditmemo-interface"
          },
          "offlineRequested": {
            "type": "boolean"
          }
        },
        "required": [
          "creditmemo"
        ],
        "type": "object",
        "xml": {
          "name": "request"
        }
      }
    },
    "$defs": {
      "sales-data-creditmemo-interface": {
        "description": "Credit memo interface. After a customer places and pays for an order and an invoice has been issued, the merchant can create a credit memo to refund all or part of the amount paid for any returned or undelivered items. The memo restores funds to the customer account so that the customer can make future purchases.",
        "properties": {
          "adjustment": {
            "description": "Credit memo adjustment.",
            "type": "number"
          },
          "adjustment_negative": {
            "description": "Credit memo negative adjustment.",
            "type": "number"
          },
          "adjustment_positive": {
            "description": "Credit memo positive adjustment.",
            "type": "number"
          },
          "base_adjustment": {
            "description": "Credit memo base adjustment.",
            "type": "number"
          },
          "base_adjustment_negative": {
            "description": "Credit memo negative base adjustment.",
            "type": "number"
          },
          "base_adjustment_positive": {
            "description": "Credit memo positive base adjustment.",
            "type": "number"
          },
          "base_currency_code": {
            "description": "Credit memo base currency code.",
            "type": "string"
          },
          "base_discount_amount": {
            "description": "Credit memo base discount amount.",
            "type": "number"
          },
          "base_discount_tax_compensation_amount": {
            "description": "Credit memo base discount tax compensation amount.",
            "type": "number"
          },
          "base_grand_total": {
            "description": "Credit memo base grand total.",
            "type": "number"
          },
          "base_shipping_amount": {
            "description": "Credit memo base shipping amount.",
            "type": "number"
          },
          "base_shipping_discount_tax_compensation_amnt": {
            "description": "Credit memo base shipping discount tax compensation amount.",
            "type": "number"
          },
          "base_shipping_incl_tax": {
            "description": "Credit memo base shipping including tax.",
            "type": "number"
          },
          "base_shipping_tax_amount": {
            "description": "Credit memo base shipping tax amount.",
            "type": "number"
          },
          "base_subtotal": {
            "description": "Credit memo base subtotal.",
            "type": "number"
          },
          "base_subtotal_incl_tax": {
            "description": "Credit memo base subtotal including tax.",
            "type": "number"
          },
          "base_tax_amount": {
            "description": "Credit memo base tax amount.",
            "type": "number"
          },
          "base_to_global_rate": {
            "description": "Credit memo base-to-global rate.",
            "type": "number"
          },
          "base_to_order_rate": {
            "description": "Credit memo base-to-order rate.",
            "type": "number"
          },
          "billing_address_id": {
            "description": "Credit memo billing address ID.",
            "type": "integer"
          },
          "comments": {
            "description": "Array of any credit memo comments. Otherwise, null.",
            "items": {
              "$ref": "#/$defs/sales-data-creditmemo-comment-interface"
            },
            "type": "array"
          },
          "created_at": {
            "description": "Credit memo created-at timestamp.",
            "type": "string"
          },
          "creditmemo_status": {
            "description": "Credit memo status.",
            "type": "integer"
          },
          "discount_amount": {
            "description": "Credit memo discount amount.",
            "type": "number"
          },
          "discount_description": {
            "description": "Credit memo discount description.",
            "type": "string"
          },
          "discount_tax_compensation_amount": {
            "description": "Credit memo discount tax compensation amount.",
            "type": "number"
          },
          "email_sent": {
            "description": "Credit memo email sent flag value.",
            "type": "integer"
          },
          "entity_id": {
            "description": "Credit memo ID.",
            "type": "integer"
          },
          "extension_attributes": {
            "$ref": "#/$defs/sales-data-creditmemo-extension-interface"
          },
          "global_currency_code": {
            "description": "Credit memo global currency code.",
            "type": "string"
          },
          "grand_total": {
            "description": "Credit memo grand total.",
            "type": "number"
          },
          "increment_id": {
            "description": "Credit memo increment ID.",
            "type": "string"
          },
          "invoice_id": {
            "description": "Credit memo invoice ID.",
            "type": "integer"
          },
          "items": {
            "description": "Array of credit memo items.",
            "items": {
              "$ref": "#/$defs/sales-data-creditmemo-item-interface"
            },
            "type": "array"
          },
          "order_currency_code": {
            "description": "Credit memo order currency code.",
            "type": "string"
          },
          "order_id": {
            "description": "Credit memo order ID.",
            "type": "integer"
          },
          "shipping_address_id": {
            "description": "Credit memo shipping address ID.",
            "type": "integer"
          },
          "shipping_amount": {
            "description": "Credit memo shipping amount.",
            "type": "number"
          },
          "shipping_discount_tax_compensation_amount": {
            "description": "Credit memo shipping discount tax compensation amount.",
            "type": "number"
          },
          "shipping_incl_tax": {
            "description": "Credit memo shipping including tax.",
            "type": "number"
          },
          "shipping_tax_amount": {
            "description": "Credit memo shipping tax amount.",
            "type": "number"
          },
          "state": {
            "description": "Credit memo state.",
            "type": "integer"
          },
          "store_currency_code": {
            "description": "Credit memo store currency code.",
            "type": "string"
          },
          "store_id": {
            "description": "Credit memo store ID.",
            "type": "integer"
          },
          "store_to_base_rate": {
            "description": "Credit memo store-to-base rate.",
            "type": "number"
          },
          "store_to_order_rate": {
            "description": "Credit memo store-to-order rate.",
            "type": "number"
          },
          "subtotal": {
            "description": "Credit memo subtotal.",
            "type": "number"
          },
          "subtotal_incl_tax": {
            "description": "Credit memo subtotal including tax.",
            "type": "number"
          },
          "tax_amount": {
            "description": "Credit memo tax amount.",
            "type": "number"
          },
          "transaction_id": {
            "description": "Credit memo transaction ID.",
            "type": "string"
          },
          "updated_at": {
            "description": "Credit memo updated-at timestamp.",
            "type": "string"
          }
        },
        "required": [
          "order_id",
          "items"
        ],
        "type": "object"
      },
      "sales-data-creditmemo-comment-interface": {
        "description": "Credit memo comment interface. After a customer places and pays for an order and an invoice has been issued, the merchant can create a credit memo to refund all or part of the amount paid for any returned or undelivered items. The memo restores funds to the customer account so that the customer can make future purchases. A credit memo usually includes comments that detail why the credit memo amount was credited to the customer.",
        "properties": {
          "comment": {
            "description": "Comment.",
            "type": "string"
          },
          "created_at": {
            "description": "Created-at timestamp.",
            "type": "string"
          },
          "entity_id": {
            "description": "Credit memo ID.",
            "type": "integer"
          },
          "extension_attributes": {
            "$ref": "#/$defs/sales-data-creditmemo-comment-extension-interface"
          },
          "is_customer_notified": {
            "description": "Is-customer-notified flag value.",
            "type": "integer"
          },
          "is_visible_on_front": {
            "description": "Is-visible-on-storefront flag value.",
            "type": "integer"
          },
          "parent_id": {
            "description": "Parent ID.",
            "type": "integer"
          }
        },
        "required": [
          "comment",
          "is_customer_notified",
          "is_visible_on_front",
          "parent_id"
        ],
        "type": "object"
      },
      "sales-data-creditmemo-comment-extension-interface": {
        "description": "ExtensionInterface class for @see \\Magento\\Sales\\Api\\Data\\CreditmemoCommentInterface",
        "type": "object"
      },
      "sales-data-creditmemo-extension-interface": {
        "description": "ExtensionInterface class for @see \\Magento\\Sales\\Api\\Data\\CreditmemoInterface",
        "properties": {
          "base_customer_balance_amount": {
            "type": "number"
          },
          "base_gift_cards_amount": {
            "type": "number"
          },
          "customer_balance_amount": {
            "type": "number"
          },
          "gift_cards_amount": {
            "type": "number"
          },
          "gw_base_price": {
            "type": "string"
          },
          "gw_base_tax_amount": {
            "type": "string"
          },
          "gw_card_base_price": {
            "type": "string"
          },
          "gw_card_base_tax_amount": {
            "type": "string"
          },
          "gw_card_price": {
            "type": "string"
          },
          "gw_card_tax_amount": {
            "type": "string"
          },
          "gw_items_base_price": {
            "type": "string"
          },
          "gw_items_base_tax_amount": {
            "type": "string"
          },
          "gw_items_price": {
            "type": "string"
          },
          "gw_items_tax_amount": {
            "type": "string"
          },
          "gw_price": {
            "type": "string"
          },
          "gw_tax_amount": {
            "type": "string"
          }
        },
        "type": "object"
      },
      "sales-data-creditmemo-item-interface": {
        "description": "Credit memo item interface. After a customer places and pays for an order and an invoice has been issued, the merchant can create a credit memo to refund all or part of the amount paid for any returned or undelivered items. The memo restores funds to the customer account so that the customer can make future purchases. A credit memo item is an invoiced item for which a merchant creates a credit memo.",
        "properties": {
          "additional_data": {
            "description": "Additional data.",
            "type": "string"
          },
          "base_cost": {
            "description": "The base cost for a credit memo item.",
            "type": "number"
          },
          "base_discount_amount": {
            "description": "The base discount amount for a credit memo item.",
            "type": "number"
          },
          "base_discount_tax_compensation_amount": {
            "description": "The base discount tax compensation amount for a credit memo item.",
            "type": "number"
          },
          "base_price": {
            "description": "The base price for a credit memo item.",
            "type": "number"
          },
          "base_price_incl_tax": {
            "description": "Base price including tax.",
            "type": "number"
          },
          "base_row_total": {
            "description": "Base row total.",
            "type": "number"
          },
          "base_row_total_incl_tax": {
            "description": "Base row total including tax.",
            "type": "number"
          },
          "base_tax_amount": {
            "description": "Base tax amount.",
            "type": "number"
          },
          "base_weee_tax_applied_amount": {
            "description": "Base WEEE tax applied amount.",
            "type": "number"
          },
          "base_weee_tax_applied_row_amnt": {
            "description": "Base WEEE tax applied row amount.",
            "type": "number"
          },
          "base_weee_tax_disposition": {
            "description": "Base WEEE tax disposition.",
            "type": "number"
          },
          "base_weee_tax_row_disposition": {
            "description": "Base WEEE tax row disposition.",
            "type": "number"
          },
          "description": {
            "description": "Description.",
            "type": "string"
          },
          "discount_amount": {
            "description": "Discount amount.",
            "type": "number"
          },
          "discount_tax_compensation_amount": {
            "description": "Discount tax compensation amount.",
            "type": "number"
          },
          "entity_id": {
            "description": "Credit memo item ID.",
            "type": "integer"
          },
          "extension_attributes": {
            "$ref": "#/$defs/sales-data-creditmemo-item-extension-interface"
          },
          "name": {
            "description": "Name.",
            "type": "string"
          },
          "order_item_id": {
            "description": "Order item ID.",
            "type": "integer"
          },
          "parent_id": {
            "description": "Parent ID.",
            "type": "integer"
          },
          "price": {
            "description": "Price.",
            "type": "number"
          },
          "price_incl_tax": {
            "description": "Price including tax.",
            "type": "number"
          },
          "product_id": {
            "description": "Product ID.",
            "type": "integer"
          },
          "qty": {
            "description": "Quantity.",
            "type": "number"
          },
          "row_total": {
            "description": "Row total.",
            "type": "number"
          },
          "row_total_incl_tax": {
            "description": "Row total including tax.",
            "type": "number"
          },
          "sku": {
            "description": "SKU.",
            "type": "string"
          },
          "tax_amount": {
            "description": "Tax amount.",
            "type": "number"
          },
          "weee_tax_applied": {
            "description": "WEEE tax applied.",
            "type": "string"
          },
          "weee_tax_applied_amount": {
            "description": "WEEE tax applied amount.",
            "type": "number"
          },
          "weee_tax_applied_row_amount": {
            "description": "WEEE tax applied row amount.",
            "type": "number"
          },
          "weee_tax_disposition": {
            "description": "WEEE tax disposition.",
            "type": "number"
          },
          "weee_tax_row_disposition": {
            "description": "WEEE tax row disposition.",
            "type": "number"
          }
        },
        "required": [
          "base_cost",
          "base_price",
          "entity_id",
          "order_item_id",
          "qty"
        ],
        "type": "object"
      },
      "sales-data-creditmemo-item-extension-interface": {
        "description": "ExtensionInterface class for @see \\Magento\\Sales\\Api\\Data\\CreditmemoItemInterface",
        "properties": {
          "invoice_text_codes": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "tax_codes": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "vertex_tax_codes": {
            "items": {
              "type": "string"
            },
            "type": "array"
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://example.com/rest/default/V1/creditmemo/refund"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Credit memo interface. After a customer places and pays for an order and an invoice has been issued, the merchant can create a credit memo to refund all or part of the amount paid for any returned or undelivered items. The memo restores funds to the customer account so that the customer can make future purchases.",
        "**Key properties:**",
        {
          "$ul": [
            "**adjustment**: Credit memo adjustment.",
            "**adjustment_negative**: Credit memo negative adjustment.",
            "**adjustment_positive**: Credit memo positive adjustment.",
            "**base_adjustment**: Credit memo base adjustment.",
            "**base_adjustment_negative**: Credit memo negative base adjustment.",
            "**base_adjustment_positive**: Credit memo positive base adjustment.",
            "**base_currency_code**: Credit memo base currency code.",
            "**base_discount_amount**: Credit memo base discount amount.",
            "**base_discount_tax_compensation_amount**: Credit memo base discount tax compensation amount.",
            "**base_grand_total**: Credit memo base grand total.",
            "**base_shipping_amount**: Credit memo base shipping amount.",
            "**base_shipping_discount_tax_compensation_amnt**: Credit memo base shipping discount tax compensation amount.",
            "**base_shipping_incl_tax**: Credit memo base shipping including tax.",
            "**base_shipping_tax_amount**: Credit memo base shipping tax amount.",
            "**base_subtotal**: Credit memo base subtotal.",
            "**base_subtotal_incl_tax**: Credit memo base subtotal including tax.",
            "**base_tax_amount**: Credit memo base tax amount.",
            "**base_to_global_rate**: Credit memo base-to-global rate.",
            "**base_to_order_rate**: Credit memo base-to-order rate.",
            "**billing_address_id**: Credit memo billing address ID.",
            "**comments**: Array of any credit memo comments. Otherwise, null.",
            "**created_at**: Credit memo created-at timestamp.",
            "**creditmemo_status**: Credit memo status.",
            "**discount_amount**: Credit memo discount amount.",
            "**discount_description**: Credit memo discount description.",
            "**discount_tax_compensation_amount**: Credit memo discount tax compensation amount.",
            "**email_sent**: Credit memo email sent flag value.",
            "**entity_id**: Credit memo ID.",
            [
              "**extension_attributes**: ExtensionInterface class for @see \\Magento\\Sales\\Api\\Data\\CreditmemoInterface",
              {
                "$ul": [
                  "**base_customer_balance_amount**",
                  "**base_gift_cards_amount**",
                  "**customer_balance_amount**",
                  "**gift_cards_amount**",
                  "**gw_base_price**",
                  "**gw_base_tax_amount**",
                  "**gw_card_base_price**",
                  "**gw_card_base_tax_amount**",
                  "**gw_card_price**",
                  "**gw_card_tax_amount**",
                  "**gw_items_base_price**",
                  "**gw_items_base_tax_amount**",
                  "**gw_items_price**",
                  "**gw_items_tax_amount**",
                  "**gw_price**",
                  "**gw_tax_amount**"
                ]
              }
            ],
            "**global_currency_code**: Credit memo global currency code.",
            "**grand_total**: Credit memo grand total.",
            "**increment_id**: Credit memo increment ID.",
            "**invoice_id**: Credit memo invoice ID.",
            "**items**: Array of credit memo items.",
            "**order_currency_code**: Credit memo order currency code.",
            "**order_id**: Credit memo order ID.",
            "**shipping_address_id**: Credit memo shipping address ID.",
            "**shipping_amount**: Credit memo shipping amount.",
            "**shipping_discount_tax_compensation_amount**: Credit memo shipping discount tax compensation amount.",
            "**shipping_incl_tax**: Credit memo shipping including tax.",
            "**shipping_tax_amount**: Credit memo shipping tax amount.",
            "**state**: Credit memo state.",
            "**store_currency_code**: Credit memo store currency code.",
            "**store_id**: Credit memo store ID.",
            "**store_to_base_rate**: Credit memo store-to-base rate.",
            "**store_to_order_rate**: Credit memo store-to-order rate.",
            "**subtotal**: Credit memo subtotal.",
            "**subtotal_incl_tax**: Credit memo subtotal including tax.",
            "**tax_amount**: Credit memo tax amount.",
            "**transaction_id**: Credit memo transaction ID.",
            "**updated_at**: Credit memo updated-at timestamp."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "401": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**code**: Error code",
            "**errors**: Errors list",
            "**message**: Error message",
            "**parameters**: Error parameters list",
            "**trace**: Stack trace"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**code**: Error code",
            "**errors**: Errors list",
            "**message**: Error message",
            "**parameters**: Error parameters list",
            "**trace**: Stack trace"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
