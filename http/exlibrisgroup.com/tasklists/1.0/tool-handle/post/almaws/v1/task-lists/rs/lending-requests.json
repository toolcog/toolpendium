{
  "name": "post_almaws_v1_task-lists_rs_lending-requests",
  "description": "This API preforms the requested action on a list (specified by given filters) of lending requests in Alma",
  "parameters": {
    "type": "object",
    "properties": {
      "library": {
        "default": "",
        "type": "string",
        "description": "The resource sharing library from which lending requests should be retrieved. Mandatory. List of possible libraries can be retrieved using the [GET /almaws/v1/conf/libraries API](https://developers.exlibrisgroup.com/alma/apis/conf/GET/gwPcGly021p29HpB7XTI4Dp4I8TKv6CAxBlD4LyRaVE=/37088dc9-c685-4641-bc7f-60b5ca7cabed)."
      },
      "op": {
        "default": "",
        "type": "string",
        "description": "Operation to be preformed on the list of given requests. Currently the only supported action is 'mark_reported'. Mandatory."
      },
      "status": {
        "default": "",
        "type": "string",
        "description": "The status of lending requests to retrieve. Optional. List of possible statuses can be retrieved using the [GET almaws/v1/conf/code-tables/MandatoryLendingWorkflowSteps API](https://developers.exlibrisgroup.com/alma/apis/conf/GET/gwPcGly021p29HpB7XTI4K7cQ0vuYHLS4NSgDGmcRpRYqx5hIMRTng9SIKO5Vof+/37088dc9-c685-4641-bc7f-60b5ca7cabed).and the  [GET almaws/v1/conf/code-tables/OptionalLendingWorkflowSteps API](https://developers.exlibrisgroup.com/alma/apis/conf/GET/gwPcGly021p29HpB7XTI4K7cQ0vuYHLS4NSgDGmcRpRYqx5hIMRTng9SIKO5Vof+/37088dc9-c685-4641-bc7f-60b5ca7cabed)."
      },
      "printed": {
        "default": "",
        "type": "string",
        "description": "The 'printed' value of lending requests to retrieve. Optional. Possible values: Y, N."
      },
      "reported": {
        "default": "",
        "type": "string",
        "description": "The 'reported' value of lending requests to retrieve. Optional. Possible values: Y, N."
      },
      "partner": {
        "default": "",
        "type": "string",
        "description": "The partner value. Only lending requests from this partner should be. Optional. List of possible partners can be retrieved using the [GET almaws/v1/partners API](https://developers.exlibrisgroup.com/alma/apis/partners/GET/gwPcGly021piAVNPLaef7suP1zfa6Lui/8883ef41-c3b8-4792-9ff8-cb6b729d6e07)."
      },
      "requested_format": {
        "default": "",
        "type": "string",
        "description": "Requested format of the resource. Optional. List of possible formats can be retrieved using the [GET almaws/v1/conf/code-tables/RequestFormats API](https://developers.exlibrisgroup.com/alma/apis/conf/GET/gwPcGly021p29HpB7XTI4K7cQ0vuYHLS4NSgDGmcRpRYqx5hIMRTng9SIKO5Vof+/37088dc9-c685-4641-bc7f-60b5ca7cabed)."
      },
      "supplied_format": {
        "default": "",
        "type": "string",
        "description": "Supplied Format of the resource. Optional. List of possible formats can be retrieved using the [GET almaws/v1/conf/code-tables/RequestFormats API](https://developers.exlibrisgroup.com/alma/apis/conf/GET/gwPcGly021p29HpB7XTI4K7cQ0vuYHLS4NSgDGmcRpRYqx5hIMRTng9SIKO5Vof+/37088dc9-c685-4641-bc7f-60b5ca7cabed)."
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api-eu.hosted.exlibrisgroup.com/almaws/v1/task-lists/rs/lending-requests{?library,op,status,printed,reported,partner,requested_format,supplied_format}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Resource sharing request Object.",
        "**Key properties:**",
        {
          "$ul": [
            "**additional_barcode**: List of additional barcodes. Note that the first one appears in the main barcode field.",
            "**additional_person_name**: The name of an additional contact.",
            "**agree_to_copyright_terms**: Indication whether the requester has agreed to the copyright terms. Mandatory for borrowing requests. Currently not relevant for lending requests.",
            "**allow_other_formats**: Indication whether other formats besides the value in format field are acceptable. Default is false.",
            "**author**: Author of the requested resource.",
            "**author_initials**: Author initials of the requested resource.",
            "**barcode**: Barcode of the requested resource.",
            "**bib_note**: The note of the bibliographic record.",
            "**call_number**: The call number of the book. Indicates the library shelf on which the books are located.",
            "**chapter**: The chapter number in the journal that contains the article.",
            "**chapter_author**: For a book chapter, the author of this chapter.",
            "**chapter_title**: For a book chapter, the title of this chapter.",
            [
              "**citation_type**: Type of the requested resource. For example, book or article. Mandatory for borrowing requests. Mandatory when creating a lending request unless mms_id is supplied. For borrowing requests, possible codes are listed in 'PhysicalReadingListCitationTypes' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API): BK / CR. For lending requests, possible codes are listed in PR_CitationType [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API): BOOK / JOURNAL.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            [
              "**copyright_status**: The copyright status of the request. Relevant if requested format is Digital, and 'rs_borrower_copyright_management' in customer parameters is true. Possible options are listed in 'ResourceSharingCopyrightsStatus' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API), default is generated per request. Relevant for GET, POST and PUT of borrowing requests, and GET of lending requests.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**created_date**: The request creation date.",
            "**created_time**: The request creation time.",
            "**doi**: The doi of the requested resource.",
            "**edition**: The edition of the requested resource.",
            "**editor**: The editor of the book (typically used for books where chapters have different authors).",
            "**end_page**: The end page of the requested resource.",
            "**external_id**: External identifier of the resource sharing request. Mandatory when creating a lending request.",
            [
              "**format**: Format of the resource requested. For example, physical or digital. Mandatory. Possible codes are listed in RequestFormats [code tables](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API).",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            [
              "**fund**: The code of the fund. Not relevant for lending requests.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**has_active_notes**: Indication whether the request has active notes. Output parameter.",
            "**isbn**: ISBN of the requested resource.",
            "**issn**: ISSN of the requested resource.",
            "**issue**: The issue of the requested resource.",
            "**journal_title**: The title of the journal. Relevant when an article is requested.",
            "**last_interest_date**: Last date the request is needed. Optional.",
            "**last_modified_date**: Date by which the last change to the request was made.",
            "**last_modified_time**: Time by which the last change to the request was made.",
            "**lcc_number**: The library of congress number of the book.",
            [
              "**level_of_service**: The code of the resource sharing request Level of Service. Possible options are listed in 'LevelOfService' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API), default is generated per request.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            [
              "**lost_damaged_fee**: ",
              {
                "$ul": [
                  [
                    "**currency**: The currency. Possible values are listed in 'Currency_CT' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API).",
                    {
                      "$ul": [
                        "**desc**",
                        "**value**"
                      ]
                    }
                  ],
                  "**sum**: The total sum."
                ]
              }
            ],
            "**maximum_fee**: Maximum fee the user is willing to pay for the request. Currently not relevant for lending requests.",
            "**mms_id**: MMS ID of the requested resource. Borrowing request: this is relevant after physical material has arrived. Lending request: if supplied when creating a request, the request will be attached to this bib record. See [GET BIB API](https://developers.exlibrisgroup.com/alma/apis/bibs/GET/gwPcGly021om4RTvtjbPleCklCGxeYAf3JPdiJpJhUA=/af2fb69d-64f4-42bc-bb05-d8a0ae56936e).",
            "**need_patron_info**: Indication whether patron information is needed. Not relevant for lending requests.",
            "**note**: General note.",
            "**oclc_number**: The oclc number of the book.",
            "**other_standard_id**: The other standard id of the requested resource.",
            "**owner**: The resource sharing library code. See [Get libraries API](https://developers.exlibrisgroup.com/alma/apis/conf/GET/gwPcGly021p29HpB7XTI4Dp4I8TKv6CAxBlD4LyRaVE=/37088dc9-c685-4641-bc7f-60b5ca7cabed). Borrowing request: Optional. Used only when there are more than one resource sharing library defined for the user. Lending request: Mandatory.",
            "**pages**: The relevant pages of the requested resource.",
            "**part**: The part of the requested resource.",
            [
              "**partner**: The code of the partner related to this request. See [Get partners API](https://developers.exlibrisgroup.com/alma/apis/partners/GET/gwPcGly021piAVNPLaef7suP1zfa6Lui/8883ef41-c3b8-4792-9ff8-cb6b729d6e07). Mandatory when creating a lending request.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            [
              "**pickup_location**: The pickup library code where the resource will be delivered. Relevant and mandatory for physical format delivery Borrowing request. Optional for digital format. Not relevant for lending requests.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**pickup_location_type**: The pickup location type. The pickup location type. Possible values are: LIBRARY, CIRCULATION_DESK.",
            "**place_of_publication**: The publication place of the requested resource.",
            "**pmid**: The pmid of the requested resource.",
            [
              "**preferred_send_method**: Preferred send method. Possible options are listed in 'ResourceSharingRequestSendMethod' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API). Currently not relevant for lending requests.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**printed**: Indication whether the request is printed. Output parameter. Relevant for lending requests.",
            "**publisher**: Publisher of the requested resource.",
            [
              "**reading_room**: The code of the reading room where the item will be picked up. Mandatory when for_reading_room_only is true. Not relevant for lending requests.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            [
              "**receive_cost**: ",
              {
                "$ul": [
                  [
                    "**currency**: The currency. Possible values are listed in 'Currency_CT' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API).",
                    {
                      "$ul": [
                        "**desc**",
                        "**value**"
                      ]
                    }
                  ],
                  "**sum**: The total sum."
                ]
              }
            ],
            "**remote_record_id**: The remote record id of the requested resource.",
            "**reported**: Indication whether the request is reported. Output parameter. Relevant for lending requests.",
            [
              "**request_cost**: ",
              {
                "$ul": [
                  [
                    "**currency**: The currency. Possible values are listed in 'Currency_CT' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API).",
                    {
                      "$ul": [
                        "**desc**",
                        "**value**"
                      ]
                    }
                  ],
                  "**sum**: The total sum."
                ]
              }
            ],
            "**request_id**: Internal identifier of the resource sharing request in Alma, generated by Alma. Should be used in subsequent queries regarding the request.",
            [
              "**requested_language**: The requested language for the resource sharing request. Possible codes are the enabled fields in ResourceSharingLanguages [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API). Default is null.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**requested_media**: A description of the requested media. possible values are 1-7 (codes from request media code table), and the codes from 'AdditionalRequestedMedia' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API). The valid values are according to the Requested media definition mapping table.",
            [
              "**requester**: The primary identifier and full name of the requesting user. Relevant for borrowing requests. Not relevant for lending requests.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**rs_note**: List of related notes that appear in the Notes tab in the UI..",
            "**series_title_number**: The series title number of the requested resource.",
            [
              "**shipping_cost**: ",
              {
                "$ul": [
                  [
                    "**currency**: The currency. Possible values are listed in 'Currency_CT' [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API).",
                    {
                      "$ul": [
                        "**desc**",
                        "**value**"
                      ]
                    }
                  ],
                  "**sum**: The total sum."
                ]
              }
            ],
            "**source**: The source of the requested resource.",
            "**specific_edition**: Indication whether edition is used in ISO Protocol and in Locate process. Default is true. Relevant when a book is requested.",
            "**start_page**: The relevant start page of the requested resource.",
            [
              "**status**: The resource sharing request status. Borrowing request: Possible codes are listed in MandatoryBorrowingWorkflowSteps or OptionalBorrowingWorkflowSteps [code tables](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API). Lending request: Possible codes are listed in MandatoryLendingWorkflowSteps or OptionalLendingWorkflowSteps [code tables](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API).",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            [
              "**supplied_format**: Format of the supplied item. For example, physical or digital. Possible codes are listed in RequestFormats [code table](https://developers.exlibrisgroup.com/blog/Working-with-the-code-tables-API). Relevant only after the request is supplied.",
              {
                "$ul": [
                  "**desc**",
                  "**value**"
                ]
              }
            ],
            "**text_email**: Borrowing request: In use with alternative_address only. In use when sending in digital format. Lending request: Requester's Email.",
            "**text_postal_1**: In use with alternative_address only. Not relevant for lending requests.",
            "**text_postal_2**: In use with alternative_address only. Not relevant for lending requests.",
            "**text_postal_3**: In use with alternative_address only. Not relevant for lending requests.",
            "**text_postal_4**: In use with alternative_address only. Not relevant for lending requests.",
            "**title**: Title of the requested resource. Mandatory unless mms_id is supplied.",
            "**use_alternative_address**: An indication of whether the delivery should be to an alternative address. Default is false. Not relevant for lending requests.",
            [
              "**user_request**: The request linked to the resource sharing request. Borrowing requests: this is the related user request. Lending requests: this is the move/digitization request (if exists). See [GET user's request API](https://developers.exlibrisgroup.com/alma/apis/users/GET/gwPcGly021r0XQMGAttqcPPFoLNxBoEZbQsUC/MWTX7aNWi0EYKYFUfYyI8KvpG73JPdiJpJhUA=/0aa8d36f-53d6-48ff-8996-485b90b103e4).",
              {
                "$ul": [
                  "**link**",
                  "**value**"
                ]
              }
            ],
            "**volume**: The volume number of the journal that contains the article.",
            "**willing_to_pay**: Indication whether patron is willing to pay. Currently not relevant for lending requests.",
            "**year**: Publication date of the requested resource."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
