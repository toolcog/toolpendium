{
  "name": "getSalesCount",
  "description": "Get a sales count for city, state or national level by make, model, year, trim or taxonomy vin",
  "parameters": {
    "type": "object",
    "properties": {
      "api_key": {
        "type": "string",
        "description": "The API Authentication Key. Mandatory with all API calls."
      },
      "car_type": {
        "default": "used",
        "enum": [
          "new",
          "used"
        ],
        "format": "string",
        "type": "string",
        "description": "Inventory type for which sales count is to be searched, default is used"
      },
      "make": {
        "format": "string",
        "type": "string",
        "description": "Make for which sales count is to be searched"
      },
      "mm": {
        "format": "string",
        "type": "string",
        "description": "Make-Model for which sales count is to be searched, pipe seperated like mm=ford|f-150"
      },
      "ymm": {
        "format": "string",
        "type": "string",
        "description": "Year-Make-Model for which sales count is to be searched, pipe seperated like ymm=2015|ford|f-150"
      },
      "ymmt": {
        "format": "string",
        "type": "string",
        "description": "Year-Make-Model-Trim for which sales count is to be searched, pipe seperated like ymmt=2015|ford|f-150|platinum"
      },
      "taxonomy_vin": {
        "format": "string",
        "type": "string",
        "description": "taxonomy_vin for which sales count is to be searched"
      },
      "state": {
        "format": "string",
        "type": "string",
        "description": "State level sales count"
      },
      "city_state": {
        "format": "string",
        "type": "string",
        "description": "City level sales count, pipe seperated like city_state=jacksonville|FL"
      },
      "vin": {
        "format": "string",
        "type": "string",
        "description": "VIN that will be transformed to taxonomy_vin"
      },
      "country": {
        "default": "us",
        "enum": [
          "us",
          "ca",
          "US",
          "CA"
        ],
        "type": "string",
        "description": "Country for which the sales records are to be searched"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://marketcheck-prod.apigee.net/v2/sales/car{?api_key,car_type,make,mm,ymm,ymmt,taxonomy_vin,state,city_state,vin,country}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "Sales count query response",
        "**Key properties:**",
        {
          "$ul": [
            "**city**: City",
            "**counts**: Sales count",
            "**cpo**: cpo sales count",
            [
              "**dom_stats**: Sales stats response",
              {
                "$ul": [
                  "**absolute_mean_deviation**: absolute_mean_deviation",
                  "**iqr**: iqr",
                  "**mean**: mean",
                  "**median**: median",
                  "**population_standard_deviation**: population_standard_deviation",
                  "**standard_deviation**: standard_deviation",
                  "**trimmed_mean**: trimmed_mean",
                  "**variance**: variance",
                  "**weighted_mean**: weighted_mean"
                ]
              }
            ],
            "**inventory_type**: inventory_type",
            "**make**: Make",
            [
              "**miles_stats**: Sales stats response",
              {
                "$ul": [
                  "**absolute_mean_deviation**: absolute_mean_deviation",
                  "**iqr**: iqr",
                  "**mean**: mean",
                  "**median**: median",
                  "**population_standard_deviation**: population_standard_deviation",
                  "**standard_deviation**: standard_deviation",
                  "**trimmed_mean**: trimmed_mean",
                  "**variance**: variance",
                  "**weighted_mean**: weighted_mean"
                ]
              }
            ],
            "**model**: model",
            "**non-cpo**: Non-cpo sales count",
            [
              "**price_stats**: Sales stats response",
              {
                "$ul": [
                  "**absolute_mean_deviation**: absolute_mean_deviation",
                  "**iqr**: iqr",
                  "**mean**: mean",
                  "**median**: median",
                  "**population_standard_deviation**: population_standard_deviation",
                  "**standard_deviation**: standard_deviation",
                  "**trimmed_mean**: trimmed_mean",
                  "**variance**: variance",
                  "**weighted_mean**: weighted_mean"
                ]
              }
            ],
            "**state**: State",
            "**taxonomy_vin**: taxonomy_vin",
            "**trim**: trim",
            "**year**: year"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**code**: Error code",
            "**message**: Error message"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
