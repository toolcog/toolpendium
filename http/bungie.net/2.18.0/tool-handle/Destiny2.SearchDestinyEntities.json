{
  "name": "Destiny2_SearchDestinyEntities",
  "description": "Gets a page list of Destiny items.",
  "parameters": {
    "type": "object",
    "properties": {
      "page": {
        "format": "int32",
        "type": "integer",
        "description": "Page number to return, starting with 0."
      },
      "searchTerm": {
        "type": "string",
        "description": "The string to use when searching for Destiny entities."
      },
      "type": {
        "type": "string",
        "description": "The type of entity for whom you would like results. These correspond to the entity's definition contract name. For instance, if you are looking for items, this property should be 'DestinyInventoryItemDefinition'."
      }
    },
    "required": [
      "searchTerm",
      "type"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://www.bungie.net/Platform/Destiny2/Armory/Search/{type}/{searchTerm}/{?page}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**DetailedErrorTrace**",
            "**ErrorCode**",
            "**ErrorStatus**",
            "**Message**",
            "**MessageData**",
            [
              "**Response**: The results of a search for Destiny content. This will be improved on over time, I've been doing some experimenting to see what might be useful.",
              {
                "$ul": [
                  [
                    "**results**",
                    {
                      "$ul": [
                        "**hasMore**",
                        [
                          "**query**",
                          {
                            "$ul": [
                              "**currentPage**",
                              "**itemsPerPage**",
                              "**requestContinuationToken**"
                            ]
                          }
                        ],
                        "**replacementContinuationToken**",
                        "**results**",
                        "**totalResults**",
                        "**useTotalResults**: If useTotalResults is true, then totalResults represents an accurate count.\r"
                      ]
                    }
                  ],
                  "**suggestedWords**: A list of suggested words that might make for better search results, based on the text searched for."
                ]
              }
            ],
            "**ThrottleSeconds**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
