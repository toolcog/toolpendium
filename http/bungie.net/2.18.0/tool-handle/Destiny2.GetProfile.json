{
  "name": "Destiny2_GetProfile",
  "description": "Returns Destiny Profile information for the supplied membership.",
  "parameters": {
    "type": "object",
    "properties": {
      "components": {
        "items": {
          "description": "Represents the possible components that can be returned from Destiny \"Get\" calls such as GetProfile, GetCharacter, GetVendor etc...\r\nWhen making one of these requests, you will pass one or more of these components as a comma separated list in the \"?components=\" querystring parameter. For instance, if you want baseline Profile data, Character Data, and character progressions, you would pass \"?components=Profiles,Characters,CharacterProgressions\" You may use either the numerical or string values.",
          "format": "int32",
          "type": "integer",
          "x-enum-reference": {
            "$ref": "#/components/schemas/schema2"
          }
        },
        "type": "array",
        "description": "A comma separated list of components to return (as strings or numeric values). See the DestinyComponentType enum for valid components to request. You must request at least one component to receive results."
      },
      "destinyMembershipId": {
        "format": "int64",
        "type": "integer",
        "description": "Destiny membership ID."
      },
      "membershipType": {
        "format": "int32",
        "type": "integer",
        "description": "A valid non-BungieNet membership type."
      }
    },
    "required": [
      "destinyMembershipId",
      "membershipType"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://www.bungie.net/Platform/Destiny2/{membershipType}/Profile/{destinyMembershipId}/{?components}"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**DetailedErrorTrace**",
            "**ErrorCode**",
            "**ErrorStatus**",
            "**Message**",
            "**MessageData**",
            [
              "**Response**: The response for GetDestinyProfile, with components for character and item-level data.",
              {
                "$ul": [
                  [
                    "**characterActivities**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterCollectibles**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterCraftables**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterCurrencyLookups**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterEquipment**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterInventories**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterKiosks**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterLoadouts**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterPlugSets**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterPresentationNodes**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterProgressions**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterRecords**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterRenderData**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**characterStringVariables**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  "**characterUninstancedItemComponents**: Do you ever get the feeling that a system was designed *too* flexibly? That it can be used in so many different ways that you end up being unable to provide an easy to use abstraction for the mess that's happening under the surface?\r",
                  [
                    "**characters**",
                    {
                      "$ul": [
                        "**data**",
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**itemComponents**",
                    {
                      "$ul": [
                        [
                          "**instances**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**objectives**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**perks**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**plugObjectives**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**plugStates**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**renderData**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**reusablePlugs**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**sockets**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**stats**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ],
                        [
                          "**talentGrids**",
                          {
                            "$ul": [
                              "**data**",
                              "**disabled**: If true, this component is disabled.",
                              "**privacy**"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    "**metrics**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**metrics**",
                              "**metricsRootNodeHash**"
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**platformSilver**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**platformSilver**: If a Profile is played on multiple platforms, this is the silver they have for each platform, keyed by Membership Type."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profile**",
                    {
                      "$ul": [
                        [
                          "**data**: The most essential summary information about a Profile (in Destiny 1, we called these \"Accounts\").",
                          {
                            "$ul": [
                              "**activeEventCardHash**: If populated, this is a reference to the event card that is currently active.",
                              "**characterIds**: A list of the character IDs, for further querying on your part.",
                              "**currentGuardianRank**: The 'current' Guardian Rank value, which starts at rank 1.",
                              "**currentSeasonHash**: If populated, this is a reference to the season that is currently active.",
                              "**currentSeasonRewardPowerCap**: If populated, this is the reward power cap for the current season.",
                              "**dateLastPlayed**: The last time the user played with any character on this Profile.",
                              "**eventCardHashesOwned**: A list of hashes for event cards that a profile owns. Unlike most values in versionsOwned, these stay with the profile across all platforms.",
                              "**lifetimeHighestGuardianRank**: The 'lifetime highest' Guardian Rank value, which starts at rank 1.",
                              "**seasonHashes**: A list of seasons that this profile owns. Unlike versionsOwned, these stay with the profile across Platforms, and thus will be valid.\r",
                              [
                                "**userInfo**: This contract supplies basic information commonly used to display a minimal amount of information about a user. Take care to not add more properties here unless the property applies in all (or at least the majority) of the situations where UserInfoCard is used. Avoid adding game specific or platform specific details here. In cases where UserInfoCard is a subset of the data needed in a contract, use UserInfoCard as a property of other contracts.",
                                {
                                  "$ul": [
                                    "**applicableMembershipTypes**: The list of Membership Types indicating the platforms on which this Membership can be used.\r",
                                    "**bungieGlobalDisplayName**: The bungie global display name, if set.",
                                    "**bungieGlobalDisplayNameCode**: The bungie global display name code, if set.",
                                    "**crossSaveOverride**: If there is a cross save override in effect, this value will tell you the type that is overridding this one.",
                                    "**displayName**: Display Name the player has chosen for themselves. The display name is optional when the data type is used as input to a platform API.",
                                    "**iconPath**: URL the Icon if available.",
                                    "**isPublic**: If True, this is a public user membership.",
                                    "**membershipId**: Membership ID as they user is known in the Accounts service",
                                    "**membershipType**: Type of the membership. Not necessarily the native type.",
                                    "**supplementalDisplayName**: A platform specific additional display name - ex: psn Real Name, bnet Unique Name, etc."
                                  ]
                                }
                              ],
                              "**versionsOwned**: If you want to know what expansions they own, this will contain that data.\r"
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileCollectibles**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**collectibles**",
                              "**collectionBadgesRootNodeHash**: The hash for the root presentation node definition of Collection Badges.",
                              "**collectionCategoriesRootNodeHash**: The hash for the root presentation node definition of Collection categories.",
                              "**newnessFlaggedCollectibleHashes**: The list of collectibles determined by the game as having been \"recently\" acquired.\r",
                              "**recentCollectibleHashes**: The list of collectibles determined by the game as having been \"recently\" acquired."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileCommendations**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**commendationNodeScoresByHash**",
                              "**commendationScoresByHash**",
                              "**scoreDetailValues**",
                              "**totalScore**"
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileCurrencies**",
                    {
                      "$ul": [
                        [
                          "**data**: A list of minimal information for items in an inventory: be it a character's inventory, or a Profile's inventory. (Note that the Vault is a collection of inventory buckets in the Profile's inventory)\r",
                          {
                            "$ul": [
                              "**items**: The items in this inventory. If you care to bucket them, use the item's bucketHash property to group them."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileInventory**",
                    {
                      "$ul": [
                        [
                          "**data**: A list of minimal information for items in an inventory: be it a character's inventory, or a Profile's inventory. (Note that the Vault is a collection of inventory buckets in the Profile's inventory)\r",
                          {
                            "$ul": [
                              "**items**: The items in this inventory. If you care to bucket them, use the item's bucketHash property to group them."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileKiosks**",
                    {
                      "$ul": [
                        [
                          "**data**: A Kiosk is a Vendor (DestinyVendorDefinition) that sells items based on whether you have already acquired that item before.\r",
                          {
                            "$ul": [
                              "**kioskItems**: A dictionary keyed by the Kiosk Vendor's hash identifier (use it to look up the DestinyVendorDefinition for the relevant kiosk vendor), and whose value is a list of all the items that the user can \"see\" in the Kiosk, and any other interesting metadata."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profilePlugSets**",
                    {
                      "$ul": [
                        [
                          "**data**: Sockets may refer to a \"Plug Set\": a set of reusable plugs that may be shared across multiple sockets (or even, in theory, multiple sockets over multiple items).\r",
                          {
                            "$ul": [
                              "**plugs**: The shared list of plugs for each relevant PlugSet, keyed by the hash identifier of the PlugSet (DestinyPlugSetDefinition)."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profilePresentationNodes**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**nodes**"
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileProgression**",
                    {
                      "$ul": [
                        [
                          "**data**: The set of progression-related information that applies at a Profile-wide level for your Destiny experience. This differs from the Jimi Hendrix Experience because there's less guitars on fire. Yet. #spoileralert?\r",
                          {
                            "$ul": [
                              "**checklists**: The set of checklists that can be examined on a profile-wide basis, keyed by the hash identifier of the Checklist (DestinyChecklistDefinition)\r",
                              [
                                "**seasonalArtifact**: Represents a Seasonal Artifact and all data related to it for the requested Account.\r",
                                {
                                  "$ul": [
                                    "**artifactHash**",
                                    [
                                      "**pointProgression**: Information about a current character's status with a Progression. A progression is a value that can increase with activity and has levels. Think Character Level and Reputation Levels. Combine this \"live\" data with the related DestinyProgressionDefinition for a full picture of the Progression.",
                                      {
                                        "$ul": [
                                          "**currentProgress**: This is the total amount of progress obtained overall for this progression (for instance, the total amount of Character Level experience earned)",
                                          "**currentResetCount**: The number of resets of this progression you've executed this season, if applicable to this progression.",
                                          "**dailyLimit**: If this progression has a daily limit, this is that limit.",
                                          "**dailyProgress**: The amount of progress earned today for this progression.",
                                          "**level**: This is the level of the progression (for instance, the Character Level).",
                                          "**levelCap**: This is the maximum possible level you can achieve for this progression (for example, the maximum character level obtainable)",
                                          "**nextLevelAt**: The total amount of progression (i.e. \"Experience\") needed in order to reach the next level.",
                                          "**progressToNextLevel**: The amount of progression (i.e. \"Experience\") needed to reach the next level of this Progression. Jeez, progression is such an overloaded word.",
                                          "**progressionHash**: The hash identifier of the Progression in question. Use it to look up the DestinyProgressionDefinition in static data.",
                                          "**rewardItemStates**: Information about historical rewards for this progression, if there is any data for it.",
                                          "**seasonResets**: Information about historical resets of this progression, if there is any data for it.",
                                          "**stepIndex**: Progressions define their levels in \"steps\". Since the last step may be repeatable, the user may be at a higher level than the actual Step achieved in the progression. Not necessarily useful, but potentially interesting for those cruising the API. Relate this to the \"steps\" property of the DestinyProgression to see which step the user is on, if you care about that. (Note that this is Content Version dependent since it refers to indexes.)",
                                          "**weeklyLimit**: If this progression has a weekly limit, this is that limit.",
                                          "**weeklyProgress**: The amount of progress earned toward this progression in the current week."
                                        ]
                                      }
                                    ],
                                    "**pointsAcquired**",
                                    "**powerBonus**",
                                    [
                                      "**powerBonusProgression**: Information about a current character's status with a Progression. A progression is a value that can increase with activity and has levels. Think Character Level and Reputation Levels. Combine this \"live\" data with the related DestinyProgressionDefinition for a full picture of the Progression.",
                                      {
                                        "$ul": [
                                          "**currentProgress**: This is the total amount of progress obtained overall for this progression (for instance, the total amount of Character Level experience earned)",
                                          "**currentResetCount**: The number of resets of this progression you've executed this season, if applicable to this progression.",
                                          "**dailyLimit**: If this progression has a daily limit, this is that limit.",
                                          "**dailyProgress**: The amount of progress earned today for this progression.",
                                          "**level**: This is the level of the progression (for instance, the Character Level).",
                                          "**levelCap**: This is the maximum possible level you can achieve for this progression (for example, the maximum character level obtainable)",
                                          "**nextLevelAt**: The total amount of progression (i.e. \"Experience\") needed in order to reach the next level.",
                                          "**progressToNextLevel**: The amount of progression (i.e. \"Experience\") needed to reach the next level of this Progression. Jeez, progression is such an overloaded word.",
                                          "**progressionHash**: The hash identifier of the Progression in question. Use it to look up the DestinyProgressionDefinition in static data.",
                                          "**rewardItemStates**: Information about historical rewards for this progression, if there is any data for it.",
                                          "**seasonResets**: Information about historical resets of this progression, if there is any data for it.",
                                          "**stepIndex**: Progressions define their levels in \"steps\". Since the last step may be repeatable, the user may be at a higher level than the actual Step achieved in the progression. Not necessarily useful, but potentially interesting for those cruising the API. Relate this to the \"steps\" property of the DestinyProgression to see which step the user is on, if you care about that. (Note that this is Content Version dependent since it refers to indexes.)",
                                          "**weeklyLimit**: If this progression has a weekly limit, this is that limit.",
                                          "**weeklyProgress**: The amount of progress earned toward this progression in the current week."
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileRecords**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**activeScore**: Your 'active' Triumphs score.",
                              "**legacyScore**: Your 'legacy' Triumphs score.",
                              "**lifetimeScore**: Your 'lifetime' Triumphs score.",
                              "**recordCategoriesRootNodeHash**: The hash for the root presentation node definition of Triumph categories.",
                              "**recordSealsRootNodeHash**: The hash for the root presentation node definition of Triumph Seals.",
                              "**records**",
                              "**score**: Your 'active' Triumphs score, maintained for backwards compatibility.",
                              "**trackedRecordHash**: If this profile is tracking a record, this is the hash identifier of the record it is tracking."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileStringVariables**",
                    {
                      "$ul": [
                        [
                          "**data**",
                          {
                            "$ul": [
                              "**integerValuesByHash**"
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  [
                    "**profileTransitoryData**",
                    {
                      "$ul": [
                        [
                          "**data**: This is an experimental set of data that Bungie considers to be \"transitory\" - information that may be useful for API users, but that is coming from a non-authoritative data source about information that could potentially change at a more frequent pace than Bungie.net will receive updates about it.\r",
                          {
                            "$ul": [
                              [
                                "**currentActivity**: If you are playing in an activity, this is some information about it.\r",
                                {
                                  "$ul": [
                                    "**endTime**: If you're still in it but it \"ended\" (like when folks are dancing around the loot after they beat a boss), this is when the activity ended.",
                                    "**highestOpposingFactionScore**: If you have human opponents, this is the highest opposing team's score.",
                                    "**numberOfOpponents**: This is how many human or poorly crafted aimbot opponents you have.",
                                    "**numberOfPlayers**: This is how many human or poorly crafted aimbots are on your team.",
                                    "**score**: This is what our non-authoritative source thought the score was.",
                                    "**startTime**: When the activity started."
                                  ]
                                }
                              ],
                              [
                                "**joinability**: Some basic information about whether you can be joined, how many slots are left etc. Note that this can change quickly, so it may not actually be useful. But perhaps it will be in some use cases?",
                                {
                                  "$ul": [
                                    "**closedReasons**: Reasons why a person can't join this person's fireteam.",
                                    "**openSlots**: The number of slots still available on this person's fireteam.",
                                    "**privacySetting**: Who the person is currently allowing invites from."
                                  ]
                                }
                              ],
                              "**lastOrbitedDestinationHash**: The hash identifier for the DestinyDestinationDefinition of the last location you were orbiting when in orbit.",
                              "**partyMembers**: If you have any members currently in your party, this is some (very) bare-bones information about those members.",
                              "**tracking**: Information about tracked entities."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ],
                  "**responseMintedTimestamp**: Records the timestamp of when most components were last generated from the world server source. Unless the component type is specified in the documentation for secondaryComponentsMintedTimestamp, this value is sufficient to do data freshness.",
                  "**secondaryComponentsMintedTimestamp**: Some secondary components are not tracked in the primary response timestamp and have their timestamp tracked here. If your component is any of the following, this field is where you will find your timestamp value:\r",
                  [
                    "**vendorReceipts**",
                    {
                      "$ul": [
                        [
                          "**data**: For now, this isn't used for much: it's a record of the recent refundable purchases that the user has made. In the future, it could be used for providing refunds/buyback via the API. Wouldn't that be fun?",
                          {
                            "$ul": [
                              "**receipts**: The receipts for refundable purchases made at a vendor."
                            ]
                          }
                        ],
                        "**disabled**: If true, this component is disabled.",
                        "**privacy**"
                      ]
                    }
                  ]
                ]
              }
            ],
            "**ThrottleSeconds**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
