{
  "name": "createDomainRecord",
  "description": "Adds a new Domain Record to the zonefile this Domain represents.\n\nEach domain can have up to 12,000 active records.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "domainId": {
        "type": "integer",
        "description": "The ID of the Domain we are accessing Records for."
      },
      "body": {
        "allOf": [
          {
            "$ref": "#/$defs/DomainRecord"
          }
        ],
        "required": [
          "type"
        ],
        "description": "Information about the new Record to add.\n"
      }
    },
    "required": [
      "domainId",
      "body"
    ],
    "$defs": {
      "DomainRecord": {
        "description": "A single record on a Domain.\n",
        "properties": {
          "created": {
            "description": "When this Domain Record was created.",
            "example": "2018-01-01T00:01:01",
            "format": "date-time",
            "readOnly": true,
            "type": "string"
          },
          "id": {
            "description": "This Record's unique ID.",
            "example": 123456,
            "readOnly": true,
            "type": "integer",
            "x-linode-cli-display": 1
          },
          "name": {
            "description": "The name of this Record. For requests, this property's actual usage and whether it is required depends\non the type of record this represents:\n\n`A` and `AAAA`: The hostname or FQDN of the Record.\n\n`NS`: The subdomain, if any, to use with the Domain of the Record. Wildcard NS records (`*`) are not supported.\n\n`MX`: The mail subdomain. For example, `sub` for the address `user@sub.example.com` under the `example.com`\nDomain. Must be an empty string (`\"\"`) for a Null MX Record.\n\n`CNAME`: The hostname. Must be unique. Required.\n\n`TXT`: The hostname.\n\n`SRV`: Unused. Use the `service` property to set the service name for this record.\n\n`CAA`: The subdomain. Omit or enter an empty string (`\"\"`) to apply to the entire Domain.\n\n`PTR`: See our guide on how to [Configure Your Linode for Reverse DNS\n(rDNS)](/docs/guides/configure-rdns/).\n",
            "example": "test",
            "maxLength": 100,
            "minLength": 1,
            "type": "string",
            "x-linode-cli-display": 3,
            "x-linode-filterable": true
          },
          "port": {
            "description": "The port this Record points to. Only valid and required for SRV record requests.\n",
            "example": 80,
            "maximum": 65535,
            "minimum": 0,
            "type": "integer"
          },
          "priority": {
            "description": "The priority of the target host for this Record. Lower values are preferred. Only valid for\nMX and SRV record requests. Required for SRV record requests.\n\nDefaults to `0` for MX record requests. Must be `0` for Null MX records.\n",
            "example": 50,
            "maximum": 255,
            "minimum": 0,
            "type": "integer",
            "x-linode-cli-display": 6
          },
          "protocol": {
            "description": "The protocol this Record's service communicates with. An underscore (`_`) is prepended automatically to the submitted value for this property. Only valid for SRV record requests.\n",
            "example": null,
            "nullable": true,
            "type": "string"
          },
          "service": {
            "description": "The name of the service. An underscore (`_`) is prepended and a period (`.`) is appended automatically to the submitted value for this property. Only valid and required for SRV record requests.\n",
            "example": null,
            "nullable": true,
            "type": "string"
          },
          "tag": {
            "description": "The tag portion of a CAA record. Only valid and required for CAA record requests.\n",
            "enum": [
              "issue",
              "issuewild",
              "iodef"
            ],
            "example": null,
            "nullable": true,
            "type": "string",
            "x-linode-filterable": true
          },
          "target": {
            "description": "The target for this Record. For requests, this property's actual usage and whether it is required depends\non the type of record this represents:\n\n`A` and `AAAA`: The IP address. Use `[remote_addr]` to submit the IPv4 address of the request. Required.\n\n`NS`: The name server. Must be a valid domain. Required.\n\n`MX`: The mail server. Must be a valid domain unless creating a Null MX Record. To create a\n[Null MX Record](https://datatracker.ietf.org/doc/html/rfc7505), first\n[remove](/docs/api/domains/#domain-record-delete) any additional MX records, create an MX record with empty strings\n(`\"\"`) for the `target` and `name`. If a Domain has a Null MX record, new MX records cannot be created. Required.\n\n`CNAME`: The alias. Must be a valid domain. Required.\n\n`TXT`: The value. Required.\n\n`SRV`: The target domain or subdomain. If a subdomain is entered, it is automatically used with the Domain.\nTo configure for a different domain, enter a valid FQDN. For example, the value `www` with a Domain for\n`example.com` results in a target set to `www.example.com`, whereas the value `sample.com` results in a\ntarget set to `sample.com`. Required.\n\n`CAA`: The value. For `issue` or `issuewild` tags, the domain of your certificate issuer. For the `iodef`\ntag, a contact or submission URL (domain, http, https, or mailto). Requirements depend on the tag for this record:\n  * `issue`: The domain of your certificate issuer. Must be a valid domain.\n  * `issuewild`: The domain of your wildcard certificate issuer. Must be a valid domain and must not start with an asterisk (`*`).\n  * `iodef`: Must be either (1) a valid domain, (2) a valid domain prepended with `http://` or `https://`, or (3) a valid email address prepended with `mailto:`.\n\n`PTR`: Required. See our guide on how to [Configure Your Linode for Reverse DNS\n(rDNS)](/docs/guides/configure-rdns/).\n\nWith the exception of A, AAAA, and CAA records, this field accepts a trailing period.\n",
            "example": "192.0.2.0",
            "maxLength": 65535,
            "type": "string",
            "x-linode-cli-display": 4,
            "x-linode-filterable": true
          },
          "ttl_sec": {
            "description": "\"Time to Live\" - the amount of time in seconds that this Domain's records may be cached by resolvers or other domain servers. Valid values are 300, 3600, 7200, 14400, 28800, 57600, 86400, 172800, 345600, 604800, 1209600, and 2419200 - any other value will be rounded to the nearest valid value.\n",
            "example": 604800,
            "type": "integer",
            "x-linode-cli-display": 5
          },
          "type": {
            "description": "The type of Record this is in the DNS system. For example, A records associate a domain name with an IPv4 address, and AAAA records associate a domain name with an IPv6 address. For more information, see the guides on [DNS Record Types](/docs/products/networking/dns-manager/guides/#dns-record-types).\n",
            "enum": [
              "A",
              "AAAA",
              "NS",
              "MX",
              "CNAME",
              "TXT",
              "SRV",
              "PTR",
              "CAA"
            ],
            "example": "A",
            "type": "string",
            "x-linode-cli-display": 2,
            "x-linode-filterable": true
          },
          "updated": {
            "description": "When this Domain Record was last updated.",
            "example": "2018-01-01T00:01:01",
            "format": "date-time",
            "readOnly": true,
            "type": "string"
          },
          "weight": {
            "description": "The relative weight of this Record used in the case of identical priority. Higher values are preferred. Only valid and required for SRV record requests.\n",
            "example": 50,
            "maximum": 65535,
            "minimum": 0,
            "type": "integer",
            "x-linode-cli-display": 7
          }
        },
        "type": "object"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.linode.com/v4/domains/{domainId}/records"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "A single record on a Domain.\n",
        "**Key properties:**",
        {
          "$ul": [
            "**created**: When this Domain Record was created.",
            "**id**: This Record's unique ID.",
            "**name**: The name of this Record. For requests, this property's actual usage and whether it is required depends",
            "**port**: The port this Record points to. Only valid and required for SRV record requests.",
            "**priority**: The priority of the target host for this Record. Lower values are preferred. Only valid for",
            "**protocol**: The protocol this Record's service communicates with. An underscore (`_`) is prepended automatically to the submitted value for this property. Only valid for SRV record requests.",
            "**service**: The name of the service. An underscore (`_`) is prepended and a period (`.`) is appended automatically to the submitted value for this property. Only valid and required for SRV record requests.",
            "**tag**: The tag portion of a CAA record. Only valid and required for CAA record requests.",
            "**target**: The target for this Record. For requests, this property's actual usage and whether it is required depends",
            "**ttl_sec**: \"Time to Live\" - the amount of time in seconds that this Domain's records may be cached by resolvers or other domain servers. Valid values are 300, 3600, 7200, 14400, 28800, 57600, 86400, 172800, 345600, 604800, 1209600, and 2419200 - any other value will be rounded to the nearest valid value.",
            "**type**: The type of Record this is in the DNS system. For example, A records associate a domain name with an IPv4 address, and AAAA records associate a domain name with an IPv6 address. For more information, see the guides on [DNS Record Types](/docs/products/networking/dns-manager/guides/#dns-record-types).",
            "**updated**: When this Domain Record was last updated.",
            "**weight**: The relative weight of this Record used in the case of identical priority. Higher values are preferred. Only valid and required for SRV record requests."
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
