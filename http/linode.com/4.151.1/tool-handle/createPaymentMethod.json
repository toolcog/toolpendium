{
  "name": "createPaymentMethod",
  "description": "Adds a Payment Method to your Account with the option to set it as the default method.\n\n* Adding a default Payment Method removes the default status from any other Payment Method.\n\n* An Account can have up to 6 active Payment Methods.\n\n* Up to 60 Payment Methods can be added each day.\n\n* Prior to adding a Payment Method, ensure that your billing address information is up-to-date\nwith a valid `zip` by using the Account Update ([PUT /account](/docs/api/account/#account-update)) endpoint.\n\n* A `payment_method_add` event is generated when a payment is successfully submitted.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "description": "The details of the Payment Method to add.",
        "properties": {
          "data": {
            "$ref": "#/$defs/CreditCard"
          },
          "is_default": {
            "$ref": "#/$defs/is_default"
          },
          "type": {
            "description": "The type of Payment Method.\n\nAlternative Payment Methods including Google Pay and PayPal can be added using the Cloud Manager. See the [Manage Payment Methods](/docs/products/platform/billing/guides/payment-methods/) guide\nfor details and instructions.\n",
            "enum": [
              "credit_card"
            ],
            "example": "credit_card",
            "type": "string"
          }
        },
        "required": [
          "type",
          "data",
          "is_default"
        ],
        "type": "object"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "CreditCard": {
        "description": "An object representing the credit card information you have on file with\nLinode to make Payments against your Account.\n",
        "properties": {
          "card_number": {
            "description": "Your credit card number. No spaces or dashes allowed.",
            "example": 4111111111111111,
            "format": "digits",
            "maxLength": 24,
            "minLength": 14,
            "type": "string"
          },
          "cvv": {
            "description": "CVV (Card Verification Value) of the credit card, typically found on the back of the card.\n",
            "example": "123",
            "format": "digits",
            "maxLength": 4,
            "minLength": 3,
            "type": "string"
          },
          "expiry_month": {
            "description": "A value from 1-12 representing the expiration month of your credit card.\n\n  * 1 = January\n  * 2 = February\n  * 3 = March\n  * Etc.\n",
            "example": 12,
            "maximum": 12,
            "minimum": 1,
            "type": "integer"
          },
          "expiry_year": {
            "description": "A four-digit integer representing the expiration year of\nyour credit card.\n\nThe combination of `expiry_month` and `expiry_year`\nmust result in a month/year combination of the current month or in\nthe future. An expiration date set in the past is invalid.\n",
            "example": 2020,
            "maxLength": 4,
            "minLength": 4,
            "type": "integer"
          }
        },
        "required": [
          "card_number",
          "expiry_month",
          "expiry_year",
          "cvv"
        ],
        "type": "object"
      },
      "is_default": {
        "description": "Whether this Payment Method is the default method for automatically processing service charges.\n",
        "example": true,
        "type": "boolean",
        "x-linode-cli-display": 3
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.linode.com/v4/account/payment-methods"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
