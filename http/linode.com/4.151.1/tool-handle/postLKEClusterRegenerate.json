{
  "name": "postLKEClusterRegenerate",
  "description": "Regenerate the Kubeconfig file and/or the service account token for a Cluster.\n\nThis is a helper command that allows performing both the [Kubeconfig Delete](#kubeconfig-delete) and the [Service Token Delete](#service-token-delete) actions with a single request.\n\nWhen using this command, at least one of `kubeconfig` or `servicetoken` is required.\n\n**Note**: When regenerating a service account token, the Cluster's control plane components and Linode CSI drivers are also restarted and configured with the new token. High Availability Clusters should not experience any disruption, while standard Clusters may experience brief control plane downtime while components are restarted.\n",
  "parameters": {
    "type": "object",
    "properties": {
      "clusterId": {
        "type": "integer",
        "description": "ID of the target Kubernetes cluster."
      },
      "body": {
        "properties": {
          "kubeconfig": {
            "default": false,
            "description": "Whether to delete and regenerate the Kubeconfig file for this Cluster.\n",
            "example": true,
            "type": "boolean"
          },
          "servicetoken": {
            "default": false,
            "description": "Whether to delete and regenerate the service access token for this Cluster.\n",
            "example": true,
            "type": "boolean"
          }
        },
        "description": "The Kubernetes Cluster Regenerate request object."
      }
    },
    "required": [
      "clusterId"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.linode.com/v4/lke/clusters/{clusterId}/regenerate"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**errors**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
