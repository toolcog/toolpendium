{
  "name": "addAction",
  "description": "Add an action",
  "parameters": {
    "type": "object",
    "properties": {
      "body": {
        "oneOf": [
          {
            "$ref": "#/$defs/AddActionCombineRequest"
          },
          {
            "$ref": "#/$defs/AddActionSmsRequest"
          },
          {
            "$ref": "#/$defs/AddActionWebhookRequest"
          },
          {
            "$ref": "#/$defs/AddActionDaemonRequest"
          },
          {
            "$ref": "#/$defs/AddActionSendRequest"
          },
          {
            "$ref": "#/$defs/AddActionForwardRequest"
          },
          {
            "$ref": "#/$defs/AddActionForwardRequest"
          },
          {
            "$ref": "#/$defs/AddActionReplyRequest"
          },
          {
            "$ref": "#/$defs/AddActionReplyAllRequest"
          },
          {
            "$ref": "#/$defs/AddActionAliasRequest"
          }
        ],
        "description": "Add action body"
      }
    },
    "required": [
      "body"
    ],
    "$defs": {
      "AddActionCombineRequest": {
        "properties": {
          "list": {
            "items": {
              "type": "string"
            },
            "type": "array"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "list"
        ]
      },
      "AddActionSmsRequest": {
        "properties": {
          "config": {
            "properties": {
              "number": {
                "type": "string"
              },
              "text": {
                "type": "string"
              }
            },
            "required": [
              "number",
              "text"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "sms"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionWebhookRequest": {
        "properties": {
          "config": {
            "properties": {
              "body": {
                "type": "string"
              },
              "opts": {
                "properties": {
                  "headers": {
                    "type": "object"
                  },
                  "method": {
                    "enum": [
                      "POST",
                      "GET",
                      "DELETE"
                    ],
                    "type": "string"
                  }
                },
                "required": [
                  "headers",
                  "method"
                ],
                "type": "object"
              },
              "url": {
                "type": "string"
              }
            },
            "required": [
              "url",
              "opts",
              "body"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "webhook"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionDaemonRequest": {
        "properties": {
          "config": {
            "properties": {
              "body": {
                "type": "string"
              },
              "daemon": {
                "type": "string"
              }
            },
            "required": [
              "body"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "daemon"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionSendRequest": {
        "properties": {
          "config": {
            "properties": {
              "from": {
                "type": "string"
              },
              "html": {
                "type": "string"
              },
              "key": {
                "type": "string"
              },
              "subject": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "to": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "send"
                ],
                "type": "string"
              }
            },
            "required": [
              "send",
              "subject",
              "from",
              "key"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "mailscript-email"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionForwardRequest": {
        "properties": {
          "config": {
            "properties": {
              "forward": {
                "type": "string"
              },
              "from": {
                "type": "string"
              },
              "key": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "forward"
                ],
                "type": "string"
              }
            },
            "required": [
              "type",
              "forward",
              "from",
              "key"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "mailscript-email"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionReplyRequest": {
        "properties": {
          "config": {
            "properties": {
              "from": {
                "type": "string"
              },
              "html": {
                "type": "string"
              },
              "key": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "reply"
                ],
                "type": "string"
              }
            },
            "required": [
              "type",
              "from",
              "key"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "mailscript-email"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionReplyAllRequest": {
        "properties": {
          "config": {
            "properties": {
              "from": {
                "type": "string"
              },
              "html": {
                "type": "string"
              },
              "key": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "replyAll"
                ],
                "type": "string"
              }
            },
            "required": [
              "type",
              "from",
              "key"
            ],
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "mailscript-email"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      },
      "AddActionAliasRequest": {
        "properties": {
          "config": {
            "properties": {
              "alias": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "alias"
                ],
                "type": "string"
              }
            },
            "type": "object"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "enum": [
              "mailscript-email"
            ],
            "type": "string"
          }
        },
        "required": [
          "name",
          "type",
          "config"
        ]
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "https://api.mailscript.com/v2/actions"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**id**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "400": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "**Key properties:**",
        {
          "$ul": [
            "**error**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
