{
  "name": "GetCustomersCustomerCashBalanceTransactionsTransaction",
  "description": "<p>Retrieves a specific cash balance transaction, which updated the customerâ€™s <a href=\"/docs/payments/customer-balance\">cash balance</a>.</p>",
  "parameters": {
    "type": "object",
    "properties": {
      "customer": {
        "maxLength": 5000,
        "type": "string"
      },
      "expand": {
        "items": {
          "maxLength": 5000,
          "type": "string"
        },
        "type": "array",
        "description": "Specifies which fields in the response should be expanded."
      },
      "transaction": {
        "type": "string"
      },
      "body": {
        "additionalProperties": false,
        "properties": {},
        "type": "object"
      }
    },
    "required": [
      "customer",
      "transaction"
    ]
  },
  "handler": "http",
  "request": {
    "method": "GET",
    "url": {
      "$uri": "https://api.stripe.com//v1/customers/{customer}/cash_balance_transactions/{transaction}{?expand}"
    },
    "body": {
      "$": "body",
      "encode": "urlencoded"
    }
  },
  "responses": {
    "200": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "CustomerCashBalanceTransaction"
        },
        "Customers with certain payments enabled have a cash balance, representing funds that were paid\nby the customer to a merchant, but have not yet been allocated to a payment. Cash Balance Transactions\nrepresent when funds are moved into or out of this balance. This includes funding by the customer, allocation\nto payments, and refunds to the customer.",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**applied_to_payment**: ",
              {
                "$ul": [
                  "**payment_intent**: The [Payment Intent](https://stripe.com/docs/api/payment_intents/object) that funds were applied to."
                ]
              }
            ],
            "**created**: Time at which the object was created. Measured in seconds since the Unix epoch.",
            "**currency**: Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).",
            "**customer**: The customer whose available cash balance changed as a result of this transaction.",
            "**ending_balance**: The total available cash balance for the specified currency after this transaction was applied. Represented in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
            [
              "**funded**: ",
              {
                "$ul": [
                  [
                    "**bank_transfer**: ",
                    {
                      "$ul": [
                        [
                          "**eu_bank_transfer**: ",
                          {
                            "$ul": [
                              "**bic**: The BIC of the bank of the sender of the funding.",
                              "**iban_last4**: The last 4 digits of the IBAN of the sender of the funding.",
                              "**sender_name**: The full name of the sender, as supplied by the sending bank."
                            ]
                          }
                        ],
                        "**reference**: The user-supplied reference field on the bank transfer.",
                        "**type**: The funding method type used to fund the customer balance. Permitted values include: `eu_bank_transfer`, `gb_bank_transfer`, `jp_bank_transfer`, or `mx_bank_transfer`."
                      ]
                    }
                  ]
                ]
              }
            ],
            "**id**: Unique identifier for the object.",
            "**livemode**: Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
            "**net_amount**: The amount by which the cash balance changed, represented in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal). A positive value represents funds being added to the cash balance, a negative value represents funds being removed from the cash balance.",
            "**object**: String representing the object's type. Objects of the same type share the same value.",
            [
              "**refunded_from_payment**: ",
              {
                "$ul": [
                  "**refund**: The [Refund](https://stripe.com/docs/api/refunds/object) that moved these funds into the customer's cash balance."
                ]
              }
            ],
            "**type**: The type of the cash balance transaction. One of `applied_to_payment`, `unapplied_from_payment`, `refunded_from_payment`, `funded`, `return_initiated`, or `return_canceled`. New types may be added in future. See [Customer Balance](https://stripe.com/docs/payments/customer-balance#types) to learn more about these types.",
            [
              "**unapplied_from_payment**: ",
              {
                "$ul": [
                  "**payment_intent**: The [Payment Intent](https://stripe.com/docs/api/payment_intents/object) that funds were unapplied from."
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "default": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Object"
        },
        "An error response from the Stripe API",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**error**: ",
              {
                "$ul": [
                  "**charge**: For card errors, the ID of the failed charge.",
                  "**code**: For some errors that could be handled programmatically, a short string indicating the [error code](https://stripe.com/docs/error-codes) reported.",
                  "**decline_code**: For card errors resulting from a card issuer decline, a short string indicating the [card issuer's reason for the decline](https://stripe.com/docs/declines#issuer-declines) if they provide one.",
                  "**doc_url**: A URL to more information about the [error code](https://stripe.com/docs/error-codes) reported.",
                  "**message**: A human-readable message providing more details about the error. For card errors, these messages can be shown to your users.",
                  "**param**: If the error is parameter-specific, the parameter related to the error. For example, you can use this to display a message near the correct form field.",
                  "**payment_intent**",
                  "**payment_method**",
                  "**payment_method_type**: If the error is specific to the type of payment method, the payment method type that had a problem. This field is only populated for invoice-related errors.",
                  "**request_log_url**: A URL to the request log entry in your dashboard.",
                  [
                    "**setup_intent**: A SetupIntent guides you through the process of setting up and saving a customer's payment credentials for future payments.",
                    {
                      "$ul": [
                        "**application**: ID of the Connect application that created the SetupIntent.",
                        "**attach_to_self**: If present, the SetupIntent's payment method will be attached to the in-context Stripe Account.",
                        "**automatic_payment_methods**: Settings for automatic payment methods compatible with this Setup Intent",
                        "**cancellation_reason**: Reason for cancellation of this SetupIntent, one of `abandoned`, `requested_by_customer`, or `duplicate`.",
                        "**client_secret**: The client secret of this SetupIntent. Used for client-side retrieval using a publishable key.",
                        "**created**: Time at which the object was created. Measured in seconds since the Unix epoch.",
                        "**customer**: ID of the Customer this SetupIntent belongs to, if one exists.",
                        "**description**: An arbitrary string attached to the object. Often useful for displaying to users.",
                        "**flow_directions**: Indicates the directions of money movement for which this payment method is intended to be used.",
                        "**id**: Unique identifier for the object.",
                        "**last_setup_error**: The error encountered in the previous SetupIntent confirmation.",
                        "**latest_attempt**: The most recent SetupAttempt for this SetupIntent.",
                        "**livemode**: Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
                        "**mandate**: ID of the multi use Mandate generated by the SetupIntent.",
                        "**metadata**: Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.",
                        "**next_action**: If present, this property tells you what actions you need to take in order for your customer to continue payment setup.",
                        "**object**: String representing the object's type. Objects of the same type share the same value.",
                        "**on_behalf_of**: The account (if any) for which the setup is intended.",
                        "**payment_method**: ID of the payment method used with this SetupIntent.",
                        "**payment_method_options**: Payment-method-specific configuration for this SetupIntent.",
                        "**payment_method_types**: The list of payment method types (e.g. card) that this SetupIntent is allowed to set up.",
                        "**single_use_mandate**: ID of the single_use Mandate generated by the SetupIntent.",
                        "**status**: [Status](https://stripe.com/docs/payments/intents#intent-statuses) of this SetupIntent, one of `requires_payment_method`, `requires_confirmation`, `requires_action`, `processing`, `canceled`, or `succeeded`.",
                        "**usage**: Indicates how the payment method is intended to be used in the future."
                      ]
                    }
                  ],
                  "**source**: The source object for errors returned on a request involving a source.",
                  "**type**: The type of error returned. One of `api_error`, `card_error`, `idempotency_error`, or `invalid_request_error`"
                ]
              }
            ]
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
