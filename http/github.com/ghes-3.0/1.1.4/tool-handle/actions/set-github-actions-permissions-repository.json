{
  "name": "actions_set-github-actions-permissions-repository",
  "description": "Sets the GitHub Actions permissions policy for enabling GitHub Actions and allowed actions in the repository.\n\nIf the repository belongs to an organization or enterprise that has set restrictive permissions at the organization or enterprise levels, such as `allowed_actions` to `selected` actions, then you cannot override them for the repository.\n\nYou must authenticate using an access token with the `repo` scope to use this endpoint. GitHub Apps must have the `administration` repository permission to use this API.",
  "parameters": {
    "type": "object",
    "properties": {
      "owner": {
        "type": "string"
      },
      "repo": {
        "type": "string"
      },
      "body": {
        "properties": {
          "allowed_actions": {
            "$ref": "#/$defs/allowed-actions"
          },
          "enabled": {
            "$ref": "#/$defs/actions-enabled"
          }
        },
        "required": [
          "enabled"
        ],
        "type": "object"
      }
    },
    "required": [
      "owner",
      "repo",
      "body"
    ],
    "$defs": {
      "allowed-actions": {
        "description": "The permissions policy that controls the actions that are allowed to run. Can be one of: `all`, `local_only`, or `selected`.",
        "enum": [
          "all",
          "local_only",
          "selected"
        ],
        "type": "string"
      },
      "actions-enabled": {
        "description": "Whether GitHub Actions is enabled on the repository.",
        "type": "boolean"
      }
    }
  },
  "handler": "http",
  "request": {
    "method": "PUT",
    "url": {
      "$uri": "http://HOSTNAME/api/v3/repos/{owner}/{repo}/actions/permissions"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {}
}
