{
  "name": "repos_rename-branch",
  "description": "Renames a branch in a repository.\n\n**Note:** Although the API responds immediately, the branch rename process might take some extra time to complete in the background. You won't be able to push to the old branch name while the rename process is in progress. For more information, see \"[Renaming a branch](https://docs.github.com/enterprise-server@3.1/github/administering-a-repository/renaming-a-branch)\".\n\nThe permissions required to use this endpoint depends on whether you are renaming the default branch.\n\nTo rename a non-default branch:\n\n* Users must have push access.\n* GitHub Apps must have the `contents:write` repository permission.\n\nTo rename the default branch:\n\n* Users must have admin or owner permissions.\n* GitHub Apps must have the `administration:write` repository permission.",
  "parameters": {
    "type": "object",
    "properties": {
      "owner": {
        "type": "string",
        "description": "The account owner of the repository. The name is not case sensitive."
      },
      "repo": {
        "type": "string",
        "description": "The name of the repository. The name is not case sensitive."
      },
      "branch": {
        "type": "string",
        "description": "The name of the branch."
      },
      "body": {
        "properties": {
          "new_name": {
            "description": "The new name of the branch.",
            "type": "string"
          }
        },
        "required": [
          "new_name"
        ],
        "type": "object"
      }
    },
    "required": [
      "owner",
      "repo",
      "branch",
      "body"
    ]
  },
  "handler": "http",
  "request": {
    "method": "POST",
    "url": {
      "$uri": "http://HOSTNAME/api/v3/repos/{owner}/{repo}/branches/{branch}/rename"
    },
    "body": {
      "$": "body",
      "encode": "json"
    }
  },
  "responses": {
    "201": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Branch With Protection"
        },
        "Branch With Protection",
        "**Key properties:**",
        {
          "$ul": [
            [
              "**_links**",
              {
                "$ul": [
                  "**html**",
                  "**self**"
                ]
              }
            ],
            [
              "**commit**: Commit",
              {
                "$ul": [
                  [
                    "**author**: Simple User",
                    {
                      "$ul": [
                        "**avatar_url**",
                        "**email**",
                        "**events_url**",
                        "**followers_url**",
                        "**following_url**",
                        "**gists_url**",
                        "**gravatar_id**",
                        "**html_url**",
                        "**id**",
                        "**login**",
                        "**name**",
                        "**node_id**",
                        "**organizations_url**",
                        "**received_events_url**",
                        "**repos_url**",
                        "**site_admin**",
                        "**starred_at**",
                        "**starred_url**",
                        "**subscriptions_url**",
                        "**type**",
                        "**url**"
                      ]
                    }
                  ],
                  "**comments_url**",
                  [
                    "**commit**",
                    {
                      "$ul": [
                        [
                          "**author**: Metaproperties for Git author/committer information.",
                          {
                            "$ul": [
                              "**date**",
                              "**email**",
                              "**name**"
                            ]
                          }
                        ],
                        "**comment_count**",
                        [
                          "**committer**: Metaproperties for Git author/committer information.",
                          {
                            "$ul": [
                              "**date**",
                              "**email**",
                              "**name**"
                            ]
                          }
                        ],
                        "**message**",
                        [
                          "**tree**",
                          {
                            "$ul": [
                              "**sha**",
                              "**url**"
                            ]
                          }
                        ],
                        "**url**",
                        [
                          "**verification**",
                          {
                            "$ul": [
                              "**payload**",
                              "**reason**",
                              "**signature**",
                              "**verified**"
                            ]
                          }
                        ]
                      ]
                    }
                  ],
                  [
                    "**committer**: Simple User",
                    {
                      "$ul": [
                        "**avatar_url**",
                        "**email**",
                        "**events_url**",
                        "**followers_url**",
                        "**following_url**",
                        "**gists_url**",
                        "**gravatar_id**",
                        "**html_url**",
                        "**id**",
                        "**login**",
                        "**name**",
                        "**node_id**",
                        "**organizations_url**",
                        "**received_events_url**",
                        "**repos_url**",
                        "**site_admin**",
                        "**starred_at**",
                        "**starred_url**",
                        "**subscriptions_url**",
                        "**type**",
                        "**url**"
                      ]
                    }
                  ],
                  "**files**",
                  "**html_url**",
                  "**node_id**",
                  "**parents**",
                  "**sha**",
                  [
                    "**stats**",
                    {
                      "$ul": [
                        "**additions**",
                        "**deletions**",
                        "**total**"
                      ]
                    }
                  ],
                  "**url**"
                ]
              }
            ],
            "**name**",
            "**pattern**",
            "**protected**",
            [
              "**protection**: Branch Protection",
              {
                "$ul": [
                  [
                    "**allow_deletions**",
                    {
                      "$ul": [
                        "**enabled**"
                      ]
                    }
                  ],
                  [
                    "**allow_force_pushes**",
                    {
                      "$ul": [
                        "**enabled**"
                      ]
                    }
                  ],
                  [
                    "**block_creations**",
                    {
                      "$ul": [
                        "**enabled**"
                      ]
                    }
                  ],
                  "**enabled**",
                  [
                    "**enforce_admins**: Protected Branch Admin Enforced",
                    {
                      "$ul": [
                        "**enabled**",
                        "**url**"
                      ]
                    }
                  ],
                  "**name**",
                  "**protection_url**",
                  [
                    "**required_conversation_resolution**",
                    {
                      "$ul": [
                        "**enabled**"
                      ]
                    }
                  ],
                  [
                    "**required_linear_history**",
                    {
                      "$ul": [
                        "**enabled**"
                      ]
                    }
                  ],
                  [
                    "**required_pull_request_reviews**: Protected Branch Pull Request Review",
                    {
                      "$ul": [
                        "**dismiss_stale_reviews**",
                        [
                          "**dismissal_restrictions**",
                          {
                            "$ul": [
                              "**apps**: The list of apps with review dismissal access.",
                              "**teams**: The list of teams with review dismissal access.",
                              "**teams_url**",
                              "**url**",
                              "**users**: The list of users with review dismissal access.",
                              "**users_url**"
                            ]
                          }
                        ],
                        "**require_code_owner_reviews**",
                        "**required_approving_review_count**",
                        "**url**"
                      ]
                    }
                  ],
                  [
                    "**required_signatures**",
                    {
                      "$ul": [
                        "**enabled**",
                        "**url**"
                      ]
                    }
                  ],
                  [
                    "**required_status_checks**: Protected Branch Required Status Check",
                    {
                      "$ul": [
                        "**contexts**",
                        "**contexts_url**",
                        "**enforcement_level**",
                        "**strict**",
                        "**url**"
                      ]
                    }
                  ],
                  [
                    "**restrictions**: Branch Restriction Policy",
                    {
                      "$ul": [
                        "**apps**",
                        "**apps_url**",
                        "**teams**",
                        "**teams_url**",
                        "**url**",
                        "**users**",
                        "**users_url**"
                      ]
                    }
                  ],
                  "**url**"
                ]
              }
            ],
            "**protection_url**",
            "**required_approving_review_count**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "403": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Basic Error"
        },
        "Basic Error",
        "**Key properties:**",
        {
          "$ul": [
            "**documentation_url**",
            "**message**",
            "**status**",
            "**url**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "404": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Basic Error"
        },
        "Basic Error",
        "**Key properties:**",
        {
          "$ul": [
            "**documentation_url**",
            "**message**",
            "**status**",
            "**url**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    },
    "422": {
      "$encode": "markdown",
      "$block": [
        {
          "$h1": "Validation Error"
        },
        "Validation Error",
        "**Key properties:**",
        {
          "$ul": [
            "**documentation_url**",
            "**errors**",
            "**message**"
          ]
        },
        {
          "$lang": "json",
          "$code": {
            "$encode": "json",
            "$indent": true,
            "$content": {
              "$": "$.body"
            }
          }
        }
      ]
    }
  }
}
